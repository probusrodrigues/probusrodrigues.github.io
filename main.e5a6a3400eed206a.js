"use strict";(self.webpackChunkPass=self.webpackChunkPass||[]).push([[179],{2514:(Ee,Q,w)=>{function C(e){return"function"==typeof e}function f(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const R=f(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function O(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class E{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(C(r))try{r()}catch(i){t=i instanceof R?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{H(i)}catch(s){t=t??[],s instanceof R?t=[...t,...s.errors]:t.push(s)}}if(t)throw new R(t)}}add(t){var n;if(t&&t!==this)if(this.closed)H(t);else{if(t instanceof E){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&O(n,t)}remove(t){const{_finalizers:n}=this;n&&O(n,t),t instanceof E&&t._removeParent(this)}}E.EMPTY=(()=>{const e=new E;return e.closed=!0,e})();const I=E.EMPTY;function v(e){return e instanceof E||e&&"closed"in e&&C(e.remove)&&C(e.add)&&C(e.unsubscribe)}function H(e){C(e)?e():e.unsubscribe()}const S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},V={setTimeout(e,t,...n){const{delegate:r}=V;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=V;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function N(e){V.setTimeout(()=>{const{onUnhandledError:t}=S;if(!t)throw e;t(e)})}function K(){}const ce=D("C",void 0,void 0);function D(e,t,n){return{kind:e,value:t,error:n}}let b=null;function j(e){if(S.useDeprecatedSynchronousErrorHandling){const t=!b;if(t&&(b={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=b;if(b=null,n)throw r}}else e()}class L extends E{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,v(t)&&t.add(this)):this.destination=$}static create(t,n,r){return new F(t,n,r)}next(t){this.isStopped?x(function se(e){return D("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?x(function q(e){return D("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?x(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ne=Function.prototype.bind;function le(e,t){return ne.call(e,t)}class pe{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){m(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){m(r)}else m(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){m(n)}}}class F extends L{constructor(t,n,r){let o;if(super(),C(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&S.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&le(t.next,i),error:t.error&&le(t.error,i),complete:t.complete&&le(t.complete,i)}):o=t}this.destination=new pe(o)}}function m(e){S.useDeprecatedSynchronousErrorHandling?function Y(e){S.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=e)}(e):N(e)}function x(e,t){const{onStoppedNotification:n}=S;n&&V.setTimeout(()=>n(e,t))}const $={closed:!0,next:K,error:function k(e){throw e},complete:K},ie="function"==typeof Symbol&&Symbol.observable||"@@observable";function ue(e){return e}function Me(e){return 0===e.length?ue:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let J=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function He(e){return e&&e instanceof L||function rt(e){return e&&C(e.next)&&C(e.error)&&C(e.complete)}(e)&&v(e)}(n)?n:new F(n,r,o);return j(()=>{const{operator:s,source:l}=this;i.add(s?s.call(i,l):l?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=nt(r))((o,i)=>{const s=new F({next:l=>{try{n(l)}catch(d){i(d),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ie](){return this}pipe(...n){return Me(n)(this)}toPromise(n){return new(n=nt(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function nt(e){var t;return null!==(t=e??S.Promise)&&void 0!==t?t:Promise}const Ie=f(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let _t=(()=>{class e extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ot(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ie}next(n){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?I:(this.currentObservers=null,i.push(n),new E(()=>{this.currentObservers=null,O(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new J;return n.source=this,n}}return e.create=(t,n)=>new Ot(t,n),e})();class Ot extends _t{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:I}}function Tt(e){return C(e?.lift)}function Qe(e){return t=>{if(Tt(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pe(e,t,n,r,o){return new hn(e,t,n,r,o)}class hn extends L{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(l){try{n(l)}catch(d){t.error(d)}}:super._next,this._error=o?function(l){try{o(l)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Re(e,t){return Qe((n,r)=>{let o=0;n.subscribe(Pe(r,i=>{r.next(e.call(t,i,o++))}))})}function Kt(e){return this instanceof Kt?(this.v=e,this):new Kt(e)}function da(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function la(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(l,d){!function o(i,s,l,d){Promise.resolve(d).then(function(h){i({value:h,done:l})},s)}(l,d,(s=e[i](s)).done,s.value)})}}}const pa=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function ga(e){return C(e?.then)}function Ro(e){return C(e[ie])}function fr(e){return Symbol.asyncIterator&&C(e?.[Symbol.asyncIterator])}function ma(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const _a=function ya(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Li(e){return C(e?.[_a])}function va(e){return function Ni(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(M){r[M]&&(o[M]=function(P){return new Promise(function(B,W){i.push([M,P,B,W])>1||l(M,P)})})}function l(M,P){try{!function d(M){M.value instanceof Kt?Promise.resolve(M.value.v).then(h,g):_(i[0][2],M)}(r[M](P))}catch(B){_(i[0][3],B)}}function h(M){l("next",M)}function g(M){l("throw",M)}function _(M,P){M(P),i.shift(),i.length&&l(i[0][0],i[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Kt(n.read());if(o)return yield Kt(void 0);yield yield Kt(r)}}finally{n.releaseLock()}})}function Ca(e){return C(e?.getReader)}function pn(e){if(e instanceof J)return e;if(null!=e){if(Ro(e))return function Hl(e){return new J(t=>{const n=e[ie]();if(C(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(pa(e))return function Bl(e){return new J(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(ga(e))return function Vl(e){return new J(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,N)})}(e);if(fr(e))return Ea(e);if(Li(e))return function $l(e){return new J(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Ca(e))return function Un(e){return Ea(va(e))}(e)}throw ma(e)}function Ea(e){return new J(t=>{(function Vr(e,t){var n,r,o,i;return function Pi(e,t,n,r){return new(n||(n=Promise))(function(i,s){function l(g){try{h(r.next(g))}catch(_){s(_)}}function d(g){try{h(r.throw(g))}catch(_){s(_)}}function h(g){g.done?i(g.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(g.value).then(l,d)}h((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=da(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function gn(e,t,n,r=0,o=!1){const i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function wt(e,t,n=1/0){return C(t)?wt((r,o)=>Re((i,s)=>t(r,i,o,s))(pn(e(r,o))),n):("number"==typeof t&&(n=t),Qe((r,o)=>function Fi(e,t,n,r,o,i,s,l){const d=[];let h=0,g=0,_=!1;const M=()=>{_&&!d.length&&!h&&t.complete()},P=W=>h<r?B(W):d.push(W),B=W=>{i&&t.next(W),h++;let te=!1;pn(n(W,g++)).subscribe(Pe(t,oe=>{o?.(oe),i?P(oe):t.next(oe)},()=>{te=!0},void 0,()=>{if(te)try{for(h--;d.length&&h<r;){const oe=d.shift();s?gn(t,s,()=>B(oe)):B(oe)}M()}catch(oe){t.error(oe)}}))};return e.subscribe(Pe(t,P,()=>{_=!0,M()})),()=>{l?.()}}(r,o,e,n)))}function pr(e=1/0){return wt(ue,e)}const tn=new J(e=>e.complete());function ko(e){return e&&C(e.schedule)}function $r(e){return e[e.length-1]}function Ui(e){return C($r(e))?e.pop():void 0}function so(e){return ko($r(e))?e.pop():void 0}function Hi(e,t=0){return Qe((n,r)=>{n.subscribe(Pe(r,o=>gn(r,e,()=>r.next(o),t),()=>gn(r,e,()=>r.complete(),t),o=>gn(r,e,()=>r.error(o),t)))})}function Ia(e,t=0){return Qe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Oo(e,t){if(!e)throw new Error("Iterable cannot be null");return new J(n=>{gn(n,t,()=>{const r=e[Symbol.asyncIterator]();gn(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function ze(e,t){return t?function Wl(e,t){if(null!=e){if(Ro(e))return function Aa(e,t){return pn(e).pipe(Ia(t),Hi(t))}(e,t);if(pa(e))return function Bi(e,t){return new J(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(ga(e))return function zl(e,t){return pn(e).pipe(Ia(t),Hi(t))}(e,t);if(fr(e))return Oo(e,t);if(Li(e))return function Gl(e,t){return new J(n=>{let r;return gn(n,t,()=>{r=e[_a](),gn(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>C(r?.return)&&r.return()})}(e,t);if(Ca(e))return function Kl(e,t){return Oo(va(e),t)}(e,t)}throw ma(e)}(e,t):pn(e)}function Vi(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new F({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function Xe(e){for(let t in e)if(e[t]===Xe)return t;throw Error("Could not find renamed property on target object.")}function $i(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ot(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ot).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ao(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const re=Xe({__forward_ref__:Xe});function a(e){return e.__forward_ref__=a,e.toString=function(){return ot(this())},e}function c(e){return u(e)?e():e}function u(e){return"function"==typeof e&&e.hasOwnProperty(re)&&e.__forward_ref__===a}function p(e){return e&&!!e.\u0275providers}const A="https://g.co/ng/security#xss";class T extends Error{constructor(t,n){super(z(t,n)),this.code=t}}function z(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function U(e){return"string"==typeof e?e:null==e?"":String(e)}function lt(e,t){throw new T(-201,!1)}function wn(e,t){null==e&&function Ye(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Te(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function mn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ta(e){return tp(e,wa)||tp(e,rp)}function tp(e,t){return e.hasOwnProperty(t)?e[t]:null}function np(e){return e&&(e.hasOwnProperty(Ql)||e.hasOwnProperty(gA))?e[Ql]:null}const wa=Xe({\u0275prov:Xe}),Ql=Xe({\u0275inj:Xe}),rp=Xe({ngInjectableDef:Xe}),gA=Xe({ngInjectorDef:Xe});var De=(()=>((De=De||{})[De.Default=0]="Default",De[De.Host=1]="Host",De[De.Self=2]="Self",De[De.SkipSelf=4]="SkipSelf",De[De.Optional=8]="Optional",De))();let Yl;function Sn(e){const t=Yl;return Yl=e,t}function op(e,t,n){const r=Ta(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&De.Optional?null:void 0!==t?t:void lt(ot(e))}const st=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zi={},Jl="__NG_DI_FLAG__",Sa="ngTempTokenPath",yA="ngTokenPath",_A=/\n/gm,vA="\u0275",ip="__source";let Gi;function No(e){const t=Gi;return Gi=e,t}function CA(e,t=De.Default){if(void 0===Gi)throw new T(-203,!1);return null===Gi?op(e,void 0,t):Gi.get(e,t&De.Optional?null:void 0,t)}function ye(e,t=De.Default){return(function mA(){return Yl}()||CA)(c(e),t)}function je(e,t=De.Default){return ye(e,Da(t))}function Da(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Xl(e){const t=[];for(let n=0;n<e.length;n++){const r=c(e[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let o,i=De.Default;for(let s=0;s<r.length;s++){const l=r[s],d=EA(l);"number"==typeof d?-1===d?o=l.token:i|=d:o=l}t.push(ye(o,i))}else t.push(ye(r))}return t}function Ki(e,t){return e[Jl]=t,e.prototype[Jl]=t,e}function EA(e){return e[Jl]}function mr(e){return{toString:e}.toString()}var Qn=(()=>((Qn=Qn||{})[Qn.OnPush=0]="OnPush",Qn[Qn.Default=1]="Default",Qn))(),Yn=(()=>{return(e=Yn||(Yn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Yn;var e})();const yr={},qe=[],ba=Xe({\u0275cmp:Xe}),eu=Xe({\u0275dir:Xe}),tu=Xe({\u0275pipe:Xe}),ap=Xe({\u0275mod:Xe}),_r=Xe({\u0275fac:Xe}),Wi=Xe({__NG_ELEMENT_ID__:Xe});let TA=0;function zr(e){return mr(()=>{const t=lp(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Qn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||Yn.Emulated,id:"c"+TA++,styles:e.styles||qe,_:null,schemas:e.schemas||null,tView:null};up(n);const r=e.dependencies;return n.directiveDefs=Ma(r,!1),n.pipeDefs=Ma(r,!0),n})}function SA(e){return Je(e)||Bt(e)}function DA(e){return null!==e}function Dn(e){return mr(()=>({type:e.type,bootstrap:e.bootstrap||qe,declarations:e.declarations||qe,imports:e.imports||qe,exports:e.exports||qe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function cp(e,t){if(null==e)return yr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,t&&(t[o]=i)}return n}function ke(e){return mr(()=>{const t=lp(e);return up(t),t})}function Je(e){return e[ba]||null}function Bt(e){return e[eu]||null}function rn(e){return e[tu]||null}function yn(e,t){const n=e[ap]||null;if(!n&&!0===t)throw new Error(`Type ${ot(e)} does not have '\u0275mod' property.`);return n}function lp(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||qe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cp(e.inputs,t),outputs:cp(e.outputs)}}function up(e){e.features?.forEach(t=>t(e))}function Ma(e,t){if(!e)return null;const n=t?rn:SA;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(DA)}const vr=0,fe=1,Fe=2,pt=3,Hn=4,lo=5,Vt=6,Lo=7,vt=8,Ra=9,ka=10,Be=11,nu=12,qi=13,dp=14,Fo=15,$t=16,Zi=17,Uo=18,Jn=19,Qi=20,hp=21,at=22,ru=1,fp=2,Oa=7,Pa=8,Ho=9,qt=10;function _n(e){return Array.isArray(e)&&"object"==typeof e[ru]}function Bn(e){return Array.isArray(e)&&!0===e[ru]}function ou(e){return 0!=(4&e.flags)}function Yi(e){return e.componentOffset>-1}function Na(e){return 1==(1&e.flags)}function Vn(e){return!!e.template}function MA(e){return 0!=(256&e[Fe])}function uo(e,t){return e.hasOwnProperty(_r)?e[_r]:null}class OA{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function bn(){return mp}function mp(e){return e.type.prototype.ngOnChanges&&(e.setInput=NA),PA}function PA(){const e=_p(this),t=e?.current;if(t){const n=e.previous;if(n===yr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function NA(e,t,n,r){const o=this.declaredInputs[n],i=_p(e)||function xA(e,t){return e[yp]=t}(e,{previous:yr,current:null}),s=i.current||(i.current={}),l=i.previous,d=l[o];s[o]=new OA(d&&d.currentValue,t,l===yr),e[r]=t}bn.ngInherit=!0;const yp="__ngSimpleChanges__";function _p(e){return e[yp]||null}const Mn=function(e,t,n){},vp="svg";function Nt(e){for(;Array.isArray(e);)e=e[vr];return e}function xa(e,t){return Nt(t[e])}function vn(e,t){return Nt(t[e.index])}function Ep(e,t){return e.data[t]}function on(e,t){const n=t[e];return _n(n)?n:n[vr]}function La(e){return 64==(64&e[Fe])}function Gr(e,t){return null==t?null:e[t]}function Ip(e){e[Uo]=0}function su(e,t){e[lo]+=t;let n=e,r=e[pt];for(;null!==r&&(1===t&&1===n[lo]||-1===t&&0===n[lo]);)r[lo]+=t,n=r,r=r[pt]}const Ne={lFrame:Op(null),bindingsEnabled:!0};function Tp(){return Ne.bindingsEnabled}function X(){return Ne.lFrame.lView}function We(){return Ne.lFrame.tView}function xt(){let e=wp();for(;null!==e&&64===e.type;)e=e.parent;return e}function wp(){return Ne.lFrame.currentTNode}function Xn(e,t){const n=Ne.lFrame;n.currentTNode=e,n.isParent=t}function au(){return Ne.lFrame.isParent}function Vo(){return Ne.lFrame.bindingIndex++}function QA(e,t){const n=Ne.lFrame;n.bindingIndex=n.bindingRootIndex=e,lu(t)}function lu(e){Ne.lFrame.currentDirectiveIndex=e}function du(e){Ne.lFrame.currentQueryIndex=e}function JA(e){const t=e[fe];return 2===t.type?t.declTNode:1===t.type?e[Vt]:null}function Rp(e,t,n){if(n&De.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||n&De.Host||(o=JA(i),null===o||(i=i[Fo],10&o.type))););if(null===o)return!1;t=o,e=i}const r=Ne.lFrame=kp();return r.currentTNode=t,r.lView=e,!0}function hu(e){const t=kp(),n=e[fe];Ne.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function kp(){const e=Ne.lFrame,t=null===e?null:e.child;return null===t?Op(e):t}function Op(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Pp(){const e=Ne.lFrame;return Ne.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Np=Pp;function fu(){const e=Pp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qt(){return Ne.lFrame.selectedIndex}function ho(e){Ne.lFrame.selectedIndex=e}function dt(){const e=Ne.lFrame;return Ep(e.tView,e.selectedIndex)}function Fa(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:g}=i;s&&(e.contentHooks??(e.contentHooks=[])).push(-n,s),l&&((e.contentHooks??(e.contentHooks=[])).push(n,l),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,l)),d&&(e.viewHooks??(e.viewHooks=[])).push(-n,d),h&&((e.viewHooks??(e.viewHooks=[])).push(n,h),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,h)),null!=g&&(e.destroyHooks??(e.destroyHooks=[])).push(n,g)}}function Ua(e,t,n){Fp(e,t,3,n)}function Ha(e,t,n,r){(3&e[Fe])===n&&Fp(e,t,n,r)}function pu(e,t){let n=e[Fe];(3&n)===t&&(n&=2047,n+=1,e[Fe]=n)}function Fp(e,t,n,r){const i=r??-1,s=t.length-1;let l=0;for(let d=void 0!==r?65535&e[Uo]:0;d<s;d++)if("number"==typeof t[d+1]){if(l=t[d],null!=r&&l>=r)break}else t[d]<0&&(e[Uo]+=65536),(l<i||-1==i)&&(iT(e,n,t,d),e[Uo]=(4294901760&e[Uo])+d+2),d++}function iT(e,t,n,r){const o=n[r]<0,i=n[r+1],l=e[o?-n[r]:n[r]];if(o){if(e[Fe]>>11<e[Uo]>>16&&(3&e[Fe])===t){e[Fe]+=2048,Mn(4,l,i);try{i.call(l)}finally{Mn(5,l,i)}}}else{Mn(4,l,i);try{i.call(l)}finally{Mn(5,l,i)}}}const $o=-1;class Xi{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function mu(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],s=n[r++],l=n[r++];e.setAttribute(t,s,l,i)}else{const i=o,s=n[++r];Hp(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function Up(e){return 3===e||4===e||6===e}function Hp(e){return 64===e.charCodeAt(0)}function es(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Bp(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Bp(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const l=e[i++];if("number"==typeof l){if(l===t){s=-1;break}if(l>t){s=i-1;break}}}for(;i<e.length;){const l=e[i];if("number"==typeof l)break;if(l===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}function Vp(e){return e!==$o}function Ba(e){return 32767&e}function Va(e,t){let n=function lT(e){return e>>16}(e),r=t;for(;n>0;)r=r[Fo],n--;return r}let yu=!0;function $a(e){const t=yu;return yu=e,t}const $p=255,jp=5;let uT=0;const er={};function ja(e,t){const n=zp(e,t);if(-1!==n)return n;const r=t[fe];r.firstCreatePass&&(e.injectorIndex=t.length,_u(r.data,e),_u(t,null),_u(r.blueprint,null));const o=vu(e,t),i=e.injectorIndex;if(Vp(o)){const s=Ba(o),l=Va(o,t),d=l[fe].data;for(let h=0;h<8;h++)t[i+h]=l[s+h]|d[s+h]}return t[i+8]=o,i}function _u(e,t){e.push(0,0,0,0,0,0,0,0,t)}function zp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function vu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Yp(o),null===r)return $o;if(n++,o=o[Fo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return $o}function Cu(e,t,n){!function dT(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Wi)&&(r=n[Wi]),null==r&&(r=n[Wi]=uT++);const o=r&$p;t.data[e+(o>>jp)]|=1<<o}(e,t,n)}function Gp(e,t,n){if(n&De.Optional||void 0!==e)return e;lt()}function Kp(e,t,n,r){if(n&De.Optional&&void 0===r&&(r=null),!(n&(De.Self|De.Host))){const o=e[Ra],i=Sn(void 0);try{return o?o.get(t,r,n&De.Optional):op(t,r,n&De.Optional)}finally{Sn(i)}}return Gp(r,0,n)}function Wp(e,t,n,r=De.Default,o){if(null!==e){if(1024&t[Fe]){const s=function mT(e,t,n,r,o){let i=e,s=t;for(;null!==i&&null!==s&&1024&s[Fe]&&!(256&s[Fe]);){const l=qp(i,s,n,r|De.Self,er);if(l!==er)return l;let d=i.parent;if(!d){const h=s[hp];if(h){const g=h.get(n,er,r);if(g!==er)return g}d=Yp(s),s=s[Fo]}i=d}return o}(e,t,n,r,er);if(s!==er)return s}const i=qp(e,t,n,r,er);if(i!==er)return i}return Kp(t,n,r,o)}function qp(e,t,n,r,o){const i=function pT(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Wi)?e[Wi]:void 0;return"number"==typeof t?t>=0?t&$p:gT:t}(n);if("function"==typeof i){if(!Rp(t,e,r))return r&De.Host?Gp(o,0,r):Kp(t,n,r,o);try{const s=i(r);if(null!=s||r&De.Optional)return s;lt()}finally{Np()}}else if("number"==typeof i){let s=null,l=zp(e,t),d=$o,h=r&De.Host?t[$t][Vt]:null;for((-1===l||r&De.SkipSelf)&&(d=-1===l?vu(e,t):t[l+8],d!==$o&&Qp(r,!1)?(s=t[fe],l=Ba(d),t=Va(d,t)):l=-1);-1!==l;){const g=t[fe];if(Zp(i,l,g.data)){const _=fT(l,t,n,s,r,h);if(_!==er)return _}d=t[l+8],d!==$o&&Qp(r,t[fe].data[l+8]===h)&&Zp(i,l,t)?(s=g,l=Ba(d),t=Va(d,t)):l=-1}}return o}function fT(e,t,n,r,o,i){const s=t[fe],l=s.data[e+8],g=function za(e,t,n,r,o){const i=e.providerIndexes,s=t.data,l=1048575&i,d=e.directiveStart,g=i>>20,M=o?l+g:e.directiveEnd;for(let P=r?l:l+g;P<M;P++){const B=s[P];if(P<d&&n===B||P>=d&&B.type===n)return P}if(o){const P=s[d];if(P&&Vn(P)&&P.type===n)return d}return null}(l,s,n,null==r?Yi(l)&&yu:r!=s&&0!=(3&l.type),o&De.Host&&i===l);return null!==g?fo(t,s,g,l):er}function fo(e,t,n,r){let o=e[n];const i=t.data;if(function sT(e){return e instanceof Xi}(o)){const s=o;s.resolving&&function _e(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new T(-200,`Circular dependency in DI detected for ${e}${n}`)}(function G(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():U(e)}(i[n]));const l=$a(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?Sn(s.injectImpl):null;Rp(e,r,De.Default);try{o=e[n]=s.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function oT(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const s=mp(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,s)}o&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,o),i&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t)}finally{null!==d&&Sn(d),$a(l),s.resolving=!1,Np()}}return o}function Zp(e,t,n){return!!(n[t+(e>>jp)]&1<<e)}function Qp(e,t){return!(e&De.Self||e&De.Host&&t)}class jo{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Wp(this._tNode,this._lView,t,Da(r),n)}}function gT(){return new jo(xt(),X())}function Lt(e){return mr(()=>{const t=e.prototype.constructor,n=t[_r]||Eu(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[_r]||Eu(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Eu(e){return u(e)?()=>{const t=Eu(c(e));return t&&t()}:uo(e)}function Yp(e){const t=e[fe],n=t.type;return 2===n?t.declTNode:1===n?e[Vt]:null}const Go="__parameters__";function Wo(e,t,n){return mr(()=>{const r=function Iu(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return l.annotation=s,l;function l(d,h,g){const _=d.hasOwnProperty(Go)?d[Go]:Object.defineProperty(d,Go,{value:[]})[Go];for(;_.length<=g;)_.push(null);return(_[g]=_[g]||[]).push(s),d}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class Ce{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Te({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function po(e,t){e.forEach(n=>Array.isArray(n)?po(n,t):t(n))}function Xp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ka(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Cn(e,t,n){let r=qo(e,t);return r>=0?e[1|r]=n:(r=~r,function CT(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Tu(e,t){const n=qo(e,t);if(n>=0)return e[1|n]}function qo(e,t){return function eg(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const os=Ki(Wo("Optional"),8),is=Ki(Wo("SkipSelf"),4);var sn=(()=>((sn=sn||{})[sn.Important=1]="Important",sn[sn.DashCase=2]="DashCase",sn))();const Ru=new Map;let $T=0;const Ou="__ngContext__";function jt(e,t){_n(t)?(e[Ou]=t[Qi],function zT(e){Ru.set(e[Qi],e)}(t)):e[Ou]=t}let Pu;function Nu(e,t){return Pu(e,t)}function ls(e){const t=e[pt];return Bn(t)?t[pt]:t}function xu(e){return Cg(e[qi])}function Lu(e){return Cg(e[Hn])}function Cg(e){for(;null!==e&&!Bn(e);)e=e[Hn];return e}function Qo(e,t,n,r,o){if(null!=r){let i,s=!1;Bn(r)?i=r:_n(r)&&(s=!0,r=r[vr]);const l=Nt(r);0===e&&null!==n?null==o?Sg(t,n,l):go(t,n,l,o||null,!0):1===e&&null!==n?go(t,n,l,o||null,!0):2===e?function ju(e,t,n){const r=Qa(e,t);r&&function uw(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,l,s):3===e&&t.destroyNode(l),null!=i&&function fw(e,t,n,r,o){const i=n[Oa];i!==Nt(n)&&Qo(t,e,r,i,o);for(let l=qt;l<n.length;l++){const d=n[l];us(d[fe],d,e,t,r,i)}}(t,e,i,n,o)}}function Uu(e,t,n){return e.createElement(t,n)}function Ig(e,t){const n=e[Ho],r=n.indexOf(t),o=t[pt];512&t[Fe]&&(t[Fe]&=-513,su(o,-1)),n.splice(r,1)}function Hu(e,t){if(e.length<=qt)return;const n=qt+t,r=e[n];if(r){const o=r[Zi];null!==o&&o!==e&&Ig(o,r),t>0&&(e[n-1][Hn]=r[Hn]);const i=Ka(e,qt+t);!function nw(e,t){us(e,t,t[Be],2,null,null),t[vr]=null,t[Vt]=null}(r[fe],r);const s=i[Jn];null!==s&&s.detachView(i[fe]),r[pt]=null,r[Hn]=null,r[Fe]&=-65}return r}function Ag(e,t){if(!(128&t[Fe])){const n=t[Be];n.destroyNode&&us(e,t,n,3,null,null),function iw(e){let t=e[qi];if(!t)return Bu(e[fe],e);for(;t;){let n=null;if(_n(t))n=t[qi];else{const r=t[qt];r&&(n=r)}if(!n){for(;t&&!t[Hn]&&t!==e;)_n(t)&&Bu(t[fe],t),t=t[pt];null===t&&(t=e),_n(t)&&Bu(t[fe],t),n=t&&t[Hn]}t=n}}(t)}}function Bu(e,t){if(!(128&t[Fe])){t[Fe]&=-65,t[Fe]|=128,function lw(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Xi)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const l=o[i[s]],d=i[s+1];Mn(4,l,d);try{d.call(l)}finally{Mn(5,l,d)}}else{Mn(4,o,i);try{i.call(o)}finally{Mn(5,o,i)}}}}}(e,t),function cw(e,t){const n=e.cleanup,r=t[Lo];let o=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=n[i+1]];n[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();t[Lo]=null}}(e,t),1===t[fe].type&&t[Be].destroy();const n=t[Zi];if(null!==n&&Bn(t[pt])){n!==t[pt]&&Ig(n,t);const r=t[Jn];null!==r&&r.detachView(e)}!function GT(e){Ru.delete(e[Qi])}(t)}}function Tg(e,t,n){return function wg(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[vr];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=e.data[r.directiveStart+o];if(i===Yn.None||i===Yn.Emulated)return null}return vn(r,n)}}(e,t.parent,n)}function go(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Sg(e,t,n){e.appendChild(t,n)}function Dg(e,t,n,r,o){null!==r?go(e,t,n,r,o):Sg(e,t,n)}function Qa(e,t){return e.parentNode(t)}let Vu,Ku,ec,Rg=function Mg(e,t,n){return 40&e.type?vn(e,n):null};function Ya(e,t,n,r){const o=Tg(e,r,t),i=t[Be],l=function bg(e,t,n){return Rg(e,t,n)}(r.parent||t[Vt],r,t);if(null!=o)if(Array.isArray(n))for(let d=0;d<n.length;d++)Dg(i,o,n[d],l,!1);else Dg(i,o,n,l,!1);void 0!==Vu&&Vu(i,r,t,n,o)}function Ja(e,t){if(null!==t){const n=t.type;if(3&n)return vn(t,e);if(4&n)return $u(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Ja(e,r);{const o=e[t.index];return Bn(o)?$u(-1,o):Nt(o)}}if(32&n)return Nu(t,e)()||Nt(e[t.index]);{const r=Og(e,t);return null!==r?Array.isArray(r)?r[0]:Ja(ls(e[$t]),r):Ja(e,t.next)}}return null}function Og(e,t){return null!==t?e[$t][Vt].projection[t.projection]:null}function $u(e,t){const n=qt+e+1;if(n<t.length){const r=t[n],o=r[fe].firstChild;if(null!==o)return Ja(r,o)}return t[Oa]}function zu(e,t,n,r,o,i,s){for(;null!=n;){const l=r[n.index],d=n.type;if(s&&0===t&&(l&&jt(Nt(l),r),n.flags|=2),32!=(32&n.flags))if(8&d)zu(e,t,n.child,r,o,i,!1),Qo(t,e,o,l,i);else if(32&d){const h=Nu(n,r);let g;for(;g=h();)Qo(t,e,o,g,i);Qo(t,e,o,l,i)}else 16&d?Pg(e,t,r,n,o,i):Qo(t,e,o,l,i);n=s?n.projectionNext:n.next}}function us(e,t,n,r,o,i){zu(n,r,e.firstChild,t,o,i,!1)}function Pg(e,t,n,r,o,i){const s=n[$t],d=s[Vt].projection[r.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++)Qo(t,e,o,d[h],i);else zu(e,t,d,s[pt],o,i,!0)}function Ng(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function xg(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&mu(e,t,r),null!==o&&Ng(e,t,o),null!==i&&function gw(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}function Hg(e){return function Wu(){if(void 0===ec&&(ec=null,st.trustedTypes))try{ec=st.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ec}()?.createScriptURL(e)||e}class Bg{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${A})`}}function Kr(e){return e instanceof Bg?e.changingThisBreaksApplicationSecurity:e}function ds(e,t){const n=function ww(e){return e instanceof Bg&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${A})`)}return n===t}const Mw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var St=(()=>((St=St||{})[St.NONE=0]="NONE",St[St.HTML=1]="HTML",St[St.STYLE=2]="STYLE",St[St.SCRIPT=3]="SCRIPT",St[St.URL=4]="URL",St[St.RESOURCE_URL=5]="RESOURCE_URL",St))();function Wg(e){const t=fs();return t?t.sanitize(St.URL,e)||"":ds(e,"URL")?Kr(e):function qu(e){return(e=String(e)).match(Mw)?e:"unsafe:"+e}(U(e))}function qg(e){const t=fs();if(t)return Hg(t.sanitize(St.RESOURCE_URL,e)||"");if(ds(e,"ResourceURL"))return Hg(Kr(e));throw new T(904,!1)}function fs(){const e=X();return e&&e[nu]}const nc=new Ce("ENVIRONMENT_INITIALIZER"),Qg=new Ce("INJECTOR",-1),Yg=new Ce("INJECTOR_DEF_TYPES");class Jg{get(t,n=zi){if(n===zi){const r=new Error(`NullInjectorError: No provider for ${ot(t)}!`);throw r.name="NullInjectorError",r}return n}}function $w(...e){return{\u0275providers:Xg(0,e),\u0275fromNgModule:!0}}function Xg(e,...t){const n=[],r=new Set;let o;return po(t,i=>{const s=i;Ju(s,n,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&em(o,n),n}function em(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];Xu(o,i=>{t.push(i)})}}function Ju(e,t,n,r){if(!(e=c(e)))return!1;let o=null,i=np(e);const s=!i&&Je(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const d=e.ngModule;if(i=np(d),!i)return!1;o=d}const l=r.has(o);if(s){if(l)return!1;if(r.add(o),s.dependencies){const d="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const h of d)Ju(h,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!l){let h;r.add(o);try{po(i.imports,g=>{Ju(g,t,n,r)&&(h||(h=[]),h.push(g))})}finally{}void 0!==h&&em(h,t)}if(!l){const h=uo(o)||(()=>new o);t.push({provide:o,useFactory:h,deps:qe},{provide:Yg,useValue:o,multi:!0},{provide:nc,useValue:()=>ye(o),multi:!0})}const d=i.providers;null==d||l||Xu(d,g=>{t.push(g)})}}return o!==e&&void 0!==e.providers}function Xu(e,t){for(let n of e)p(n)&&(n=n.\u0275providers),Array.isArray(n)?Xu(n,t):t(n)}const jw=Xe({provide:String,useValue:Xe});function ed(e){return null!==e&&"object"==typeof e&&jw in e}function mo(e){return"function"==typeof e}const td=new Ce("Set Injector scope."),rc={},Gw={};let nd;function oc(){return void 0===nd&&(nd=new Jg),nd}class Ar{}class rm extends Ar{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,od(t,s=>this.processProvider(s)),this.records.set(Qg,Jo(void 0,this)),o.has("environment")&&this.records.set(Ar,Jo(void 0,this));const i=this.records.get(td);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Yg.multi,qe,De.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=No(this),r=Sn(void 0);try{return t()}finally{No(n),Sn(r)}}get(t,n=zi,r=De.Default){this.assertNotDestroyed(),r=Da(r);const o=No(this),i=Sn(void 0);try{if(!(r&De.SkipSelf)){let l=this.records.get(t);if(void 0===l){const d=function Qw(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ce}(t)&&Ta(t);l=d&&this.injectableDefInScope(d)?Jo(rd(t),rc):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&De.Self?oc():this.parent).get(t,n=r&De.Optional&&n===zi?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Sa]=s[Sa]||[]).unshift(ot(t)),o)throw s;return function IA(e,t,n,r){const o=e[Sa];throw t[ip]&&o.unshift(t[ip]),e.message=function AA(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==vA?e.slice(2):e;let o=ot(t);if(Array.isArray(t))o=t.map(ot).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let l=t[s];i.push(s+":"+("string"==typeof l?JSON.stringify(l):ot(l)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(_A,"\n  ")}`}("\n"+e.message,o,n,r),e[yA]=o,e[Sa]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{Sn(i),No(o)}}resolveInjectorInitializers(){const t=No(this),n=Sn(void 0);try{const r=this.get(nc.multi,qe,De.Self);for(const o of r)o()}finally{No(t),Sn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ot(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(t){let n=mo(t=c(t))?t:c(t&&t.provide);const r=function Ww(e){return ed(e)?Jo(void 0,e.useValue):Jo(om(e),rc)}(t);if(mo(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Jo(void 0,rc,!0),o.factory=()=>Xl(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===rc&&(n.value=Gw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Zw(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=c(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function rd(e){const t=Ta(e),n=null!==t?t.factory:uo(e);if(null!==n)return n;if(e instanceof Ce)throw new T(204,!1);if(e instanceof Function)return function Kw(e){const t=e.length;if(t>0)throw function rs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new T(204,!1);const n=function pA(e){return e&&(e[wa]||e[rp])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new T(204,!1)}function om(e,t,n){let r;if(mo(e)){const o=c(e);return uo(o)||rd(o)}if(ed(e))r=()=>c(e.useValue);else if(function nm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Xl(e.deps||[]));else if(function tm(e){return!(!e||!e.useExisting)}(e))r=()=>ye(c(e.useExisting));else{const o=c(e&&(e.useClass||e.provide));if(!function qw(e){return!!e.deps}(e))return uo(o)||rd(o);r=()=>new o(...Xl(e.deps))}return r}function Jo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function od(e,t){for(const n of e)Array.isArray(n)?od(n,t):n&&p(n)?od(n.\u0275providers,t):t(n)}class Yw{}class im{}class Xw{resolveComponentFactory(t){throw function Jw(e){const t=Error(`No component factory found for ${ot(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let ps=(()=>{class e{}return e.NULL=new Xw,e})();function eS(){return Xo(xt(),X())}function Xo(e,t){return new En(vn(e,t))}let En=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=eS,e})();class am{}let Tr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function nS(){const e=X(),n=on(xt().index,e);return(_n(n)?n:e)[Be]}(),e})(),rS=(()=>{class e{}return e.\u0275prov=Te({token:e,providedIn:"root",factory:()=>null}),e})();class gs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const oS=new gs("15.2.10"),id={},sd="ngOriginalError";function ad(e){return e[sd]}class ei{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&ad(t);for(;n&&ad(n);)n=ad(n);return n||null}}function wr(e){return e instanceof Function?e():e}function lm(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}const um="ng-template";function gS(e,t,n){let r=0,o=!0;for(;r<e.length;){let i=e[r++];if("string"==typeof i&&o){const s=e[r++];if(n&&"class"===i&&-1!==lm(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function dm(e){return 4===e.type&&e.value!==um}function mS(e,t,n){return t===(4!==e.type||n?e.value:um)}function yS(e,t,n){let r=4;const o=e.attrs||[],i=function CS(e){for(let t=0;t<e.length;t++)if(Up(e[t]))return t;return e.length}(o);let s=!1;for(let l=0;l<t.length;l++){const d=t[l];if("number"!=typeof d){if(!s)if(4&r){if(r=2|1&r,""!==d&&!mS(e,d,n)||""===d&&1===t.length){if($n(r))return!1;s=!0}}else{const h=8&r?d:t[++l];if(8&r&&null!==e.attrs){if(!gS(e.attrs,h,n)){if($n(r))return!1;s=!0}continue}const _=_S(8&r?"class":d,o,dm(e),n);if(-1===_){if($n(r))return!1;s=!0;continue}if(""!==h){let M;M=_>i?"":o[_+1].toLowerCase();const P=8&r?M:null;if(P&&-1!==lm(P,h,0)||2&r&&h!==M){if($n(r))return!1;s=!0}}}}else{if(!s&&!$n(r)&&!$n(d))return!1;if(s&&$n(d))continue;s=!1,r=d|1&r}}return $n(r)||s}function $n(e){return 0==(1&e)}function _S(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let l=t[++o];for(;"string"==typeof l;)l=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function ES(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function hm(e,t,n=!1){for(let r=0;r<t.length;r++)if(yS(e,t[r],n))return!0;return!1}function fm(e,t){return e?":not("+t.trim()+")":t}function AS(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const l=e[++n];o+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!$n(s)&&(t+=fm(i,o),o=""),r=s,i=i||!$n(r);n++}return""!==o&&(t+=fm(i,o)),t}const xe={};function et(e){pm(We(),X(),Qt()+e,!1)}function pm(e,t,n,r){if(!r)if(3==(3&t[Fe])){const i=e.preOrderCheckHooks;null!==i&&Ua(t,i,n)}else{const i=e.preOrderHooks;null!==i&&Ha(t,i,0,n)}ho(n)}function _m(e,t=null,n=null,r){const o=vm(e,t,n,r);return o.resolveInjectorInitializers(),o}function vm(e,t=null,n=null,r,o=new Set){const i=[n||qe,$w(e)];return r=r||("object"==typeof e?void 0:ot(e)),new rm(i,t||oc(),r||null,o)}let tr=(()=>{class e{static create(n,r){if(Array.isArray(n))return _m({name:""},r,n,"");{const o=n.name??"";return _m({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=zi,e.NULL=new Jg,e.\u0275prov=Te({token:e,providedIn:"any",factory:()=>ye(Qg)}),e.__NG_ELEMENT_ID__=-1,e})();function ee(e,t=De.Default){const n=X();return null===n?ye(e,t):Wp(xt(),n,c(e),t)}function Dm(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r+1];if(-1!==i){const s=e.data[i];du(n[r]),s.contentQueries(2,t[i],i)}}}function sc(e,t,n,r,o,i,s,l,d,h,g){const _=t.blueprint.slice();return _[vr]=o,_[Fe]=76|r,(null!==g||e&&1024&e[Fe])&&(_[Fe]|=1024),Ip(_),_[pt]=_[Fo]=e,_[vt]=n,_[ka]=s||e&&e[ka],_[Be]=l||e&&e[Be],_[nu]=d||e&&e[nu]||null,_[Ra]=h||e&&e[Ra]||null,_[Vt]=i,_[Qi]=function jT(){return $T++}(),_[hp]=g,_[$t]=2==t.type?e[$t]:_,_}function ri(e,t,n,r,o){let i=e.data[t];if(null===i)i=function hd(e,t,n,r,o){const i=wp(),s=au(),d=e.data[t]=function ZS(e,t,n,r,o,i){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=d),null!==i&&(s?null==i.child&&null!==d.parent&&(i.child=d):null===i.next&&(i.next=d,d.prev=i)),d}(e,t,n,r,o),function ZA(){return Ne.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function Ji(){const e=Ne.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Xn(i,!0),i}function ms(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function fd(e,t,n){hu(t);try{const r=e.viewQuery;null!==r&&Id(1,r,n);const o=e.template;null!==o&&bm(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Dm(e,t),e.staticViewQueries&&Id(2,e.viewQuery,n);const i=e.components;null!==i&&function KS(e,t){for(let n=0;n<t.length;n++)gD(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Fe]&=-5,fu()}}function ac(e,t,n,r){const o=t[Fe];if(128!=(128&o)){hu(t);try{Ip(t),function Dp(e){return Ne.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&bm(e,t,n,2,r);const s=3==(3&o);if(s){const h=e.preOrderCheckHooks;null!==h&&Ua(t,h,null)}else{const h=e.preOrderHooks;null!==h&&Ha(t,h,0,null),pu(t,0)}if(function fD(e){for(let t=xu(e);null!==t;t=Lu(t)){if(!t[fp])continue;const n=t[Ho];for(let r=0;r<n.length;r++){const o=n[r];512&o[Fe]||su(o[pt],1),o[Fe]|=512}}}(t),function hD(e){for(let t=xu(e);null!==t;t=Lu(t))for(let n=qt;n<t.length;n++){const r=t[n],o=r[fe];La(r)&&ac(o,r,o.template,r[vt])}}(t),null!==e.contentQueries&&Dm(e,t),s){const h=e.contentCheckHooks;null!==h&&Ua(t,h)}else{const h=e.contentHooks;null!==h&&Ha(t,h,1),pu(t,1)}!function zS(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)ho(~o);else{const i=o,s=n[++r],l=n[++r];QA(s,i),l(2,t[i])}}}finally{ho(-1)}}(e,t);const l=e.components;null!==l&&function GS(e,t){for(let n=0;n<t.length;n++)pD(e,t[n])}(t,l);const d=e.viewQuery;if(null!==d&&Id(2,d,r),s){const h=e.viewCheckHooks;null!==h&&Ua(t,h)}else{const h=e.viewHooks;null!==h&&Ha(t,h,2),pu(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Fe]&=-41,512&t[Fe]&&(t[Fe]&=-513,su(t[pt],-1))}finally{fu()}}}function bm(e,t,n,r,o){const i=Qt(),s=2&r;try{ho(-1),s&&t.length>at&&pm(e,t,at,!1),Mn(s?2:0,o),n(r,o)}finally{ho(i),Mn(s?3:1,o)}}function pd(e,t,n){if(ou(t)){const o=t.directiveEnd;for(let i=t.directiveStart;i<o;i++){const s=e.data[i];s.contentQueries&&s.contentQueries(1,n[i],i)}}}function gd(e,t,n){Tp()&&(function nD(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;Yi(n)&&function lD(e,t,n){const r=vn(t,e),o=Mm(n),i=e[ka],s=cc(e,sc(e,o,null,n.onPush?32:16,r,t,i,i.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||ja(n,t),jt(r,t);const s=n.initialInputs;for(let l=o;l<i;l++){const d=e.data[l],h=fo(t,e,l,n);jt(h,t),null!==s&&uD(0,l-o,h,d,0,s),Vn(d)&&(on(n.index,t)[vt]=fo(t,e,l,n))}}(e,t,n,vn(n,t)),64==(64&n.flags)&&Nm(e,t,n))}function md(e,t,n=vn){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],l=-1===s?n(t,e):e[s];e[o++]=l}}}function Mm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=yd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function yd(e,t,n,r,o,i,s,l,d,h){const g=at+r,_=g+o,M=function WS(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:xe);return n}(g,_),P="function"==typeof h?h():h;return M[fe]={type:e,blueprint:M,template:n,queries:null,viewQuery:l,declTNode:t,data:M.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:d,consts:P,incompleteFirstPass:!1}}function km(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const i=e[o];null===r?Om(n,t,o,i):r.hasOwnProperty(o)&&Om(n,t,r[o],i)}return n}function Om(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function _d(e,t,n,r){if(Tp()){const o=null===r?null:{"":-1},i=function oD(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const s=n[i];if(hm(t,s.selectors,!1))if(r||(r=[]),Vn(s))if(null!==s.findHostDirectiveDefs){const l=[];o=o||new Map,s.findHostDirectiveDefs(s,l,o),r.unshift(...l,s),vd(e,t,l.length)}else r.unshift(s),vd(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(e,n);let s,l;null===i?s=l=null:[s,l]=i,null!==s&&Pm(e,t,n,s,o,l),o&&function iD(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new T(-301,!1);r.push(t[o],i)}}}(n,r,o)}n.mergedAttrs=es(n.mergedAttrs,n.attrs)}function Pm(e,t,n,r,o,i){for(let h=0;h<r.length;h++)Cu(ja(n,t),e,r[h].type);!function aD(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let h=0;h<r.length;h++){const g=r[h];g.providersResolver&&g.providersResolver(g)}let s=!1,l=!1,d=ms(e,t,r.length,null);for(let h=0;h<r.length;h++){const g=r[h];n.mergedAttrs=es(n.mergedAttrs,g.hostAttrs),cD(e,n,t,d,g),sD(d,g,o),null!==g.contentQueries&&(n.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(n.flags|=64);const _=g.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),s=!0),!l&&(_.ngOnChanges||_.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),l=!0),d++}!function QS(e,t,n){const o=t.directiveEnd,i=e.data,s=t.attrs,l=[];let d=null,h=null;for(let g=t.directiveStart;g<o;g++){const _=i[g],M=n?n.get(_):null,B=M?M.outputs:null;d=km(_.inputs,g,d,M?M.inputs:null),h=km(_.outputs,g,h,B);const W=null===d||null===s||dm(t)?null:dD(d,g,s);l.push(W)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=8),d.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=l,t.inputs=d,t.outputs=h}(e,n,i)}function Nm(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=function YA(){return Ne.lFrame.currentDirectiveIndex}();try{ho(i);for(let l=r;l<o;l++){const d=e.data[l],h=t[l];lu(l),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&rD(d,h)}}finally{ho(-1),lu(s)}}function rD(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function vd(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function sD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Vn(t)&&(n[""]=e)}}function cD(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=uo(o.type)),s=new Xi(i,Vn(o),ee);e.blueprint[r]=s,n[r]=s,function eD(e,t,n,r,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const l=~t.index;(function tD(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=l&&s.push(l),s.push(n,r,i)}}(e,t,r,ms(e,n,o.hostVars,xe),o)}function nr(e,t,n,r,o,i){const s=vn(e,t);!function Cd(e,t,n,r,o,i,s){if(null==i)e.removeAttribute(t,o,n);else{const l=null==s?U(i):s(i,r||"",o);e.setAttribute(t,o,l,n)}}(t[Be],s,i,e.value,n,r,o)}function uD(e,t,n,r,o,i){const s=i[t];if(null!==s){const l=r.setInput;for(let d=0;d<s.length;){const h=s[d++],g=s[d++],_=s[d++];null!==l?r.setInput(n,_,h,g):n[g]=_}}}function dD(e,t,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const s=e[i];for(let l=0;l<s.length;l+=2)if(s[l]===t){r.push(i,s[l+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function xm(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function pD(e,t){const n=on(t,e);if(La(n)){const r=n[fe];48&n[Fe]?ac(r,n,r.template,n[vt]):n[lo]>0&&Ed(n)}}function Ed(e){for(let r=xu(e);null!==r;r=Lu(r))for(let o=qt;o<r.length;o++){const i=r[o];if(La(i))if(512&i[Fe]){const s=i[fe];ac(s,i,s.template,i[vt])}else i[lo]>0&&Ed(i)}const n=e[fe].components;if(null!==n)for(let r=0;r<n.length;r++){const o=on(n[r],e);La(o)&&o[lo]>0&&Ed(o)}}function gD(e,t){const n=on(t,e),r=n[fe];(function mD(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),fd(r,n,n[vt])}function cc(e,t){return e[qi]?e[dp][Hn]=t:e[qi]=t,e[dp]=t,t}function lc(e){for(;e;){e[Fe]|=32;const t=ls(e);if(MA(e)&&!t)return e;e=t}return null}function uc(e,t,n,r=!0){const o=t[ka];o.begin&&o.begin();try{ac(e,t,e.template,n)}catch(s){throw r&&Hm(t,s),s}finally{o.end&&o.end()}}function Id(e,t,n){du(0),t(e,n)}function Lm(e){return e[Lo]||(e[Lo]=[])}function Fm(e){return e.cleanup||(e.cleanup=[])}function Hm(e,t){const n=e[Ra],r=n?n.get(ei,null):null;r&&r.handleError(t)}function Ad(e,t,n,r,o){for(let i=0;i<n.length;){const s=n[i++],l=n[i++],d=t[s],h=e.data[s];null!==h.setInput?h.setInput(d,o,r,l):d[l]=o}}function dc(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const l=t[s];"number"==typeof l?i=l:1==i?o=ao(o,l):2==i&&(r=ao(r,l+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function hc(e,t,n,r,o=!1){for(;null!==n;){const i=t[n.index];if(null!==i&&r.push(Nt(i)),Bn(i))for(let l=qt;l<i.length;l++){const d=i[l],h=d[fe].firstChild;null!==h&&hc(d[fe],d,h,r)}const s=n.type;if(8&s)hc(e,t,n.child,r);else if(32&s){const l=Nu(n,t);let d;for(;d=l();)r.push(d)}else if(16&s){const l=Og(t,n);if(Array.isArray(l))r.push(...l);else{const d=ls(t[$t]);hc(d[fe],d,l,r,!0)}}n=o?n.projectionNext:n.next}return r}class ys{get rootNodes(){const t=this._lView,n=t[fe];return hc(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vt]}set context(t){this._lView[vt]=t}get destroyed(){return 128==(128&this._lView[Fe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[pt];if(Bn(t)){const n=t[Pa],r=n?n.indexOf(this):-1;r>-1&&(Hu(t,r),Ka(n,r))}this._attachedToViewContainer=!1}Ag(this._lView[fe],this._lView)}onDestroy(t){!function Rm(e,t,n,r){const o=Lm(t);null===n?o.push(r):(o.push(n),e.firstCreatePass&&Fm(e).push(r,o.length-1))}(this._lView[fe],this._lView,null,t)}markForCheck(){lc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fe]&=-65}reattach(){this._lView[Fe]|=64}detectChanges(){uc(this._lView[fe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ow(e,t){us(e,t,t[Be],2,null,null)}(this._lView[fe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t}}class yD extends ys{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;uc(t[fe],t,t[vt],!1)}checkNoChanges(){}get context(){return null}}class Bm extends ps{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Je(t);return new _s(n,this.ngModule)}}function Vm(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class vD{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Da(r);const o=this.injector.get(t,id,r);return o!==id||n===id?o:this.parentInjector.get(t,n,r)}}class _s extends im{get inputs(){return Vm(this.componentDef.inputs)}get outputs(){return Vm(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function TS(e){return e.map(AS).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let i=(o=o||this.ngModule)instanceof Ar?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new vD(t,i):t,l=s.get(am,null);if(null===l)throw new T(407,!1);const d=s.get(rS,null),h=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?function qS(e,t,n){return e.selectRootElement(t,n===Yn.ShadowDom)}(h,r,this.componentDef.encapsulation):Uu(h,g,function _D(e){const t=e.toLowerCase();return"svg"===t?vp:"math"===t?"math":null}(g)),M=this.componentDef.onPush?288:272,P=yd(0,null,null,1,0,null,null,null,null,null),B=sc(null,P,null,M,null,null,l,h,d,s,null);let W,te;hu(B);try{const oe=this.componentDef;let he,Z=null;oe.findHostDirectiveDefs?(he=[],Z=new Map,oe.findHostDirectiveDefs(oe,he,Z),he.push(oe)):he=[oe];const we=function ED(e,t){const n=e[fe],r=at;return e[r]=t,ri(n,r,2,"#host",null)}(B,_),Ze=function ID(e,t,n,r,o,i,s,l){const d=o[fe];!function AD(e,t,n,r){for(const o of e)t.mergedAttrs=es(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(dc(t,t.mergedAttrs,!0),null!==n&&xg(r,n,t))}(r,e,t,s);const h=i.createRenderer(t,n),g=sc(o,Mm(n),null,n.onPush?32:16,o[e.index],e,i,h,l||null,null,null);return d.firstCreatePass&&vd(d,e,r.length-1),cc(o,g),o[e.index]=g}(we,_,oe,he,B,l,h);te=Ep(P,at),_&&function wD(e,t,n,r){if(r)mu(e,n,["ng-version",oS.full]);else{const{attrs:o,classes:i}=function wS(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!$n(o))break;o=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&mu(e,n,o),i&&i.length>0&&Ng(e,n,i.join(" "))}}(h,oe,_,r),void 0!==n&&function SD(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(te,this.ngContentSelectors,n),W=function TD(e,t,n,r,o,i){const s=xt(),l=o[fe],d=vn(s,o);Pm(l,o,s,n,null,r);for(let g=0;g<n.length;g++)jt(fo(o,l,s.directiveStart+g,s),o);Nm(l,o,s),d&&jt(d,o);const h=fo(o,l,s.directiveStart+s.componentOffset,s);if(e[vt]=o[vt]=h,null!==i)for(const g of i)g(h,t);return pd(l,s,e),h}(Ze,oe,he,Z,B,[DD]),fd(P,B,null)}finally{fu()}return new CD(this.componentType,W,Xo(te,B),B,te)}}class CD extends Yw{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=n,this.hostView=this.changeDetectorRef=new yD(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){const i=this._rootLView;Ad(i[fe],i,o,t,n),lc(on(this._tNode.index,i))}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function DD(){const e=xt();Fa(X()[fe],e)}function tt(e){let t=function $m(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Vn(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new T(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const s=e;s.inputs=Td(e.inputs),s.declaredInputs=Td(e.declaredInputs),s.outputs=Td(e.outputs);const l=o.hostBindings;l&&kD(e,l);const d=o.viewQuery,h=o.contentQueries;if(d&&MD(e,d),h&&RD(e,h),$i(e.inputs,o.inputs),$i(e.declaredInputs,o.declaredInputs),$i(e.outputs,o.outputs),Vn(o)&&o.data.animation){const g=e.data;g.animation=(g.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const l=i[s];l&&l.ngInherit&&l(e),l===tt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function bD(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=es(o.hostAttrs,n=es(n,o.hostAttrs))}}(r)}function Td(e){return e===yr?{}:e===qe?[]:e}function MD(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function RD(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function kD(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function zt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function or(e,t,n,r){const o=X();return zt(o,Vo(),t)&&(We(),nr(dt(),o,e,t,n,r)),or}function fi(e,t,n,r,o,i,s,l){const d=X(),h=We(),g=e+at,_=h.firstCreatePass?function VD(e,t,n,r,o,i,s,l,d){const h=t.consts,g=ri(t,e,4,s||null,Gr(h,l));_d(t,n,g,Gr(h,d)),Fa(t,g);const _=g.tView=yd(2,g,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,g),_.queries=t.queries.embeddedTView(g)),g}(g,h,d,t,n,r,o,i,s):h.data[g];Xn(_,!1);const M=d[Be].createComment("");Ya(h,d,M,_),jt(M,d),cc(d,d[g]=xm(M,d,M,_)),Na(_)&&gd(h,d,_),null!=s&&md(d,_,l)}function Pt(e,t,n){const r=X();return zt(r,Vo(),t)&&function In(e,t,n,r,o,i,s,l){const d=vn(t,n);let g,h=t.inputs;!l&&null!=h&&(g=h[r])?(Ad(e,n,g,r,o),Yi(t)&&function JS(e,t){const n=on(t,e);16&n[Fe]||(n[Fe]|=32)}(n,t.index)):3&t.type&&(r=function YS(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=s?s(o,t.value||"",r):o,i.setProperty(d,r,o))}(We(),dt(),r,e,t,r[Be],n,!1),Pt}function Sd(e,t,n,r,o){const s=o?"class":"style";Ad(e,n,t.inputs[s],s,r)}function ae(e,t,n,r){const o=X(),i=We(),s=at+e,l=o[Be],d=i.firstCreatePass?function zD(e,t,n,r,o,i){const s=t.consts,d=ri(t,e,2,r,Gr(s,o));return _d(t,n,d,Gr(s,i)),null!==d.attrs&&dc(d,d.attrs,!1),null!==d.mergedAttrs&&dc(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(s,i,o,t,n,r):i.data[s],h=o[s]=Uu(l,t,function rT(){return Ne.lFrame.currentNamespace}()),g=Na(d);return Xn(d,!0),xg(l,h,d),32!=(32&d.flags)&&Ya(i,o,h,d),0===function VA(){return Ne.lFrame.elementDepthCount}()&&jt(h,o),function $A(){Ne.lFrame.elementDepthCount++}(),g&&(gd(i,o,d),pd(i,d,o)),null!==r&&md(o,d),ae}function ge(){let e=xt();au()?function cu(){Ne.lFrame.isParent=!1}():(e=e.parent,Xn(e,!1));const t=e;!function jA(){Ne.lFrame.elementDepthCount--}();const n=We();return n.firstCreatePass&&(Fa(n,e),ou(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function aT(e){return 0!=(8&e.flags)}(t)&&Sd(n,t,X(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function cT(e){return 0!=(16&e.flags)}(t)&&Sd(n,t,X(),t.stylesWithoutHost,!1),ge}function gt(e,t,n,r){return ae(e,t,n,r),ge(),gt}function Cs(e){return!!e&&"function"==typeof e.then}const Md=function ny(e){return!!e&&"function"==typeof e.subscribe};function ct(e,t,n,r){const o=X(),i=We(),s=xt();return function oy(e,t,n,r,o,i,s){const l=Na(r),h=e.firstCreatePass&&Fm(e),g=t[vt],_=Lm(t);let M=!0;if(3&r.type||s){const W=vn(r,t),te=s?s(W):W,oe=_.length,he=s?we=>s(Nt(we[r.index])):r.index;let Z=null;if(!s&&l&&(Z=function WD(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const l=t[Lo],d=o[i+2];return l.length>d?l[d]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,r.index)),null!==Z)(Z.__ngLastListenerFn__||Z).__ngNextListenerFn__=i,Z.__ngLastListenerFn__=i,M=!1;else{i=sy(r,t,g,i,!1);const we=n.listen(te,o,i);_.push(i,we),h&&h.push(o,he,oe,oe+1)}}else i=sy(r,t,g,i,!1);const P=r.outputs;let B;if(M&&null!==P&&(B=P[o])){const W=B.length;if(W)for(let te=0;te<W;te+=2){const Ze=t[B[te]][B[te+1]].subscribe(i),At=_.length;_.push(i,Ze),h&&h.push(o,r.index,At,-(At+1))}}}(i,o,o[Be],s,e,t,r),ct}function iy(e,t,n,r){try{return Mn(6,t,n),!1!==n(r)}catch(o){return Hm(e,o),!1}finally{Mn(7,t,n)}}function sy(e,t,n,r,o){return function i(s){if(s===Function)return r;lc(e.componentOffset>-1?on(e.index,t):t);let d=iy(t,n,r,s),h=i.__ngNextListenerFn__;for(;h;)d=iy(t,n,h,s)&&d,h=h.__ngNextListenerFn__;return o&&!1===d&&(s.preventDefault(),s.returnValue=!1),d}}function gc(e=1){return function XA(e){return(Ne.lFrame.contextLView=function eT(e,t){for(;e>0;)t=t[Fo],e--;return t}(e,Ne.lFrame.contextLView))[vt]}(e)}function mc(e,t){return e<<17|t<<2}function Wr(e){return e>>17&32767}function kd(e){return 2|e}function _o(e){return(131068&e)>>2}function Od(e,t){return-131069&e|t<<2}function Pd(e){return 1|e}function my(e,t,n,r,o){const i=e[n+1],s=null===t;let l=r?Wr(i):_o(i),d=!1;for(;0!==l&&(!1===d||s);){const g=e[l+1];nb(e[l],t)&&(d=!0,e[l+1]=r?Pd(g):kd(g)),l=r?Wr(g):_o(g)}d&&(e[n+1]=r?kd(i):Pd(i))}function nb(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&qo(e,t)>=0}function yc(e,t){return function jn(e,t,n,r){const o=X(),i=We(),s=function Er(e){const t=Ne.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);i.firstUpdatePass&&function wy(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[Qt()],s=function Ty(e,t){return t>=e.expandoStartIndex}(e,n);(function My(e,t){return 0!=(e.flags&(t?8:16))})(i,r)&&null===t&&!s&&(t=!1),t=function db(e,t,n,r){const o=function uu(e){const t=Ne.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Es(n=Nd(null,e,t,n,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=Nd(o,e,t,n,r),null===i){let d=function hb(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==_o(r))return e[Wr(r)]}(e,t,r);void 0!==d&&Array.isArray(d)&&(d=Nd(null,e,t,d[1],r),d=Es(d,t.attrs,r),function fb(e,t,n,r){e[Wr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,d))}else i=function pb(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=Es(r,e[i].hostAttrs,n);return Es(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function eb(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,l=Wr(s),d=_o(s);e[r]=n;let g,h=!1;if(Array.isArray(n)?(g=n[1],(null===g||qo(n,g)>0)&&(h=!0)):g=n,o)if(0!==d){const M=Wr(e[l+1]);e[r+1]=mc(M,l),0!==M&&(e[M+1]=Od(e[M+1],r)),e[l+1]=function JD(e,t){return 131071&e|t<<17}(e[l+1],r)}else e[r+1]=mc(l,0),0!==l&&(e[l+1]=Od(e[l+1],r)),l=r;else e[r+1]=mc(d,0),0===l?l=r:e[d+1]=Od(e[d+1],r),d=r;h&&(e[r+1]=kd(e[r+1])),my(e,g,r,!0),my(e,g,r,!1),function tb(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&qo(i,t)>=0&&(n[r+1]=Pd(n[r+1]))}(t,g,e,r,i),s=mc(l,d),i?t.classBindings=s:t.styleBindings=s}(o,i,t,n,s,r)}}(i,e,s,r),t!==xe&&zt(o,s,t)&&function Dy(e,t,n,r,o,i,s,l){if(!(3&t.type))return;const d=e.data,h=d[l+1],g=function XD(e){return 1==(1&e)}(h)?by(d,t,n,o,_o(h),s):void 0;_c(g)||(_c(i)||function YD(e){return 2==(2&e)}(h)&&(i=by(d,null,n,o,l,s)),function pw(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:sn.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=sn.Important),e.setStyle(n,r,o,i))}}(r,s,xa(Qt(),n),o,i))}(i,i.data[Qt()],o,o[Be],e,o[s+1]=function _b(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ot(Kr(e)))),e}(t,n),r,s)}(e,t,null,!0),yc}function Nd(e,t,n,r,o){let i=null;const s=n.directiveEnd;let l=n.directiveStylingLast;for(-1===l?l=n.directiveStart:l++;l<s&&(i=t[l],r=Es(r,i.hostAttrs,o),i!==e);)l++;return null!==e&&(n.directiveStylingLast=l),r}function Es(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Cn(e,s,!!n||t[++i]))}return void 0===e?null:e}function by(e,t,n,r,o,i){const s=null===t;let l;for(;o>0;){const d=e[o],h=Array.isArray(d),g=h?d[1]:d,_=null===g;let M=n[o+1];M===xe&&(M=_?qe:void 0);let P=_?Tu(M,r):g===r?M:void 0;if(h&&!_c(P)&&(P=Tu(d,r)),_c(P)&&(l=P,s))return l;const B=e[o+1];o=s?Wr(B):_o(B)}if(null!==t){let d=i?t.residualClasses:t.residualStyles;null!=d&&(l=Tu(d,r))}return l}function _c(e){return void 0!==e}function Ae(e,t=""){const n=X(),r=We(),o=e+at,i=r.firstCreatePass?ri(r,o,1,t,null):r.data[o],s=n[o]=function Fu(e,t){return e.createText(t)}(n[Be],t);Ya(r,n,s,i),Xn(i,!1)}function cn(e){return vc("",e,""),cn}function vc(e,t,n){const r=X(),o=function ii(e,t,n,r){return zt(e,Vo(),n)?t+U(n)+r:xe}(r,e,t,n);return o!==xe&&function Sr(e,t,n){const r=xa(t,e);!function Eg(e,t,n){e.setValue(t,n)}(e[Be],r,n)}(r,Qt(),o),vc}const mi="en-US";let Yy=mi;function Fd(e,t,n,r,o){if(e=c(e),Array.isArray(e))for(let i=0;i<e.length;i++)Fd(e[i],t,n,r,o);else{const i=We(),s=X();let l=mo(e)?e:c(e.provide),d=om(e);const h=xt(),g=1048575&h.providerIndexes,_=h.directiveStart,M=h.providerIndexes>>20;if(mo(e)||!e.multi){const P=new Xi(d,o,ee),B=Hd(l,t,o?g:g+M,_);-1===B?(Cu(ja(h,s),i,l),Ud(i,e,t.length),t.push(l),h.directiveStart++,h.directiveEnd++,o&&(h.providerIndexes+=1048576),n.push(P),s.push(P)):(n[B]=P,s[B]=P)}else{const P=Hd(l,t,g+M,_),B=Hd(l,t,g,g+M),te=B>=0&&n[B];if(o&&!te||!o&&!(P>=0&&n[P])){Cu(ja(h,s),i,l);const oe=function LM(e,t,n,r,o){const i=new Xi(e,n,ee);return i.multi=[],i.index=t,i.componentProviders=0,I_(i,o,r&&!n),i}(o?xM:NM,n.length,o,r,d);!o&&te&&(n[B].providerFactory=oe),Ud(i,e,t.length,0),t.push(l),h.directiveStart++,h.directiveEnd++,o&&(h.providerIndexes+=1048576),n.push(oe),s.push(oe)}else Ud(i,e,P>-1?P:B,I_(n[o?B:P],d,!o&&r));!o&&r&&te&&n[B].componentProviders++}}}function Ud(e,t,n,r){const o=mo(t),i=function zw(e){return!!e.useClass}(t);if(o||i){const d=(i?c(t.useClass):t).prototype.ngOnDestroy;if(d){const h=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const g=h.indexOf(n);-1===g?h.push(n,[r,d]):h[g+1].push(r,d)}else h.push(n,d)}}}function I_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Hd(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function NM(e,t,n,r){return Bd(this.multi,[])}function xM(e,t,n,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,l=fo(n,n[fe],this.providerFactory.index,r);i=l.slice(0,s),Bd(o,i);for(let d=s;d<l.length;d++)i.push(l[d])}else i=[],Bd(o,i);return i}function Bd(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ut(e,t=[]){return n=>{n.providersResolver=(r,o)=>function PM(e,t,n){const r=We();if(r.firstCreatePass){const o=Vn(e);Fd(n,r.data,r.blueprint,o,!0),Fd(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class yi{}class A_{}class T_ extends yi{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bm(this);const r=yn(t);this._bootstrapComponents=wr(r.bootstrap),this._r3Injector=vm(t,n,[{provide:yi,useValue:this},{provide:ps,useValue:this.componentFactoryResolver}],ot(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Vd extends A_{constructor(t){super(),this.moduleType=t}create(t){return new T_(this.moduleType,t)}}class UM extends yi{constructor(t,n,r){super(),this.componentFactoryResolver=new Bm(this),this.instance=null;const o=new rm([...t,{provide:yi,useValue:this},{provide:ps,useValue:this.componentFactoryResolver}],n||oc(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Tc(e,t,n=null){return new UM(e,t,n).injector}let HM=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Xg(0,n.type),o=r.length>0?Tc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,o)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Te({token:e,providedIn:"environment",factory:()=>new e(ye(Ar))}),e})();function w_(e){e.getStandaloneInjector=t=>t.get(HM).getOrCreateStandaloneInjector(e)}function jd(e){return t=>{setTimeout(e,void 0,t)}}const yt=class dR extends _t{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&"object"==typeof t){const d=t;o=d.next?.bind(d),i=d.error?.bind(d),s=d.complete?.bind(d)}this.__isAsync&&(i=jd(i),o&&(o=jd(o)),s&&(s=jd(s)));const l=super.subscribe({next:o,error:i,complete:s});return t instanceof E&&t.add(l),l}};let Dr=(()=>{class e{}return e.__NG_ELEMENT_ID__=gR,e})();const fR=Dr,pR=class extends fR{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tView,o=sc(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);o[Zi]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[Jn];return null!==s&&(o[Jn]=s.createEmbeddedView(r)),fd(r,o,t),new ys(o)}};function gR(){return function wc(e,t){return 4&e.type?new pR(t,e,Xo(e,t)):null}(xt(),X())}let Gn=(()=>{class e{}return e.__NG_ELEMENT_ID__=mR,e})();function mR(){return function H_(e,t){let n;const r=t[e.index];if(Bn(r))n=r;else{let o;if(8&e.type)o=Nt(r);else{const i=t[Be];o=i.createComment("");const s=vn(e,t);go(i,Qa(i,s),o,function dw(e,t){return e.nextSibling(t)}(i,s),!1)}t[e.index]=n=xm(r,t,o,e),cc(t,n)}return new F_(n,e,t)}(xt(),X())}const yR=Gn,F_=class extends yR{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Xo(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const t=vu(this._hostTNode,this._hostLView);if(Vp(t)){const n=Va(t,this._hostLView),r=Ba(t);return new jo(n[fe].data[r+8],n)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=U_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=t.createEmbeddedView(n||{},i);return this.insert(s,o),s}createComponent(t,n,r,o,i){const s=t&&!function ns(e){return"function"==typeof e}(t);let l;if(s)l=n;else{const _=n||{};l=_.index,r=_.injector,o=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef}const d=s?t:new _s(Je(t)),h=r||this.parentInjector;if(!i&&null==d.ngModule){const M=(s?h:this.parentInjector).get(Ar,null);M&&(i=M)}const g=d.create(h,o,void 0,i);return this.insert(g.hostView,l),g}insert(t,n){const r=t._lView,o=r[fe];if(function BA(e){return Bn(e[pt])}(r)){const g=this.indexOf(t);if(-1!==g)this.detach(g);else{const _=r[pt],M=new F_(_,_[Vt],_[pt]);M.detach(M.indexOf(t))}}const i=this._adjustIndex(n),s=this._lContainer;!function sw(e,t,n,r){const o=qt+r,i=n.length;r>0&&(n[o-1][Hn]=t),r<i-qt?(t[Hn]=n[o],Xp(n,qt+r,t)):(n.push(t),t[Hn]=null),t[pt]=n;const s=t[Zi];null!==s&&n!==s&&function aw(e,t){const n=e[Ho];t[$t]!==t[pt][pt][$t]&&(e[fp]=!0),null===n?e[Ho]=[t]:n.push(t)}(s,t);const l=t[Jn];null!==l&&l.insertView(e),t[Fe]|=64}(o,r,s,i);const l=$u(i,s),d=r[Be],h=Qa(d,s[Oa]);return null!==h&&function rw(e,t,n,r,o,i){r[vr]=o,r[Vt]=t,us(e,r,n,1,o,i)}(o,s[Vt],d,r,h,l),t.attachToViewContainerRef(),Xp(Gd(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=U_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Hu(this._lContainer,n);r&&(Ka(Gd(this._lContainer),n),Ag(r[fe],r))}detach(t){const n=this._adjustIndex(t,-1),r=Hu(this._lContainer,n);return r&&null!=Ka(Gd(this._lContainer),n)?new ys(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function U_(e){return e[Pa]}function Gd(e){return e[Pa]||(e[Pa]=[])}function Dc(...e){}const bc=new Ce("Application Initializer");let Mc=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Dc,this.reject=Dc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Cs(i))n.push(i);else if(Md(i)){const s=new Promise((l,d)=>{i.subscribe({complete:l,error:d})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ye(bc,8))},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Rs=new Ce("AppId",{providedIn:"root",factory:function dv(){return`${nh()}${nh()}${nh()}`}});function nh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hv=new Ce("Platform Initializer"),fv=new Ce("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let GR=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const br=new Ce("LocaleId",{providedIn:"root",factory:()=>je(br,De.Optional|De.SkipSelf)||function KR(){return typeof $localize<"u"&&$localize.locale||mi}()});class qR{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let pv=(()=>{class e{compileModuleSync(n){return new Vd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=wr(yn(n).declarations).reduce((s,l)=>{const d=Je(l);return d&&s.push(new _s(d)),s},[]);return new qR(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const YR=(()=>Promise.resolve(0))();function rh(e){typeof Zone>"u"?YR.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ct{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yt(!1),this.onMicrotaskEmpty=new yt(!1),this.onStable=new yt(!1),this.onError=new yt(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function JR(){let e=st.requestAnimationFrame,t=st.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function t0(e){const t=()=>{!function e0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(st,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ih(e),e.isCheckStableRunning=!0,oh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ih(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,l)=>{try{return yv(e),n.invokeTask(o,i,s,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),_v(e)}},onInvoke:(n,r,o,i,s,l,d)=>{try{return yv(e),n.invoke(o,i,s,l,d)}finally{e.shouldCoalesceRunChangeDetection&&t(),_v(e)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,ih(e),oh(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ct.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Ct.isInAngularZone())throw new T(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,XR,Dc,Dc);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const XR={};function oh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ih(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function yv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function _v(e){e._nesting--,oh(e)}class n0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yt,this.onMicrotaskEmpty=new yt,this.onStable=new yt,this.onError=new yt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const vv=new Ce(""),Rc=new Ce("");let ch,sh=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ch||(function r0(e){ch=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ct.assertNotInAngularZone(),rh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rh(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(ye(Ct),ye(ah),ye(Rc))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})(),ah=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ch?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Mr=!1;let qr=null;const Cv=new Ce("AllowMultipleToken"),lh=new Ce("PlatformDestroyListeners"),Ev=new Ce("appBootstrapListener");class Iv{constructor(t,n){this.name=t,this.token=n}}function Tv(e,t,n=[]){const r=`Platform: ${t}`,o=new Ce(r);return(i=[])=>{let s=uh();if(!s||s.injector.get(Cv,!1)){const l=[...n,...i,{provide:o,useValue:!0}];e?e(l):function a0(e){if(qr&&!qr.get(Cv,!1))throw new T(400,!1);qr=e;const t=e.get(Sv);(function Av(e){const t=e.get(hv,null);t&&t.forEach(n=>n())})(e)}(function wv(e=[],t){return tr.create({name:t,providers:[{provide:td,useValue:"platform"},{provide:lh,useValue:new Set([()=>qr=null])},...e]})}(l,r))}return function l0(e){const t=uh();if(!t)throw new T(401,!1);return t}()}}function uh(){return qr?.get(Sv)??null}let Sv=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function bv(e,t){let n;return n="noop"===e?new n0:("zone.js"===e?void 0:e)||new Ct(t),n}(r?.ngZone,function Dv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:Ct,useValue:o}];return o.run(()=>{const s=tr.create({providers:i,parent:this.injector,name:n.moduleType.name}),l=n.create(s),d=l.injector.get(ei,null);if(!d)throw new T(402,!1);return o.runOutsideAngular(()=>{const h=o.onError.subscribe({next:g=>{d.handleError(g)}});l.onDestroy(()=>{Oc(this._modules,l),h.unsubscribe()})}),function Mv(e,t,n){try{const r=n();return Cs(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(d,o,()=>{const h=l.injector.get(Mc);return h.runInitializers(),h.donePromise.then(()=>(function Jy(e){wn(e,"Expected localeId to be defined"),"string"==typeof e&&(Yy=e.toLowerCase().replace(/_/g,"-"))}(l.injector.get(br,mi)||mi),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const o=Rv({},r);return function o0(e,t,n){const r=new Vd(n);return Promise.resolve(r)}(0,0,n).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(n){const r=n.injector.get(kc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(lh,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ye(tr))},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Rv(e,t){return Array.isArray(t)?t.reduce(Rv,e):{...e,...t}}let kc=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,o){this._zone=n,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new J(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),s=new J(l=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{Ct.assertNotInAngularZone(),rh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{Ct.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{d.unsubscribe(),h.unsubscribe()}});this.isStable=function ql(...e){const t=so(e),n=function jl(e,t){return"number"==typeof $r(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?pn(r[0]):pr(n)(ze(r,t)):tn}(i,s.pipe(function Zl(e={}){const{connector:t=(()=>new _t),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,l,d,h=0,g=!1,_=!1;const M=()=>{l?.unsubscribe(),l=void 0},P=()=>{M(),s=d=void 0,g=_=!1},B=()=>{const W=s;P(),W?.unsubscribe()};return Qe((W,te)=>{h++,!_&&!g&&M();const oe=d=d??t();te.add(()=>{h--,0===h&&!_&&!g&&(l=Vi(B,o))}),oe.subscribe(te),!s&&h>0&&(s=new F({next:he=>oe.next(he),error:he=>{_=!0,M(),l=Vi(P,n,he),oe.error(he)},complete:()=>{g=!0,M(),l=Vi(P,r),oe.complete()}}),pn(W).subscribe(s))})(i)}}()))}bootstrap(n,r){const o=n instanceof im;if(!this._injector.get(Mc).done){!o&&function xo(e){const t=Je(e)||Bt(e)||rn(e);return null!==t&&t.standalone}(n);throw new T(405,Mr)}let s;s=o?n:this._injector.get(ps).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const l=function s0(e){return e.isBoundToModule}(s)?void 0:this._injector.get(yi),h=s.create(tr.NULL,[],r||s.selector,l),g=h.location.nativeElement,_=h.injector.get(vv,null);return _?.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),Oc(this.components,h),_?.unregisterApplication(g)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Oc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Ev,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Oc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(ye(Ct),ye(Ar),ye(ei))},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Oc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Pc=(()=>{class e{}return e.__NG_ELEMENT_ID__=d0,e})();function d0(e){return function h0(e,t,n){if(Yi(e)&&!n){const r=on(e.index,t);return new ys(r,r)}return 47&e.type?new ys(t[$t],t):null}(xt(),X(),16==(16&e))}const w0=Tv(null,"core",[]);let S0=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ye(kc))},e.\u0275mod=Dn({type:e}),e.\u0275inj=mn({}),e})();function Ci(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let gh=null;function Rr(){return gh}class M0{}const ln=new Ce("DocumentToken");let mh=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:function(){return function R0(){return ye(Vv)}()},providedIn:"platform"}),e})();const k0=new Ce("Location Initialized");let Vv=(()=>{class e extends mh{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rr().getBaseHref(this._doc)}onPopState(n){const r=Rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){$v()?this._history.pushState(n,r,o):this._location.hash=o}replaceState(n,r,o){$v()?this._history.replaceState(n,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(ye(ln))},e.\u0275prov=Te({token:e,factory:function(){return function O0(){return new Vv(ye(ln))}()},providedIn:"platform"}),e})();function $v(){return!!window.history.pushState}function yh(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function jv(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function kr(e){return e&&"?"!==e[0]?"?"+e:e}let Eo=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:function(){return je(Gv)},providedIn:"root"}),e})();const zv=new Ce("appBaseHref");let Gv=(()=>{class e extends Eo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??je(ln).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return yh(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+kr(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+kr(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+kr(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ye(mh),ye(zv,8))},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),P0=(()=>{class e extends Eo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=yh(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+kr(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+kr(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ye(mh),ye(zv,8))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})(),Os=(()=>{class e{constructor(n){this._subject=new yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function L0(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(jv(Kv(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+kr(r))}normalize(n){return e.stripTrailingSlash(function x0(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,Kv(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}}return e.normalizeQueryParams=kr,e.joinWithSlash=yh,e.stripTrailingSlash=jv,e.\u0275fac=function(n){return new(n||e)(ye(Eo))},e.\u0275prov=Te({token:e,factory:function(){return function N0(){return new Os(ye(Eo))}()},providedIn:"root"}),e})();function Kv(e){return e.replace(/\/index.html$/,"")}let bh=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new wk,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){iC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){iC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(ee(Gn),ee(Dr))},e.\u0275dir=ke({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class wk{constructor(){this.$implicit=null,this.ngIf=null}}function iC(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ot(t)}'.`)}let cC=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dn({type:e}),e.\u0275inj=mn({}),e})();let Xk=(()=>{class e{}return e.\u0275prov=Te({token:e,providedIn:"root",factory:()=>new eO(ye(ln),window)}),e})();class eO{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function tO(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=uC(this.window.history)||uC(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function uC(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class MO extends M0{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xh extends MO{static makeCurrent(){!function b0(e){gh||(gh=e)}(new xh)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function RO(){return Ls=Ls||document.querySelector("base"),Ls?Ls.getAttribute("href"):null}();return null==n?null:function kO(e){qc=qc||document.createElement("a"),qc.setAttribute("href",e);const t=qc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Ls=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function vk(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,t)}}let qc,Ls=null;const gC=new Ce("TRANSITION_ID"),PO=[{provide:bc,useFactory:function OO(e,t,n){return()=>{n.get(Mc).donePromise.then(()=>{const r=Rr(),o=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[gC,ln,tr],multi:!0}];let xO=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();const Zc=new Ce("EventManagerPlugins");let Qc=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}addGlobalEventListener(n,r,o){return this._findPluginFor(r).addGlobalEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(ye(Zc),ye(Ct))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();class mC{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const o=Rr().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${n}`);return this.addEventListener(o,n,r)}}let yC=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const o=this.usageCount;let i=o.get(n)??0;return i+=r,i>0?o.set(n,i):o.delete(n),i}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})(),Fs=(()=>{class e extends yC{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(i=>i.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const o=this.doc.createElement("style");o.textContent=r,n.appendChild(o);const i=this.styleRef.get(r);i?i.push(o):this.styleRef.set(r,[o])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(ye(ln))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();const Lh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fh=/%COMP%/g,CC=new Ce("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function EC(e,t){return t.flat(100).map(n=>n.replace(Fh,e))}function IC(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Uh=(()=>{class e{constructor(n,r,o,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=i,this.rendererByCompId=new Map,this.defaultRenderer=new Hh(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(n,r);return o instanceof wC?o.applyToHost(n):o instanceof Bh&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestory;switch(r.encapsulation){case Yn.Emulated:i=new wC(s,l,r,this.appId,d);break;case Yn.ShadowDom:return new $O(s,l,n,r);default:i=new Bh(s,l,r,d)}i.onDestroy=()=>o.delete(r.id),o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(ye(Qc),ye(Fs),ye(Rs),ye(CC))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();class Hh{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Lh[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(TC(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(TC(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const i=Lh[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=Lh[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(sn.DashCase|sn.Important)?t.style.setProperty(n,r,o&sn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&sn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,IC(r)):this.eventManager.addEventListener(t,n,IC(r))}}function TC(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class $O extends Hh{constructor(t,n,r,o){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=EC(o.id,o.styles);for(const s of i){const l=document.createElement("style");l.textContent=s,this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bh extends Hh{constructor(t,n,r,o,i=r.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=EC(i,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class wC extends Bh{constructor(t,n,r,o,i){const s=o+"-"+r.id;super(t,n,r,i,s),this.contentAttr=function HO(e){return"_ngcontent-%COMP%".replace(Fh,e)}(s),this.hostAttr=function BO(e){return"_nghost-%COMP%".replace(Fh,e)}(s)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let jO=(()=>{class e extends mC{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}}return e.\u0275fac=function(n){return new(n||e)(ye(ln))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();const SC=["alt","control","meta","shift"],zO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let KO=(()=>{class e extends mC{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const i=e.parseEventName(r),s=e.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rr().onAndCancel(n,i.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=e._normalizeKey(r.pop());let s="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),s="code."),SC.forEach(h=>{const g=r.indexOf(h);g>-1&&(r.splice(g,1),s+=h+".")}),s+=i,0!=r.length||0===i.length)return null;const d={};return d.domEventName=o,d.fullKey=s,d}static matchEventFullKeyCode(n,r){let o=zO[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),SC.forEach(s=>{s!==o&&(0,GO[s])(n)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(ye(ln))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();const QO=Tv(w0,"browser",[{provide:fv,useValue:"browser"},{provide:hv,useValue:function WO(){xh.makeCurrent()},multi:!0},{provide:ln,useFactory:function ZO(){return function vw(e){Ku=e}(document),document},deps:[]}]),MC=new Ce(""),RC=[{provide:Rc,useClass:class NO{addToWindow(t){st.getAngularTestability=(r,o=!0)=>{const i=t.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},st.getAllAngularTestabilities=()=>t.getAllTestabilities(),st.getAllAngularRootElements=()=>t.getAllRootElements(),st.frameworkStabilizers||(st.frameworkStabilizers=[]),st.frameworkStabilizers.push(r=>{const o=st.getAllAngularTestabilities();let i=o.length,s=!1;const l=function(d){s=s||d,i--,0==i&&r(s)};o.forEach(function(d){d.whenStable(l)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Rr().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:vv,useClass:sh,deps:[Ct,ah,Rc]},{provide:sh,useClass:sh,deps:[Ct,ah,Rc]}],kC=[{provide:td,useValue:"root"},{provide:ei,useFactory:function qO(){return new ei},deps:[]},{provide:Zc,useClass:jO,multi:!0,deps:[ln,Ct,fv]},{provide:Zc,useClass:KO,multi:!0,deps:[ln]},{provide:Uh,useClass:Uh,deps:[Qc,Fs,Rs,CC]},{provide:am,useExisting:Uh},{provide:yC,useExisting:Fs},{provide:Fs,useClass:Fs,deps:[ln]},{provide:Qc,useClass:Qc,deps:[Zc,Ct]},{provide:class nO{},useClass:xO,deps:[]},[]];let YO=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Rs,useValue:n.appId},{provide:gC,useExisting:Rs},PO]}}}return e.\u0275fac=function(n){return new(n||e)(ye(MC,12))},e.\u0275mod=Dn({type:e}),e.\u0275inj=mn({providers:[...kC,...RC],imports:[cC,S0]}),e})(),OC=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(ye(ln))},e.\u0275prov=Te({token:e,factory:function(n){let r=null;return r=n?new n:function XO(){return new OC(ye(ln))}(),r},providedIn:"root"}),e})();function ve(...e){return ze(e,so(e))}typeof window<"u"&&window;class iP extends E{constructor(t,n){super()}schedule(t,n=0){return this}}const Yc={setInterval(e,t,...n){const{delegate:r}=Yc;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Yc;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},jh={now:()=>(jh.delegate||Date).now(),delegate:void 0};class Us{constructor(t,n=Us.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Us.now=jh.now;const xC=new class aP extends Us{constructor(t,n=Us.now){super(t,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class sP extends iP{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Yc.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;Yc.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,O(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),cP=xC;function Jc(...e){return function lP(){return pr(1)}()(ze(e,so(e)))}function Qr(e){return e<=0?()=>tn:Qe((t,n)=>{let r=0;t.subscribe(Pe(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function LC(e){return Re(()=>e)}function FC(e,t){return t?n=>Jc(t.pipe(Qr(1),function uP(){return Qe((e,t)=>{e.subscribe(Pe(t,K))})}()),n.pipe(FC(e))):wt((n,r)=>e(n,r).pipe(Qr(1),LC(n)))}function Ft(e,t,n){const r=C(e)||t||n?{next:e,error:t,complete:n}:e;return r?Qe((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let l=!0;o.subscribe(Pe(i,d=>{var h;null===(h=r.next)||void 0===h||h.call(r,d),i.next(d)},()=>{var d;l=!1,null===(d=r.complete)||void 0===d||d.call(r),i.complete()},d=>{var h;l=!1,null===(h=r.error)||void 0===h||h.call(r,d),i.error(d)},()=>{var d,h;l&&(null===(d=r.unsubscribe)||void 0===d||d.call(r)),null===(h=r.finalize)||void 0===h||h.call(r)}))}):ue}var ft=w(8468),dn=w(6521);class pP{static getInteractionStatusFromEvent(t,n){switch(t.eventType){case dn.t.LOGIN_START:return ft.$H.Login;case dn.t.SSO_SILENT_START:return ft.$H.SsoSilent;case dn.t.ACQUIRE_TOKEN_START:if(t.interactionType===ft.s_.Redirect||t.interactionType===ft.s_.Popup)return ft.$H.AcquireToken;break;case dn.t.HANDLE_REDIRECT_START:return ft.$H.HandleRedirect;case dn.t.LOGOUT_START:return ft.$H.Logout;case dn.t.SSO_SILENT_SUCCESS:case dn.t.SSO_SILENT_FAILURE:if(n&&n!==ft.$H.SsoSilent)break;return ft.$H.None;case dn.t.LOGOUT_END:if(n&&n!==ft.$H.Logout)break;return ft.$H.None;case dn.t.HANDLE_REDIRECT_END:if(n&&n!==ft.$H.HandleRedirect)break;return ft.$H.None;case dn.t.LOGIN_SUCCESS:case dn.t.LOGIN_FAILURE:case dn.t.ACQUIRE_TOKEN_SUCCESS:case dn.t.ACQUIRE_TOKEN_FAILURE:case dn.t.RESTORE_FROM_BFCACHE:if(t.interactionType===ft.s_.Redirect||t.interactionType===ft.s_.Popup){if(n&&n!==ft.$H.Login&&n!==ft.$H.AcquireToken)break;return ft.$H.None}}return null}}var gP=w(6290),mP=w(3886),yP=w(6644);class _P extends _t{constructor(t=1/0,n=1/0,r=jh){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=n.now();let l=0;for(let d=1;d<r.length&&r[d]<=s;d+=2)l=d;l&&r.splice(0,l+1)}}}class Nn extends _t{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Pr(e,t){return C(t)?wt(e,t,1):wt(e,1)}function Nr(e){return Qe((t,n)=>{let i,r=null,o=!1;r=t.subscribe(Pe(n,void 0,void 0,s=>{i=pn(e(s,Nr(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}const Xc=f(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:vP}=Array,{getPrototypeOf:CP,prototype:EP,keys:IP}=Object;function UC(e){if(1===e.length){const t=e[0];if(vP(t))return{args:t,keys:null};if(function AP(e){return e&&"object"==typeof e&&CP(e)===EP}(t)){const n=IP(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:TP}=Array;function HC(e){return Re(t=>function wP(e,t){return TP(t)?e(...t):e(t)}(e,t))}function BC(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function VC(...e){const t=so(e),n=Ui(e),{args:r,keys:o}=UC(e);if(0===r.length)return ze([],t);const i=new J(function SP(e,t,n=ue){return r=>{$C(t,()=>{const{length:o}=e,i=new Array(o);let s=o,l=o;for(let d=0;d<o;d++)$C(t,()=>{const h=ze(e[d],t);let g=!1;h.subscribe(Pe(r,_=>{i[d]=_,g||(g=!0,l--),l||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,o?s=>BC(o,s):ue));return n?i.pipe(HC(n)):i}function $C(e,t,n){e?gn(n,e,t):t()}function jC(e){return new J(t=>{pn(e()).subscribe(t)})}function Hs(e,t){const n=C(e)?e:()=>e,r=o=>o.error(n());return new J(t?o=>t.schedule(r,0,o):r)}function zh(){return Qe((e,t)=>{let n=null;e._refCount++;const r=Pe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class zC extends J{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Tt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new E;const n=this.getSubject();t.add(this.source.subscribe(Pe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=E.EMPTY)}return t}refCount(){return zh()(this)}}function ar(e,t){return Qe((n,r)=>{let o=null,i=0,s=!1;const l=()=>s&&!o&&r.complete();n.subscribe(Pe(r,d=>{o?.unsubscribe();let h=0;const g=i++;pn(e(d,g)).subscribe(o=Pe(r,_=>r.next(t?t(d,_,g,h++):_),()=>{o=null,l()}))},()=>{s=!0,l()}))})}function Yr(e,t){return Qe((n,r)=>{let o=0;n.subscribe(Pe(r,i=>e.call(t,i,o++)&&r.next(i)))})}function el(e){return Qe((t,n)=>{let r=!1;t.subscribe(Pe(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function GC(e=bP){return Qe((t,n)=>{let r=!1;t.subscribe(Pe(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function bP(){return new Xc}function Jr(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Yr((o,i)=>e(o,i,r)):ue,Qr(1),n?el(t):GC(()=>new Xc))}function KC(e,t){return Qe(function MP(e,t,n,r,o){return(i,s)=>{let l=n,d=t,h=0;i.subscribe(Pe(s,g=>{const _=h++;d=l?e(d,g,_):(l=!0,g),r&&s.next(d)},o&&(()=>{l&&s.next(d),s.complete()})))}}(e,t,arguments.length>=2,!0))}function Gh(e){return e<=0?()=>tn:Qe((t,n)=>{let r=[];t.subscribe(Pe(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function WC(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Yr((o,i)=>e(o,i,r)):ue,Gh(1),n?el(t):GC(()=>new Xc))}function Kh(e){return Qe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Le="primary",Bs=Symbol("RouteTitle");class kP{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ei(e){return new kP(e)}function OP(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],l=e[i];if(s.startsWith(":"))o[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function cr(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!qC(e[o],t[o]))return!1;return!0}function qC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}return e===t}function ZC(e){return Array.prototype.concat.apply([],e)}function QC(e){return e.length>0?e[e.length-1]:null}function Ut(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Xr(e){return Md(e)?e:Cs(e)?ze(Promise.resolve(e)):ve(e)}const tl=!1,NP={exact:function XC(e,t,n){if(!Io(e.segments,t.segments)||!nl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!XC(e.children[r],t.children[r],n))return!1;return!0},subset:eE},YC={exact:function xP(e,t){return cr(e,t)},subset:function LP(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>qC(e[n],t[n]))},ignored:()=>!0};function JC(e,t,n){return NP[n.paths](e.root,t.root,n.matrixParams)&&YC[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function eE(e,t,n){return tE(e,t,t.segments,n)}function tE(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!Io(o,n)||t.hasChildren()||!nl(o,n,r))}if(e.segments.length===n.length){if(!Io(e.segments,n)||!nl(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!eE(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!(Io(e.segments,o)&&nl(e.segments,o,r)&&e.children[Le])&&tE(e.children[Le],t,i,r)}}function nl(e,t,n){return t.every((r,o)=>YC[n](e[o].parameters,r.parameters))}class eo{constructor(t=new Ve([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ei(this.queryParams)),this._queryParamMap}toString(){return HP.serialize(this)}}class Ve{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Ut(n,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rl(this)}}class Vs{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ei(this.parameters)),this._parameterMap}toString(){return oE(this)}}function Io(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let $s=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:function(){return new Wh},providedIn:"root"}),e})();class Wh{parse(t){const n=new qP(t);return new eo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${js(t.root,!0)}`,r=function $P(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(o=>`${ol(n)}=${ol(o)}`).join("&"):`${ol(n)}=${ol(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function BP(e){return encodeURI(e)}(t.fragment)}`:""}`}}const HP=new Wh;function rl(e){return e.segments.map(t=>oE(t)).join("/")}function js(e,t){if(!e.hasChildren())return rl(e);if(t){const n=e.children[Le]?js(e.children[Le],!1):"",r=[];return Ut(e.children,(o,i)=>{i!==Le&&r.push(`${i}:${js(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function UP(e,t){let n=[];return Ut(e.children,(r,o)=>{o===Le&&(n=n.concat(t(r,o)))}),Ut(e.children,(r,o)=>{o!==Le&&(n=n.concat(t(r,o)))}),n}(e,(r,o)=>o===Le?[js(e.children[Le],!1)]:[`${o}:${js(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Le]?`${rl(e)}/${n[0]}`:`${rl(e)}/(${n.join("//")})`}}function nE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ol(e){return nE(e).replace(/%3B/gi,";")}function qh(e){return nE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function il(e){return decodeURIComponent(e)}function rE(e){return il(e.replace(/\+/g,"%20"))}function oE(e){return`${qh(e.path)}${function VP(e){return Object.keys(e).map(t=>`;${qh(t)}=${qh(e[t])}`).join("")}(e.parameters)}`}const jP=/^[^\/()?;=#]+/;function sl(e){const t=e.match(jP);return t?t[0]:""}const zP=/^[^=?&#]+/,KP=/^[^&#]+/;class qP{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ve([],{}):new Ve([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Le]=new Ve(t,n)),r}parseSegment(){const t=sl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new T(4009,tl);return this.capture(t),new Vs(il(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=sl(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=sl(this.remaining);o&&(r=o,this.capture(r))}t[il(n)]=il(r)}parseQueryParam(t){const n=function GP(e){const t=e.match(zP);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function WP(e){const t=e.match(KP);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=rE(n),i=rE(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=sl(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new T(4010,tl);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Le);const s=this.parseChildren();n[i]=1===Object.keys(s).length?s[Le]:new Ve([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new T(4011,tl)}}function Zh(e){return e.segments.length>0?new Ve([],{[Le]:e}):e}function al(e){const t={};for(const r of Object.keys(e.children)){const i=al(e.children[r]);(i.segments.length>0||i.hasChildren())&&(t[r]=i)}return function ZP(e){if(1===e.numberOfChildren&&e.children[Le]){const t=e.children[Le];return new Ve(e.segments.concat(t.segments),t.children)}return e}(new Ve(e.segments,t))}function Ao(e){return e instanceof eo}const Qh=!1;function QP(e,t,n,r,o){if(0===n.length)return Ii(t.root,t.root,t.root,r,o);const i=function lE(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new cE(!0,0,e);let t=0,n=!1;const r=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const l={};return Ut(i.outlets,(d,h)=>{l[h]="string"==typeof d?d.split("/"):d}),[...o,{outlets:l}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((l,d)=>{0==d&&"."===l||(0==d&&""===l?n=!0:".."===l?t++:""!=l&&o.push(l))}),o):[...o,i]},[]);return new cE(n,t,r)}(n);return i.toRoot()?Ii(t.root,t.root,new Ve([],{}),r,o):function s(d){const h=function JP(e,t,n,r){if(e.isAbsolute)return new Ai(t.root,!0,0);if(-1===r)return new Ai(n,n===t.root,0);return function uE(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new T(4005,Qh&&"Invalid number of '../'");o=r.segments.length}return new Ai(r,!1,o-i)}(n,r+(zs(e.commands[0])?0:1),e.numberOfDoubleDots)}(i,t,e.snapshot?._urlSegment,d),g=h.processChildren?Ti(h.segmentGroup,h.index,i.commands):Yh(h.segmentGroup,h.index,i.commands);return Ii(t.root,h.segmentGroup,g,r,o)}(e.snapshot?._lastPathIndex)}function zs(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Gs(e){return"object"==typeof e&&null!=e&&e.outlets}function Ii(e,t,n,r,o){let s,i={};r&&Ut(r,(d,h)=>{i[h]=Array.isArray(d)?d.map(g=>`${g}`):`${d}`}),s=e===t?n:aE(e,t,n);const l=Zh(al(s));return new eo(l,i,o)}function aE(e,t,n){const r={};return Ut(e.children,(o,i)=>{r[i]=o===t?n:aE(o,t,n)}),new Ve(e.segments,r)}class cE{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&zs(r[0]))throw new T(4003,Qh&&"Root segment cannot have matrix parameters");const o=r.find(Gs);if(o&&o!==QC(r))throw new T(4004,Qh&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ai{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function Yh(e,t,n){if(e||(e=new Ve([],{})),0===e.segments.length&&e.hasChildren())return Ti(e,t,n);const r=function eN(e,t,n){let r=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;const s=e.segments[o],l=n[r];if(Gs(l))break;const d=`${l}`,h=r<n.length-1?n[r+1]:null;if(o>0&&void 0===d)break;if(d&&h&&"object"==typeof h&&void 0===h.outlets){if(!hE(d,h,s))return i;r+=2}else{if(!hE(d,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const i=new Ve(e.segments.slice(0,r.pathIndex),{});return i.children[Le]=new Ve(e.segments.slice(r.pathIndex),e.children),Ti(i,0,o)}return r.match&&0===o.length?new Ve(e.segments,{}):r.match&&!e.hasChildren()?Jh(e,t,n):r.match?Ti(e,0,o):Jh(e,t,n)}function Ti(e,t,n){if(0===n.length)return new Ve(e.segments,{});{const r=function XP(e){return Gs(e[0])?e[0].outlets:{[Le]:e}}(n),o={};if(!r[Le]&&e.children[Le]&&1===e.numberOfChildren&&0===e.children[Le].segments.length){const i=Ti(e.children[Le],t,n);return new Ve(e.segments,i.children)}return Ut(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=Yh(e.children[s],t,i))}),Ut(e.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Ve(e.segments,o)}}function Jh(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const i=n[o];if(Gs(i)){const d=tN(i.outlets);return new Ve(r,d)}if(0===o&&zs(n[0])){r.push(new Vs(e.segments[t].path,dE(n[0]))),o++;continue}const s=Gs(i)?i.outlets[Le]:`${i}`,l=o<n.length-1?n[o+1]:null;s&&l&&zs(l)?(r.push(new Vs(s,dE(l))),o+=2):(r.push(new Vs(s,{})),o++)}return new Ve(r,{})}function tN(e){const t={};return Ut(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=Jh(new Ve([],{}),0,n))}),t}function dE(e){const t={};return Ut(e,(n,r)=>t[r]=`${n}`),t}function hE(e,t,n){return e==n.path&&cr(t,n.parameters)}const Ks="imperative";class lr{constructor(t,n){this.id=t,this.url=n}}class Xh extends lr{constructor(t,n,r="imperative",o=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class To extends lr{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cl extends lr{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ll extends lr{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=16}}class ef extends lr{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nN extends lr{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rN extends lr{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oN extends lr{constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iN extends lr{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sN extends lr{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aN{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cN{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lN{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uN{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dN{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hN{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fE{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let gN=(()=>{class e{createUrlTree(n,r,o,i,s,l){return QP(n||r.root,o,i,s,l)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})(),yN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:function(t){return gN.\u0275fac(t)},providedIn:"root"}),e})();class pE{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=tf(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=tf(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=nf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return nf(t,this._root).map(n=>n.value)}}function tf(e,t){if(e===t.value)return t;for(const n of t.children){const r=tf(e,n);if(r)return r}return null}function nf(e,t){if(e===t.value)return[t];for(const n of t.children){const r=nf(e,n);if(r.length)return r.unshift(t),r}return[]}class xr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function wi(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class gE extends pE{constructor(t,n){super(t),this.snapshot=n,rf(this,t)}toString(){return this.snapshot.toString()}}function mE(e,t){const n=function _N(e,t){const s=new ul([],{},{},"",{},Le,t,null,e.root,-1,{});return new _E("",new xr(s,[]))}(e,t),r=new Nn([new Vs("",{})]),o=new Nn({}),i=new Nn({}),s=new Nn({}),l=new Nn(""),d=new Si(r,o,s,l,i,Le,t,n.root);return d.snapshot=n.root,new gE(new xr(d,[]),n)}class Si{constructor(t,n,r,o,i,s,l,d){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=l,this.title=this.data?.pipe(Re(h=>h[Bs]))??ve(void 0),this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Re(t=>Ei(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Re(t=>Ei(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yE(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const o=n[r],i=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function vN(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ul{get title(){return this.data?.[Bs]}constructor(t,n,r,o,i,s,l,d,h,g,_){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=l,this.routeConfig=d,this._urlSegment=h,this._lastPathIndex=g,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ei(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ei(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _E extends pE{constructor(t,n){super(n),this.url=t,rf(this,n)}toString(){return vE(this._root)}}function rf(e,t){t.value._routerState=e,t.children.forEach(n=>rf(e,n))}function vE(e){const t=e.children.length>0?` { ${e.children.map(vE).join(", ")} } `:"";return`${e.value}${t}`}function sf(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,cr(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),cr(t.params,n.params)||e.params.next(n.params),function PP(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!cr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),cr(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function af(e,t){const n=cr(e.params,t.params)&&function FP(e,t){return Io(e,t)&&e.every((n,r)=>cr(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||af(e.parent,t.parent))}function Ws(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function EN(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Ws(e,r,o);return Ws(e,r)})}(e,t,n);return new xr(r,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(l=>Ws(e,l)),s}}const r=function IN(e){return new Si(new Nn(e.url),new Nn(e.params),new Nn(e.queryParams),new Nn(e.fragment),new Nn(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>Ws(e,i));return new xr(r,o)}}const cf="ngNavigationCancelingError";function CE(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Ao(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=EE(!1,0,t);return o.url=n,o.navigationBehaviorOptions=r,o}function EE(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[cf]=!0,r.cancellationCode=t,n&&(r.url=n),r}function IE(e){return AE(e)&&Ao(e.url)}function AE(e){return e&&e[cf]}class AN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new qs,this.attachRef=null}}let qs=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new AN,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const dl=!1;let lf=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Le,this.activateEvents=new yt,this.deactivateEvents=new yt,this.attachEvents=new yt,this.detachEvents=new yt,this.parentContexts=je(qs),this.location=je(Gn),this.changeDetector=je(Pc),this.environmentInjector=je(Ar)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,dl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,dl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,dl);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,dl);this._activatedRoute=n;const o=this.location,s=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new TN(n,l,o.injector);if(r&&function wN(e){return!!e.resolveComponentFactory}(r)){const h=r.resolveComponentFactory(s);this.activated=o.createComponent(h,o.length,d)}else this.activated=o.createComponent(s,{index:o.length,injector:d,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=ke({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bn]}),e})();class TN{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Si?this.route:t===qs?this.childContexts:this.parent.get(t,n)}}let uf=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=zr({type:e,selectors:[["ng-component"]],standalone:!0,features:[w_],decls:1,vars:0,template:function(n,r){1&n&&gt(0,"router-outlet")},dependencies:[lf],encapsulation:2}),e})();function TE(e,t){return e.providers&&!e._injector&&(e._injector=Tc(e.providers,t,`Route: ${e.path}`)),e._injector??t}function hf(e){const t=e.children&&e.children.map(hf),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Le&&(n.component=uf),n}function xn(e){return e.outlet||Le}function wE(e,t){const n=e.filter(r=>xn(r)===t);return n.push(...e.filter(r=>xn(r)!==t)),n}function Zs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class RN{constructor(t,n,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),sf(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=wi(n);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Ut(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=wi(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:l})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=wi(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const o=wi(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new hN(i.value.snapshot))}),t.children.length&&this.forwardEvent(new uN(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(sf(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),sf(l.route.value),this.activateChildRoutes(t,null,s.children)}else{const l=Zs(o.snapshot),d=l?.get(ps)??null;s.attachRef=null,s.route=o,s.resolver=d,s.injector=l,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class SE{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class hl{constructor(t,n){this.component=t,this.route=n}}function kN(e,t,n){const r=e._root;return Qs(r,t?t._root:null,n,[r.value])}function Di(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function fA(e){return null!==Ta(e)}(e)?t.get(e):e:r}function Qs(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=wi(t);return e.children.forEach(s=>{(function PN(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,l=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const d=function NN(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Io(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Io(e.url,t.url)||!cr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!af(e,t)||!cr(e.queryParams,t.queryParams);default:return!af(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);d?o.canActivateChecks.push(new SE(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Qs(e,t,i.component?l?l.children:null:n,r,o),d&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new hl(l.outlet.component,s))}else s&&Ys(t,l,o),o.canActivateChecks.push(new SE(r)),Qs(e,null,i.component?l?l.children:null:n,r,o)})(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Ut(i,(s,l)=>Ys(s,n.getContext(l),o)),o}function Ys(e,t,n){const r=wi(e),o=e.value;Ut(r,(i,s)=>{Ys(i,o.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new hl(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Js(e){return"function"==typeof e}function ff(e){return e instanceof Xc||"EmptyError"===e?.name}const fl=Symbol("INITIAL_VALUE");function bi(){return ar(e=>VC(e.map(t=>t.pipe(Qr(1),function DP(...e){const t=so(e);return Qe((n,r)=>{(t?Jc(e,n,t):Jc(e,n)).subscribe(r)})}(fl)))).pipe(Re(t=>{for(const n of t)if(!0!==n){if(n===fl)return fl;if(!1===n||n instanceof eo)return n}return!0}),Yr(t=>t!==fl),Qr(1)))}function DE(e){return function me(...e){return Me(e)}(Ft(t=>{if(Ao(t))throw CE(0,t)}),Re(t=>!0===t))}const pf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bE(e,t,n,r,o){const i=gf(e,t,n);return i.matched?function YN(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?ve(o.map(s=>{const l=Di(s,e);return Xr(function BN(e){return e&&Js(e.canMatch)}(l)?l.canMatch(t,n):e.runInContext(()=>l(t,n)))})).pipe(bi(),DE()):ve(!0)}(r=TE(t,r),t,n).pipe(Re(s=>!0===s?i:{...pf})):ve(i)}function gf(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...pf}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||OP)(n,e,t);if(!o)return{...pf};const i={};Ut(o.posParams,(l,d)=>{i[d]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function pl(e,t,n,r){if(n.length>0&&function ex(e,t,n){return n.some(r=>gl(e,t,r)&&xn(r)!==Le)}(e,n,r)){const i=new Ve(t,function XN(e,t,n,r){const o={};o[Le]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const i of n)if(""===i.path&&xn(i)!==Le){const s=new Ve([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,o[xn(i)]=s}return o}(e,t,r,new Ve(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function tx(e,t,n){return n.some(r=>gl(e,t,r))}(e,n,r)){const i=new Ve(e.segments,function JN(e,t,n,r,o){const i={};for(const s of r)if(gl(e,n,s)&&!o[xn(s)]){const l=new Ve([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,i[xn(s)]=l}return{...o,...i}}(e,t,n,r,e.children));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}const o=new Ve(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function gl(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function ME(e,t,n,r){return!!(xn(e)===r||r!==Le&&gl(t,n,e))&&("**"===e.path||gf(t,e,n).matched)}function RE(e,t,n){return 0===t.length&&!e.children[n]}const ml=!1;class yl{constructor(t){this.segmentGroup=t||null}}class kE{constructor(t){this.urlTree=t}}function Xs(e){return Hs(new yl(e))}function OE(e){return Hs(new kE(e))}class ix{constructor(t,n,r,o,i){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const t=pl(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ve(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Le).pipe(Re(i=>this.createUrlTree(al(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Nr(i=>{if(i instanceof kE)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof yl?this.noMatchError(i):i}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Le).pipe(Re(o=>this.createUrlTree(al(o),t.queryParams,t.fragment))).pipe(Nr(o=>{throw o instanceof yl?this.noMatchError(o):o}))}noMatchError(t){return new T(4002,ml)}createUrlTree(t,n,r){const o=Zh(t);return new eo(o,n,r)}expandSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(Re(i=>new Ve([],i))):this.expandSegment(t,r,n,r.segments,o,!0)}expandChildren(t,n,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return ze(o).pipe(Pr(i=>{const s=r.children[i],l=wE(n,i);return this.expandSegmentGroup(t,l,s,i).pipe(Re(d=>({segment:d,outlet:i})))}),KC((i,s)=>(i[s.outlet]=s.segment,i),{}),WC())}expandSegment(t,n,r,o,i,s){return ze(r).pipe(Pr(l=>this.expandSegmentAgainstRoute(t,n,r,l,o,i,s).pipe(Nr(h=>{if(h instanceof yl)return ve(null);throw h}))),Jr(l=>!!l),Nr((l,d)=>{if(ff(l))return RE(n,o,i)?ve(new Ve([],{})):Xs(n);throw l}))}expandSegmentAgainstRoute(t,n,r,o,i,s,l){return ME(o,n,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,n,o,i,s):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s):Xs(n):Xs(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?OE(i):this.lineralizeSegments(r,i).pipe(wt(s=>{const l=new Ve(s,{});return this.expandSegment(t,l,n,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s){const{matched:l,consumedSegments:d,remainingSegments:h,positionalParamSegments:g}=gf(n,o,i);if(!l)return Xs(n);const _=this.applyRedirectCommands(d,o.redirectTo,g);return o.redirectTo.startsWith("/")?OE(_):this.lineralizeSegments(o,_).pipe(wt(M=>this.expandSegment(t,n,r,M.concat(h),s,!1)))}matchSegmentAgainstRoute(t,n,r,o,i){return"**"===r.path?(t=TE(r,t),r.loadChildren?(r._loadedRoutes?ve({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(Re(l=>(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,new Ve(o,{})))):ve(new Ve(o,{}))):bE(n,r,o,t).pipe(ar(({matched:s,consumedSegments:l,remainingSegments:d})=>s?this.getChildConfig(t=r._injector??t,r,o).pipe(wt(g=>{const _=g.injector??t,M=g.routes,{segmentGroup:P,slicedSegments:B}=pl(n,l,d,M),W=new Ve(P.segments,P.children);if(0===B.length&&W.hasChildren())return this.expandChildren(_,M,W).pipe(Re(Z=>new Ve(l,Z)));if(0===M.length&&0===B.length)return ve(new Ve(l,{}));const te=xn(r)===i;return this.expandSegment(_,W,M,B,te?Le:i,!0).pipe(Re(he=>new Ve(l.concat(he.segments),he.children)))})):Xs(n)))}getChildConfig(t,n,r){return n.children?ve({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?ve({routes:n._loadedRoutes,injector:n._loadedInjector}):function QN(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?ve(!0):ve(o.map(s=>{const l=Di(s,e);return Xr(function LN(e){return e&&Js(e.canLoad)}(l)?l.canLoad(t,n):e.runInContext(()=>l(t,n)))})).pipe(bi(),DE())}(t,n,r).pipe(wt(o=>o?this.configLoader.loadChildren(t,n).pipe(Ft(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):function rx(e){return Hs(EE(ml,3))}())):ve({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return ve(r);if(o.numberOfChildren>1||!o.children[Le])return t.redirectTo,Hs(new T(4e3,ml));o=o.children[Le]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,o){const i=this.createSegmentGroup(t,n.root,r,o);return new eo(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Ut(t,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const l=o.substring(1);r[i]=n[l]}else r[i]=o}),r}createSegmentGroup(t,n,r,o){const i=this.createSegments(t,n.segments,r,o);let s={};return Ut(n.children,(l,d)=>{s[d]=this.createSegmentGroup(t,l,r,o)}),new Ve(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new T(4001,ml);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}class ax{}class ux{constructor(t,n,r,o,i,s,l){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=l}recognize(){const t=pl(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Le).pipe(Re(n=>{if(null===n)return null;const r=new ul([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Le,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new xr(r,n),i=new _E(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(t){const n=t.value,r=yE(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,o)}processChildren(t,n,r){return ze(Object.keys(r.children)).pipe(Pr(o=>{const i=r.children[o],s=wE(n,o);return this.processSegmentGroup(t,s,i,o)}),KC((o,i)=>o&&i?(o.push(...i),o):null),function RP(e,t=!1){return Qe((n,r)=>{let o=0;n.subscribe(Pe(r,i=>{const s=e(i,o++);(s||t)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),el(null),WC(),Re(o=>{if(null===o)return null;const i=NE(o);return function dx(e){e.sort((t,n)=>t.value.outlet===Le?-1:n.value.outlet===Le?1:t.value.outlet.localeCompare(n.value.outlet))}(i),i}))}processSegment(t,n,r,o,i){return ze(n).pipe(Pr(s=>this.processSegmentAgainstRoute(s._injector??t,s,r,o,i)),Jr(s=>!!s),Nr(s=>{if(ff(s))return RE(r,o,i)?ve([]):ve(null);throw s}))}processSegmentAgainstRoute(t,n,r,o,i){if(n.redirectTo||!ME(n,r,o,i))return ve(null);let s;if("**"===n.path){const l=o.length>0?QC(o).parameters:{},d=LE(r)+o.length;s=ve({snapshot:new ul(o,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FE(n),xn(n),n.component??n._loadedComponent??null,n,xE(r),d,UE(n)),consumedSegments:[],remainingSegments:[]})}else s=bE(r,n,o,t).pipe(Re(({matched:l,consumedSegments:d,remainingSegments:h,parameters:g})=>{if(!l)return null;const _=LE(r)+d.length;return{snapshot:new ul(d,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FE(n),xn(n),n.component??n._loadedComponent??null,n,xE(r),_,UE(n)),consumedSegments:d,remainingSegments:h}}));return s.pipe(ar(l=>{if(null===l)return ve(null);const{snapshot:d,consumedSegments:h,remainingSegments:g}=l;t=n._injector??t;const _=n._loadedInjector??t,M=function hx(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:P,slicedSegments:B}=pl(r,h,g,M.filter(te=>void 0===te.redirectTo));if(0===B.length&&P.hasChildren())return this.processChildren(_,M,P).pipe(Re(te=>null===te?null:[new xr(d,te)]));if(0===M.length&&0===B.length)return ve([new xr(d,[])]);const W=xn(n)===i;return this.processSegment(_,M,P,B,W?Le:i).pipe(Re(te=>null===te?null:[new xr(d,te)]))}))}}function fx(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function NE(e){const t=[],n=new Set;for(const r of e){if(!fx(r)){t.push(r);continue}const o=t.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=NE(r.children);t.push(new xr(r.value,o))}return t.filter(r=>!n.has(r))}function xE(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function LE(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function FE(e){return e.data||{}}function UE(e){return e.resolve||{}}function HE(e){return"string"==typeof e.title||null===e.title}function mf(e){return ar(t=>{const n=e(t);return n?ze(n).pipe(Re(()=>t)):ve(t)})}const Mi=new Ce("ROUTES");let yf=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=je(pv)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Xr(n.loadComponent()).pipe(Re(VE),Ft(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),Kh(()=>{this.componentLoaders.delete(n)})),o=new zC(r,()=>new _t).pipe(zh());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Re(l=>{this.onLoadEndListener&&this.onLoadEndListener(r);let d,h,g=!1;Array.isArray(l)?h=l:(d=l.create(n).injector,h=ZC(d.get(Mi,[],De.Self|De.Optional)));return{routes:h.map(hf),injector:d}}),Kh(()=>{this.childrenLoaders.delete(r)})),s=new zC(i,()=>new _t).pipe(zh());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return Xr(n()).pipe(Re(VE),wt(r=>r instanceof A_||Array.isArray(r)?ve(r):ze(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function VE(e){return function Ex(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let vl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new _t,this.configLoader=je(yf),this.environmentInjector=je(Ar),this.urlSerializer=je($s),this.rootContexts=je(qs),this.navigationId=0,this.afterPreactivation=()=>ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new cN(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new aN(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Nn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ks,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yr(r=>0!==r.id),Re(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),ar(r=>{let o=!1,i=!1;return ve(r).pipe(Ft(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ar(s=>{const l=n.browserUrlTree.toString(),d=!n.navigated||s.extractedUrl.toString()!==l||l!==n.currentUrlTree.toString();if(!d&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new ll(s.id,n.serializeUrl(r.rawUrl),g,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),tn}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return $E(s.source)&&(n.browserUrlTree=s.extractedUrl),ve(s).pipe(ar(g=>{const _=this.transitions?.getValue();return this.events.next(new Xh(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?tn:Promise.resolve(g)}),function sx(e,t,n,r){return ar(o=>function ox(e,t,n,r,o){return new ix(e,t,n,r,o).apply()}(e,t,n,o.extractedUrl,r).pipe(Re(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Ft(g=>{this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects},r.urlAfterRedirects=g.urlAfterRedirects}),function gx(e,t,n,r,o){return wt(i=>function lx(e,t,n,r,o,i,s="emptyOnly"){return new ux(e,t,n,r,o,s,i).recognize().pipe(ar(l=>null===l?function cx(e){return new J(t=>t.error(e))}(new ax):ve(l)))}(e,t,n,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(Re(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ft(g=>{if(r.targetSnapshot=g.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!g.extras.skipLocationChange){const M=n.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);n.setBrowserUrl(M,g)}n.browserUrlTree=g.urlAfterRedirects}const _=new nN(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:g,extractedUrl:_,source:M,restoredState:P,extras:B}=s,W=new Xh(g,this.urlSerializer.serialize(_),M,P);this.events.next(W);const te=mE(_,this.rootComponentType).snapshot;return ve(r={...s,targetSnapshot:te,urlAfterRedirects:_,extras:{...B,skipLocationChange:!1,replaceUrl:!1}})}{const g="";return this.events.next(new ll(s.id,n.serializeUrl(r.extractedUrl),g,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),tn}}),Ft(s=>{const l=new rN(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),Re(s=>r={...s,guards:kN(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function $N(e,t){return wt(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?ve({...n,guardsResult:!0}):function jN(e,t,n,r){return ze(e).pipe(wt(o=>function ZN(e,t,n,r,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?ve(i.map(l=>{const d=Zs(t)??o,h=Di(l,d);return Xr(function HN(e){return e&&Js(e.canDeactivate)}(h)?h.canDeactivate(e,t,n,r):d.runInContext(()=>h(e,t,n,r))).pipe(Jr())})).pipe(bi()):ve(!0)}(o.component,o.route,n,t,r)),Jr(o=>!0!==o,!0))}(s,r,o,e).pipe(wt(l=>l&&function xN(e){return"boolean"==typeof e}(l)?function zN(e,t,n,r){return ze(t).pipe(Pr(o=>Jc(function KN(e,t){return null!==e&&t&&t(new lN(e)),ve(!0)}(o.route.parent,r),function GN(e,t){return null!==e&&t&&t(new dN(e)),ve(!0)}(o.route,r),function qN(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function ON(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>jC(()=>ve(s.guards.map(d=>{const h=Zs(s.node)??n,g=Di(d,h);return Xr(function UN(e){return e&&Js(e.canActivateChild)}(g)?g.canActivateChild(r,e):h.runInContext(()=>g(r,e))).pipe(Jr())})).pipe(bi())));return ve(i).pipe(bi())}(e,o.path,n),function WN(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ve(!0);const o=r.map(i=>jC(()=>{const s=Zs(t)??n,l=Di(i,s);return Xr(function FN(e){return e&&Js(e.canActivate)}(l)?l.canActivate(t,e):s.runInContext(()=>l(t,e))).pipe(Jr())}));return ve(o).pipe(bi())}(e,o.route,n))),Jr(o=>!0!==o,!0))}(r,i,e,t):ve(l)),Re(l=>({...n,guardsResult:l})))})}(this.environmentInjector,s=>this.events.next(s)),Ft(s=>{if(r.guardsResult=s.guardsResult,Ao(s.guardsResult))throw CE(0,s.guardsResult);const l=new oN(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(l)}),Yr(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),mf(s=>{if(s.guards.canActivateChecks.length)return ve(s).pipe(Ft(l=>{const d=new iN(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ar(l=>{let d=!1;return ve(l).pipe(function mx(e,t){return wt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return ve(n);let i=0;return ze(o).pipe(Pr(s=>function yx(e,t,n,r){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!HE(o)&&(i[Bs]=o.title),function _x(e,t,n,r){const o=function vx(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===o.length)return ve({});const i={};return ze(o).pipe(wt(s=>function Cx(e,t,n,r){const o=Zs(t)??r,i=Di(e,o);return Xr(i.resolve?i.resolve(t,n):o.runInContext(()=>i(t,n)))}(e[s],t,n,r).pipe(Jr(),Ft(l=>{i[s]=l}))),Gh(1),LC(i),Nr(s=>ff(s)?tn:Hs(s)))}(i,e,t,r).pipe(Re(s=>(e._resolvedData=s,e.data=yE(e,n).resolve,o&&HE(o)&&(e.data[Bs]=o.title),null)))}(s.route,r,e,t)),Ft(()=>i++),Gh(1),wt(s=>i===o.length?ve(n):tn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ft({next:()=>d=!0,complete:()=>{d||(n.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),Ft(l=>{const d=new sN(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),mf(s=>{const l=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ft(g=>{d.component=g}),Re(()=>{})));for(const g of d.children)h.push(...l(g));return h};return VC(l(s.targetSnapshot.root)).pipe(el(),Qr(1))}),mf(()=>this.afterPreactivation()),Re(s=>{const l=function CN(e,t,n){const r=Ws(e,t._root,n?n._root:void 0);return new gE(r,t)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:l}}),Ft(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((e,t,n)=>Re(r=>(new RN(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s)),Qr(1),Ft({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new To(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Kh(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Nr(s=>{if(i=!0,AE(s)){IE(s)||(n.navigated=!0,n.restoreHistory(r,!0));const l=new cl(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(l),IE(s)){const d=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),h={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||$E(r.source)};n.scheduleNavigation(d,Ks,null,h,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const l=new ef(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(l);try{r.resolve(n.errorHandler(s))}catch(d){r.reject(d)}}return tn}))}))}cancelNavigationTransition(n,r,o){const i=new cl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function $E(e){return e!==Ks}let jE=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Le);return r}getResolvedTitleForRoute(n){return n.data[Bs]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:function(){return je(Ix)},providedIn:"root"}),e})(),Ix=(()=>{class e extends jE{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(ye(OC))},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ax=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:function(){return je(wx)},providedIn:"root"}),e})();class Tx{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let wx=(()=>{class e extends Tx{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(e)))(r||e)}}(),e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Cl=new Ce("",{providedIn:"root",factory:()=>({})});let Dx=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:function(){return je(bx)},providedIn:"root"}),e})(),bx=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Mx(e){throw e}function Rx(e,t,n){return t.parse("/")}const kx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ox={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ht=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=je(GR),this.isNgZoneEnabled=!1,this.options=je(Cl,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Mx,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Rx,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=je(Dx),this.routeReuseStrategy=je(Ax),this.urlCreationStrategy=je(yN),this.titleStrategy=je(jE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ZC(je(Mi,{optional:!0})??[]),this.navigationTransitions=je(vl),this.urlSerializer=je($s),this.location=je(Os),this.isNgZoneEnabled=je(Ct)instanceof Ct&&Ct.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new eo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mE(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ks,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const d={...o};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(i.state=d)}const l=this.parseUrl(n);this.scheduleNavigation(l,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(hf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:l,preserveFragment:d}=r,h=d?this.currentUrlTree.fragment:s;let g=null;switch(l){case"merge":g={...this.currentUrlTree.queryParams,...i};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=i||null}return null!==g&&(g=this.removeEmptyProps(g)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,n,g,h??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=Ao(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Ks,null,r)}navigate(n,r={skipLocationChange:!1}){return function Px(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new T(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return r}isActive(n,r){let o;if(o=!0===r?{...kx}:!1===r?{...Ox}:r,Ao(n))return JC(this.currentUrlTree,n,o);const i=this.parseUrl(n);return JC(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.keys(n).reduce((r,o)=>{const i=n[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let l,d,h,g;return s?(l=s.resolve,d=s.reject,h=s.promise):h=new Promise((_,M)=>{l=_,d=M}),g="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:g,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:l,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(_=>Promise.reject(_))}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",s)}else{const i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(o,"",i)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-(this.browserPageId??this.currentPageId);0!==i?this.location.historyGo(i):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ea=(()=>{class e{constructor(n,r,o,i,s,l){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new _t;const d=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===d||"area"===d,this.isAnchorElement?this.subscription=n.events.subscribe(h=>{h instanceof To&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Ci(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Ci(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Ci(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,o,i,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||o||i||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Zg(e,t,n){return function Vw(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?qg:Wg}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const o=this.renderer,i=this.el.nativeElement;null!==r?o.setAttribute(i,n,r):o.removeAttribute(i,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(n){return new(n||e)(ee(Ht),ee(Si),function Ga(e){return function hT(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(Up(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(xt(),e)}("tabindex"),ee(Tr),ee(En),ee(Eo))},e.\u0275dir=ke({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&ct("click",function(i){return r.onClick(i.button,i.ctrlKey,i.shiftKey,i.altKey,i.metaKey)}),2&n&&or("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[bn]}),e})();class zE{}let Lx=(()=>{class e{constructor(n,r,o,i,s){this.router=n,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Yr(n=>n instanceof To),Pr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=Tc(i.providers,n,`Route: ${i.path}`));const s=i._injector??n,l=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(l,i.children??i._loadedRoutes))}return ze(o).pipe(pr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ve(null);const i=o.pipe(wt(s=>null===s?ve(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?ze([i,this.loader.loadComponent(r)]).pipe(pr()):i})}}return e.\u0275fac=function(n){return new(n||e)(ye(Ht),ye(pv),ye(Ar),ye(zE),ye(yf))},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const vf=new Ce("");let GE=(()=>{class e{constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Xh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof To&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof fE&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fE(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function Sm(){throw new Error("invalid")}()},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();var An=(()=>((An=An||{})[An.COMPLETE=0]="COMPLETE",An[An.FAILED=1]="FAILED",An[An.REDIRECTING=2]="REDIRECTING",An))();const Ri=!1;function to(e,t){return{\u0275kind:e,\u0275providers:t}}const Cf=new Ce("",{providedIn:"root",factory:()=>!1});function WE(){const e=je(tr);return t=>{const n=e.get(kc);if(t!==n.components[0])return;const r=e.get(Ht),o=e.get(qE);1===e.get(Ef)&&r.initialNavigation(),e.get(ZE,null,De.Optional)?.setUpPreloading(),e.get(vf,null,De.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const qE=new Ce(Ri?"bootstrap done indicator":"",{factory:()=>new _t}),Ef=new Ce(Ri?"initial navigation":"",{providedIn:"root",factory:()=>1});function Vx(){let e=[];return e=Ri?[{provide:nc,multi:!0,useFactory:()=>{const t=je(Ht);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function fN(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],to(1,e)}const ZE=new Ce(Ri?"router preloader":"");function $x(e){return to(0,[{provide:ZE,useExisting:Lx},{provide:zE,useExisting:e}])}const ta=!1,QE=new Ce(ta?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),jx=[Os,{provide:$s,useClass:Wh},Ht,qs,{provide:Si,useFactory:function KE(e){return e.routerState.root},deps:[Ht]},yf,ta?{provide:Cf,useValue:!0}:[]];function zx(){return new Iv("Router",Ht)}let YE=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[jx,ta&&r?.enableTracing?Vx().\u0275providers:[],{provide:Mi,multi:!0,useValue:n},{provide:QE,useFactory:qx,deps:[[Ht,new os,new is]]},{provide:Cl,useValue:r||{}},r?.useHash?{provide:Eo,useClass:P0}:{provide:Eo,useClass:Gv},{provide:vf,useFactory:()=>{const e=je(Xk),t=je(Ct),n=je(Cl),r=je(vl),o=je($s);return n.scrollOffset&&e.setOffset(n.scrollOffset),new GE(o,r,e,t,n)}},r?.preloadingStrategy?$x(r.preloadingStrategy).\u0275providers:[],{provide:Iv,multi:!0,useFactory:zx},r?.initialNavigation?Zx(r):[],[{provide:JE,useFactory:WE},{provide:Ev,multi:!0,useExisting:JE}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Mi,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(ye(QE,8))},e.\u0275mod=Dn({type:e}),e.\u0275inj=mn({imports:[uf]}),e})();function qx(e){if(ta&&e)throw new T(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Zx(e){return["disabled"===e.initialNavigation?to(3,[{provide:bc,multi:!0,useFactory:()=>{const t=je(Ht);return()=>{t.setUpLocationChangeListener()}}},{provide:Ef,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?to(2,[{provide:Ef,useValue:0},{provide:bc,multi:!0,deps:[tr],useFactory:t=>{const n=t.get(k0,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const o=t.get(Ht),i=t.get(qE);(function Fx(e,t){e.events.pipe(Yr(n=>n instanceof To||n instanceof cl||n instanceof ef||n instanceof ll),Re(n=>n instanceof To||n instanceof ll?An.COMPLETE:n instanceof cl&&(0===n.code||1===n.code)?An.REDIRECTING:An.FAILED),Yr(n=>n!==An.REDIRECTING),Qr(1)).subscribe(()=>{t()})})(o,()=>{r(!0)}),t.get(vl).afterPreactivation=()=>(r(!0),i.closed?ve(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const JE=new Ce(ta?"Router Initializer":""),XE="@azure/msal-angular",If="3.0.9",El=new Ce("MSAL_INSTANCE"),eI=new Ce("MSAL_GUARD_CONFIG"),Yx=new Ce("MSAL_INTERCEPTOR_CONFIG"),Jx=new Ce("MSAL_BROADCAST_CONFIG");let wo=(()=>{class e{constructor(n,r){this.instance=n,this.location=r;const o=this.location.path(!0).split("#").pop();o&&(this.redirectHash=`#${o}`),this.instance.initializeWrapperLibrary(ft.lA.Angular,If)}initialize(){return ze(this.instance.initialize())}acquireTokenPopup(n){return ze(this.instance.acquireTokenPopup(n))}acquireTokenRedirect(n){return ze(this.instance.acquireTokenRedirect(n))}acquireTokenSilent(n){return ze(this.instance.acquireTokenSilent(n))}handleRedirectObservable(n){return ze(this.instance.initialize().then(()=>this.instance.handleRedirectPromise(n||this.redirectHash)))}loginPopup(n){return ze(this.instance.loginPopup(n))}loginRedirect(n){return ze(this.instance.loginRedirect(n))}logout(n){return ze(this.instance.logout(n))}logoutRedirect(n){return ze(this.instance.logoutRedirect(n))}logoutPopup(n){return ze(this.instance.logoutPopup(n))}ssoSilent(n){return ze(this.instance.ssoSilent(n))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(XE,If)),this.logger}setLogger(n){this.logger=n.clone(XE,If),this.instance.setLogger(n)}}return e.\u0275fac=function(n){return new(n||e)(ye(El),ye(Os))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})(),tI=(()=>{class e{constructor(n,r,o){this.msalInstance=n,this.authService=r,this.msalBroadcastConfig=o,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.authService.getLogger().verbose(`BroadcastService - eventsToReplay set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new _P(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new _t,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new Nn(ft.$H.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(i=>{this._msalSubject.next(i);const s=pP.getInteractionStatusFromEvent(i,this._inProgress.value);null!==s&&(this.authService.getLogger().verbose(`BroadcastService - ${i.eventType} results in setting inProgress from ${this._inProgress.value} to ${s}`),this._inProgress.next(s))})}}return e.\u0275fac=function(n){return new(n||e)(ye(El),ye(wo),ye(Jx,8))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})(),Xx=(()=>{class e{constructor(n,r,o,i,s){this.msalGuardConfig=n,this.msalBroadcastService=r,this.authService=o,this.location=i,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(n){return this.router.parseUrl(n)}getDestinationUrl(n){this.authService.getLogger().verbose("Guard - getting destination url");const r=document.getElementsByTagName("base"),o=this.location.normalize(r.length?r[0].href:window.location.origin),i=this.location.prepareExternalUrl(n);return i.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${o}/${i}`):`${o}${n}`}loginInteractively(n){const r="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,n):{...this.msalGuardConfig.authRequest};if(this.msalGuardConfig.interactionType===ft.s_.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(r).pipe(Re(i=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(i.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");const o=this.getDestinationUrl(n.url);return this.authService.loginRedirect({redirectStartPage:o,...r}).pipe(Re(()=>!1))}activateHelper(n){if(this.msalGuardConfig.interactionType!==ft.s_.Popup&&this.msalGuardConfig.interactionType!==ft.s_.Redirect)throw new gP.WK("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),!(typeof window<"u"))return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),ve(!0);if(mP.G.hashContainsKnownProperties(window.location.hash)&&yP.zd()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),ve(!1);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));const r=this.location.path(!0);return this.authService.initialize().pipe(Pr(()=>this.authService.handleRedirectObservable()),Pr(()=>{if(!this.authService.instance.getAllAccounts().length)return n?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(n)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),ve(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),n){const o=this.includesCode(n.url),i=!!n.root&&!!n.root.fragment&&this.includesCode(`#${n.root.fragment}`),s=0===this.location.prepareExternalUrl(n.url).indexOf("#");if(o&&(i||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),r.indexOf("#")>-1?ve(this.parseUrl(this.location.path())):ve(this.parseUrl(""))}return ve(!0)}),Nr(o=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${o.message}`),this.loginFailedRoute&&n?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),ve(this.loginFailedRoute)):ve(!1))))}includesCode(n){return n.lastIndexOf("/code")>-1&&n.lastIndexOf("/code")===n.length-5||n.indexOf("#code=")>-1||n.indexOf("&code=")>-1}canActivate(n,r){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(r)}canActivateChild(n,r){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(r)}canMatch(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return e.\u0275fac=function(n){return new(n||e)(ye(eI),ye(tI),ye(wo),ye(Os),ye(Ht))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})(),eL=(()=>{class e{static forRoot(n,r,o){return{ngModule:e,providers:[{provide:El,useValue:n},{provide:eI,useValue:r},{provide:Yx,useValue:o},wo]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dn({type:e}),e.\u0275inj=mn({providers:[Xx,tI],imports:[cC]}),e})(),Il=(()=>{class e{login(n,r){return console.log(n),console.log(r),this.isUserLoggedIn="123456789"==n&&"987654321"==r,localStorage.setItem("isUserLoggedIn",this.isUserLoggedIn?"true":"false"),ve(this.isUserLoggedIn).pipe(function fP(e,t=xC){const n=function hP(e=0,t,n=cP){let r=-1;return null!=t&&(ko(t)?n=t:r=t),new J(o=>{let i=function dP(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}(e,t);return FC(()=>n)}(1e3),Ft(o=>{console.log("Is User Authentication is successful: "+o)}))}logout(){this.isUserLoggedIn=!1,localStorage.removeItem("isUserLoggedIn"),this.msalService.logout()}getemail(){this.msalService.instance.getActiveAccount()}constructor(n){this.msalService=n,this.isUserLoggedIn=!1}static#e=this.\u0275fac=function(r){return new(r||e)(ye(wo))};static#t=this.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tL(e,t){1&e&&(ae(0,"nav",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"button",7),gt(5,"span",8),ge()(),ae(6,"div",9)(7,"a",10),Ae(8,"Digital Bus Pass"),ge()(),ae(9,"div",11),function xp(){Ne.lFrame.currentNamespace=vp}(),ae(10,"svg",12),gt(11,"path",13),ge()()(),function Lp(){!function nT(){Ne.lFrame.currentNamespace=null}()}(),ae(12,"div",14)(13,"ul",15)(14,"li",16)(15,"a",17),Ae(16,"Home"),ge()(),ae(17,"li",16)(18,"a",18),Ae(19,"Admin"),ge()(),ae(20,"li",16)(21,"a",19),Ae(22,"Logout"),ge()()()()()())}function nL(e,t){1&e&&(ae(0,"footer",20)(1,"div",21),gt(2,"img",22),ge()())}let rL=(()=>{class e{get isUser(){let n=localStorage.getItem("isUserLoggedIn");return console.log("StoreData: "+n),this.isUserLoggedIn=null!=n&&"true"==n,this.isUserLoggedIn}constructor(n){this.authService=n,this.title="eTMS"}ngOnInit(){let n=localStorage.getItem("isUserLoggedIn");console.log("StoreData: "+n),this.isUserLoggedIn=null!=n&&"true"==n}static#e=this.\u0275fac=function(r){return new(r||e)(ee(Il))};static#t=this.\u0275cmp=zr({type:e,selectors:[["app-root"]],decls:8,vars:2,consts:[["class","navbar navbar-dark sticky-top navbar-expand-lg","style","background: rgb(84, 28, 151)",4,"ngIf"],[1,"container"],["class","footer mt-15",4,"ngIf"],[1,"navbar","navbar-dark","sticky-top","navbar-expand-lg",2,"background","rgb(84, 28, 151)"],[1,"container-fluid",2,"background","rgb(84, 28, 151)"],[1,"row"],[1,"col-1"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarTogglerDemo01","aria-controls","navbarTogglerDemo01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","btnnb","text-white"],[1,"navbar-toggler-icon"],[1,"col","ps-5","ms-5"],["href","#",1,"navbar-brand","text-white"],[1,"col-1","text-end","mt-2","me-2"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-bell-fill",2,"color","white"],["d","M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"],["id","navbarTogglerDemo01",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/home","href","#",1,"nav-link","text-white"],["routerLink","/admin","href","#",1,"nav-link","text-white"],["routerLink","/logout","href","#",1,"nav-link","text-white"],[1,"footer","mt-15"],[1,"footer","text-center",2,"width","100%","padding-bottom","10px"],["height","50px","src","https://tcs.com/content/dam/tcs/images/Newtcslogo/tcs-logo-tata-blue-1x-dec2021.png","alt","Alternate Text"]],template:function(r,o){1&r&&(fi(0,tL,23,0,"nav",0),ae(1,"div",1),gt(2,"router-outlet"),ge(),gt(3,"br")(4,"br")(5,"br")(6,"br"),fi(7,nL,3,0,"footer",2)),2&r&&(Pt("ngIf",o.isUser),et(7),Pt("ngIf",o.isUserLoggedIn))},dependencies:[bh,lf,ea],styles:['.navbar-inverse[_ngcontent-%COMP%]   .navbar-toggle[_ngcontent-%COMP%] {\n    background-color: #541c97;\n  }\n\n  .navbar-inverse[_ngcontent-%COMP%]   .navbar-toggle[_ngcontent-%COMP%]:focus, .navbar-inverse[_ngcontent-%COMP%]   .navbar-toggle[_ngcontent-%COMP%]:hover {\n    background-color: #541c97;\n  }\n\n  .footer[_ngcontent-%COMP%] {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    color: white;\n    text-align: center;\n  }\n\n  .navbar-toggle[_ngcontent-%COMP%] {\n    border: 0px solid transparent;\n  }\n  .body[_ngcontent-%COMP%] {\n    font-size: 16px;\n  }\n\n  .btnnb[_ngcontent-%COMP%] {\n    border: none;\n  }\n  .navbar-toggler[_ngcontent-%COMP%]:focus {\n    box-shadow: none;\n  }\n\n  .glyphicon-bell[_ngcontent-%COMP%] {\n    content: "\\e123";\n  }\n  .fa-bell[_ngcontent-%COMP%] {\n    content: "\\f0f3";\n  }\n  .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .icons[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {\n    color: white;\n  }']})}return e})();class Al{constructor(t,n,r,o,i,s,l,d,h,g){this.StartDate=t,this.EndDate=n,this.Source=r,this.Destination=o,this.RouteType=i,this.Name=s,this.EmployeeId=l,this.From=d,this.To=h,this.PickUpDrop=g}}let nI=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(ee(Tr),ee(En))},e.\u0275dir=ke({type:e}),e})(),So=(()=>{class e extends nI{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(e)))(r||e)}}(),e.\u0275dir=ke({type:e,features:[tt]}),e})();const ur=new Ce("NgValueAccessor"),sL={provide:ur,useExisting:a(()=>na),multi:!0},cL=new Ce("CompositionEventMode");let na=(()=>{class e extends nI{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function aL(){const e=Rr()?Rr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(ee(Tr),ee(En),ee(cL,8))},e.\u0275dir=ke({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ct("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[ut([sL]),tt]}),e})();const lL=!1;const Gt=new Ce("NgValidators"),ro=new Ce("NgAsyncValidators");function aI(e){return function no(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}(e.value)?{required:!0}:null}function Tl(e){return null}function fI(e){return null!=e}function pI(e){const t=Cs(e)?ze(e):e;if(lL&&!Md(t)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof e&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new T(-1101,n)}return t}function gI(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function mI(e,t){return t.map(n=>n(e))}function yI(e){return e.map(t=>function dL(e){return!e.validate}(t)?t:n=>t.validate(n))}function Af(e){return null!=e?function _I(e){if(!e)return null;const t=e.filter(fI);return 0==t.length?null:function(n){return gI(mI(n,t))}}(yI(e)):null}function Tf(e){return null!=e?function vI(e){if(!e)return null;const t=e.filter(fI);return 0==t.length?null:function(n){return function oL(...e){const t=Ui(e),{args:n,keys:r}=UC(e),o=new J(i=>{const{length:s}=n;if(!s)return void i.complete();const l=new Array(s);let d=s,h=s;for(let g=0;g<s;g++){let _=!1;pn(n[g]).subscribe(Pe(i,M=>{_||(_=!0,h--),l[g]=M},()=>d--,void 0,()=>{(!d||!_)&&(h||i.next(r?BC(r,l):l),i.complete())}))}});return t?o.pipe(HC(t)):o}(mI(n,t).map(pI)).pipe(Re(gI))}}(yI(e)):null}function CI(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function EI(e){return e._rawValidators}function II(e){return e._rawAsyncValidators}function wf(e){return e?Array.isArray(e)?e:[e]:[]}function wl(e,t){return Array.isArray(e)?e.includes(t):e===t}function AI(e,t){const n=wf(t);return wf(e).forEach(o=>{wl(n,o)||n.push(o)}),n}function TI(e,t){return wf(t).filter(n=>!wl(e,n))}class wI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Af(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Tf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Xt extends wI{get formDirective(){return null}get path(){return null}}class oo extends wI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class SI{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sf=(()=>{class e extends SI{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(ee(oo,2))},e.\u0275dir=ke({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&yc("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[tt]}),e})(),Df=(()=>{class e extends SI{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(ee(Xt,10))},e.\u0275dir=ke({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&yc("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[tt]}),e})();function DI(e,t){return e?`with name: '${t}'`:`at index: ${t}`}const Rf=!1,ra="VALID",Dl="INVALID",ki="PENDING",oa="DISABLED";function kf(e){return(bl(e)?e.validators:e)||null}function Of(e,t){return(bl(t)?t.asyncValidators:e)||null}function bl(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function bI(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new T(1e3,Rf?function gL(e){return`\n    There are no form controls registered with this ${e?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!r[n])throw new T(1001,Rf?function mL(e,t){return`Cannot find form control ${DI(e,t)}`}(t,n):"")}function MI(e,t,n){e._forEachChild((r,o)=>{if(void 0===n[o])throw new T(1002,Rf?function yL(e,t){return`Must supply a value for form control ${DI(e,t)}`}(t,o):"")})}class Ml{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ra}get invalid(){return this.status===Dl}get pending(){return this.status==ki}get disabled(){return this.status===oa}get enabled(){return this.status!==oa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(AI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(AI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(TI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(TI(t,this._rawAsyncValidators))}hasValidator(t){return wl(this._rawValidators,t)}hasAsyncValidator(t){return wl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ki,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=oa,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ra,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ra||this.status===ki)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oa:ra}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ki,this._hasOwnPendingAsyncValidator=!0;const n=pI(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new yt,this.statusChanges=new yt}_calculateStatus(){return this._allControlsDisabled()?oa:this.errors?Dl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ki)?ki:this._anyControlsHaveStatus(Dl)?Dl:ra}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function _L(e){return Array.isArray(e)?Af(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function vL(e){return Array.isArray(e)?Tf(e):e||null}(this._rawAsyncValidators)}}class ia extends Ml{constructor(t,n,r){super(kf(n),Of(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){MI(this,!0,t),Object.keys(t).forEach(r=>{bI(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class RI extends ia{}const Do=new Ce("CallSetDisabledState",{providedIn:"root",factory:()=>sa}),sa="always";function Rl(e,t){return[...t.path,e]}function aa(e,t,n=sa){Pf(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function EL(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&kI(e,t)})}(e,t),function AL(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function IL(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&kI(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function CL(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function kl(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Pl(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Ol(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Pf(e,t){const n=EI(e);null!==t.validator?e.setValidators(CI(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=II(e);null!==t.asyncValidator?e.setAsyncValidators(CI(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();Ol(t._rawValidators,o),Ol(t._rawAsyncValidators,o)}function Pl(e,t){let n=!1;if(null!==e){if(null!==t.validator){const o=EI(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=II(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return Ol(t._rawValidators,r),Ol(t._rawAsyncValidators,r),n}function kI(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function OI(e,t){Pf(e,t)}function xf(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function PI(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Lf(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(i=>{i.constructor===na?n=i:function SL(e){return Object.getPrototypeOf(e.constructor)===So}(i)?r=i:o=i}),o||r||n||null}const bL={provide:Xt,useExisting:a(()=>Nl)},ca=(()=>Promise.resolve())();let Nl=(()=>{class e extends Xt{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new yt,this.form=new ia({},Af(n),Tf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ca.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),aa(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ca.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ca.then(()=>{const r=this._findContainer(n.path),o=new ia({});OI(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ca.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ca.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,PI(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return e.\u0275fac=function(n){return new(n||e)(ee(Gt,10),ee(ro,10),ee(Do,8))},e.\u0275dir=ke({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&ct("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ut([bL]),tt]}),e})();function NI(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function xI(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Lr=class extends Ml{constructor(t=null,n,r){super(kf(n),Of(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=xI(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){NI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){NI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){xI(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},kL={provide:oo,useExisting:a(()=>Ff)},UI=(()=>Promise.resolve())();let Ff=(()=>{class e extends oo{constructor(n,r,o,i,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this.control=new Lr,this._registered=!1,this.update=new yt,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Lf(0,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),xf(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){aa(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){UI.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,o=0!==r&&Ci(r);UI.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Rl(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(ee(Xt,9),ee(Gt,10),ee(ro,10),ee(ur,10),ee(Pc,8),ee(Do,8))},e.\u0275dir=ke({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ut([kL]),tt,bn]}),e})(),Uf=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=ke({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const OL={provide:ur,useExisting:a(()=>Hf),multi:!0};let Hf=(()=>{class e extends So{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(e)))(r||e)}}(),e.\u0275dir=ke({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&ct("input",function(i){return r.onChange(i.target.value)})("blur",function(){return r.onTouched()})},features:[ut([OL]),tt]}),e})(),HI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dn({type:e}),e.\u0275inj=mn({}),e})();const Bf=new Ce("NgModelWithFormControlWarning"),FL={provide:Xt,useExisting:a(()=>xl)};let xl=(()=>{class e extends Xt{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new yt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return aa(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){kl(n.control||null,n,!1),function DL(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,PI(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,o=this.form.get(n.path);r!==o&&(kl(r||null,n),(e=>e instanceof Lr)(o)&&(aa(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);OI(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function TL(e,t){return Pl(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pf(this.form,this),this._oldForm&&Pl(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(n){return new(n||e)(ee(Gt,10),ee(ro,10),ee(Do,8))},e.\u0275dir=ke({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&ct("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ut([FL]),tt,bn]}),e})();const BL={provide:oo,useExisting:a(()=>jf)};let jf=(()=>{class e extends oo{set isDisabled(n){}constructor(n,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new yt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Lf(0,i)}ngOnChanges(n){this._added||this._setUpControl(),xf(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Rl(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(ee(Xt,13),ee(Gt,10),ee(ro,10),ee(ur,10),ee(Bf,8))},e.\u0275dir=ke({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ut([BL]),tt,bn]}),e})();const VL={provide:ur,useExisting:a(()=>Ll),multi:!0};function zI(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Ll=(()=>{class e extends So{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const o=zI(this._getOptionId(n),n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function $L(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(e)))(r||e)}}(),e.\u0275dir=ke({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&ct("change",function(i){return r.onChange(i.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ut([VL]),tt]}),e})(),GI=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(zI(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(ee(En),ee(Tr),ee(Ll,9))},e.\u0275dir=ke({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const jL={provide:ur,useExisting:a(()=>zf),multi:!0};function KI(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let zf=(()=>{class e extends So{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const o=n.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const o=[],i=r.selectedOptions;if(void 0!==i){const s=i;for(let l=0;l<s.length;l++){const h=this._getOptionValue(s[l].value);o.push(h)}}else{const s=r.options;for(let l=0;l<s.length;l++){const d=s[l];if(d.selected){const h=this._getOptionValue(d.value);o.push(h)}}}this.value=o,n(o)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function zL(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(e)))(r||e)}}(),e.\u0275dir=ke({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&ct("change",function(i){return r.onChange(i.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ut([jL]),tt]}),e})(),WI=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(KI(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(KI(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(ee(En),ee(Tr),ee(zf,9))},e.\u0275dir=ke({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),bo=(()=>{class e{constructor(){this._validator=Tl}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Tl,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=ke({type:e,features:[bn]}),e})();const WL={provide:Gt,useExisting:a(()=>Fl),multi:!0};let Fl=(()=>{class e extends bo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ci,this.createValidator=n=>aI}enabled(n){return n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(e)))(r||e)}}(),e.\u0275dir=ke({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&or("required",r._enabled?"":null)},inputs:{required:"required"},features:[ut([WL]),tt]}),e})(),rA=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dn({type:e}),e.\u0275inj=mn({imports:[HI]}),e})();class oA extends Ml{constructor(t,n,r){super(kf(n),Of(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){MI(this,!1,t),t.forEach((r,o)=>{bI(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function iA(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let XL=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,r=null){const o=this._reduceControls(n);let i={};return iA(r)?i=r:null!==r&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new ia(o,i)}record(n,r=null){const o=this._reduceControls(n);return new RI(o,r)}control(n,r,o){let i={};return this.useNonNullable?(iA(r)?i=r:(i.validators=r,i.asyncValidators=o),new Lr(n,{...i,nonNullable:!0})):new Lr(n,r,o)}array(n,r,o){const i=n.map(s=>this._createControl(s));return new oA(i,r,o)}_reduceControls(n){const r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){return n instanceof Lr||n instanceof Ml?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),sA=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Do,useValue:n.callSetDisabledState??sa}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dn({type:e}),e.\u0275inj=mn({imports:[rA]}),e})(),aA=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Bf,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Do,useValue:n.callSetDisabledState??sa}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dn({type:e}),e.\u0275inj=mn({imports:[rA]}),e})();function eF(e,t){if(1&e&&(ae(0,"div",19)(1,"div",3),Ae(2,"Office In Time -"),ae(3,"span",25),Ae(4),ge()(),ae(5,"div",3),Ae(6,"Office Out Time -"),ae(7,"span",26),Ae(8),ge()()()),2&e){const n=gc();et(4),cn(n.passdetail.From),et(4),cn(n.passdetail.To)}}function tF(e,t){if(1&e&&(ae(0,"div",19)(1,"div",3),Ae(2,"Office In Time -"),ae(3,"span",25),Ae(4),ge()()()),2&e){const n=gc();et(4),cn(n.passdetail.From)}}function nF(e,t){if(1&e&&(ae(0,"div",19)(1,"div",27),Ae(2,"Office Out Time -"),ae(3,"span",26),Ae(4),ge()()()),2&e){const n=gc();et(4),cn(n.passdetail.To)}}let cA=(()=>{class e{constructor(){this.title="Pass",this.passdetail=new Al((new Date).toDateString(),(new Date).toDateString(),"VA","TCS Olympus","Both","Test",12345,"07:00","19:00","X to Y Via N ")}ngOnInit(){let n=localStorage.getItem("passdetails");console.log("null"==n),"null"!=n&&null!=n?(console.log("Test"),this.passdetail=JSON.parse(n)):this.passdetail=new Al((new Date).toDateString(),(new Date).toDateString(),"VA","TCS Olympus","Both","Test",12345,"07:00","19:00","X to Y Via N "),console.log(this.passdetail)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=zr({type:e,selectors:[["home-root"]],decls:92,vars:12,consts:[[1,"container","mt-3","divPass"],["id","HeadContainer",1,"text-center",2,"background-color","saddlebrown","border-radius","8px","color","white","padding","5px","font-weight","bold","font-size","18px"],[1,"row","text-center"],[1,"col"],[1,"Source"],[1,"glyphicon","glyphicon-reverse-arrow",2,"font-size","x-large","height","15px","width","20px"],["id","Destination","name","Destination"],["class","row",4,"ngIf"],[1,"container","card","divPass"],[1,"panel","panel-default"],[1,"panel-body"],[2,"width","100%"],[2,"text-align","left"],[2,"text-align","right"],["name","Name","id","EmployeeName"],["id","EmployeeID"],["id","RouteType"],["id","StartDate"],["id","EndDate"],[1,"row"],[1,"col-3"],[1,"col-9","text-start"],["id","PickUpDrop"],[1,"text-center"],[1,"display-4"],["id","FromTime"],["id","ToTime"],[1,"col","d-flex","justify-content-center","align-item-center"]],template:function(r,o){1&r&&(ae(0,"form")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"span",4),Ae(6),ge()()(),ae(7,"div",2)(8,"div",3),gt(9,"span",5),ge()(),ae(10,"div",2)(11,"div",3)(12,"span",6),Ae(13),ge()()(),fi(14,eF,9,2,"div",7),fi(15,tF,5,1,"div",7),fi(16,nF,5,1,"div",7),ge()(),gt(17,"br"),ae(18,"div",8)(19,"div",9)(20,"div",10)(21,"table",11)(22,"tr")(23,"td",12),Ae(24,"Name"),ge(),ae(25,"td",13),Ae(26,"Employee ID"),ge()(),ae(27,"tr")(28,"td",12)(29,"b")(30,"span",14),Ae(31),ge()()(),ae(32,"td",13)(33,"b")(34,"span",15),Ae(35),ge()()()(),ae(36,"tr")(37,"td",12),Ae(38,"\xa0"),ge(),ae(39,"td",13),Ae(40,"\xa0"),ge()(),ae(41,"tr")(42,"td",12),Ae(43,"Bus Stop Name"),ge(),ae(44,"td",13),Ae(45,"Route Type"),ge()(),ae(46,"tr")(47,"td",12)(48,"b")(49,"span",4),Ae(50),ge()()(),ae(51,"td",13)(52,"b")(53,"span",16),Ae(54),ge()()()(),ae(55,"tr")(56,"td",12),Ae(57,"\xa0"),ge(),ae(58,"td",13),Ae(59,"\xa0"),ge()(),ae(60,"tr")(61,"td",12),Ae(62,"Start Date"),ge(),ae(63,"td",13),Ae(64,"End Date"),ge()(),ae(65,"tr")(66,"td",12)(67,"b")(68,"span",17),Ae(69),ge()()(),ae(70,"td",13)(71,"b")(72,"span",18),Ae(73),ge()()()()(),gt(74,"br"),ae(75,"div",19)(76,"div",20),Ae(77," Route "),ge(),ae(78,"div",21)(79,"b",22),Ae(80),ge()()(),ae(81,"div",23),gt(82,"h2",24),ge()()(),gt(83,"br")(84,"br")(85,"br")(86,"br")(87,"br")(88,"br")(89,"br")(90,"br")(91,"br"),ge()()),2&r&&(et(6),cn(o.passdetail.Source),et(7),cn(o.passdetail.Destination),et(1),Pt("ngIf","Both"==o.passdetail.RouteType),et(1),Pt("ngIf","PickUp"==o.passdetail.RouteType),et(1),Pt("ngIf","Drop"==o.passdetail.RouteType),et(15),cn(o.passdetail.Name),et(4),cn(o.passdetail.EmployeeId),et(15),cn(o.passdetail.Source),et(4),cn(o.passdetail.RouteType),et(15),cn(o.passdetail.StartDate),et(4),cn(o.passdetail.EndDate),et(7),vc("",o.passdetail.PickUpDrop," "))},dependencies:[bh,Uf,Df,Nl],styles:['.glyphicon-reverse-arrow[_ngcontent-%COMP%]:before {\n        content: "\\21CC";\n    }\n\n    #imgarrow[_ngcontent-%COMP%] {\n        -webkit-filter: invert(1);\n        filter: invert(1);\n    }\n\n    #HeadContainer[_ngcontent-%COMP%] {\n        background-image: linear-gradient(to right, #6666ff 15%, #4d4dff 40%, #751aff);\n    }']})}return e})(),rF=(()=>{class e{constructor(){this.title="Pass",this.passdetail=new Al((new Date).toDateString(),(new Date).toDateString(),"VA","TCS Olympus","Both","Test",12345,"07:00","19:00","X to Y Via N ")}ngOnInit(){let n=localStorage.getItem("passdetails");console.log("null"==n),"null"!=n&&null!=n?(console.log("Test"),this.passdetail=JSON.parse(n)):this.passdetail=new Al((new Date).toDateString(),(new Date).toDateString(),"VA","TCS Olympus","Both","Test",12345,"07:00","19:00","X to Y Via N "),console.log(this.passdetail)}SaveData(){console.log(this.passdetail);const n=JSON.stringify(this.passdetail);localStorage.setItem("passdetails",n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=zr({type:e,selectors:[["admin-root"]],decls:62,vars:10,consts:[["id","AdminPage",1,"container"],[1,"form-group"],[1,"row"],[1,"col-lg-6"],["type","text","name","passdetails.Source","id","txtSource",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","passdetail.Destination","id","txtDestination",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","txtFromTime",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","txtToTime",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","txtEmployeeID",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","txtEmployeeName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","txtStartDate",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","txtEndDate",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-select",3,"ngModel","ngModelChange"],["type","text","id","txtPickUpDrop",1,"form-control",3,"ngModel","ngModelChange"],["id","simple-color-picker","type","text","value","",1,"form-control"],["type","button","id","btnSave",1,"btn","btn-primary",3,"click"],[1,"container"]],template:function(r,o){1&r&&(ae(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ae(4," Source "),ae(5,"input",4),ct("ngModelChange",function(s){return o.passdetail.Source=s}),ge()(),ae(6,"div",3),Ae(7," Destination "),ae(8,"input",5),ct("ngModelChange",function(s){return o.passdetail.Destination=s}),ge()()(),ae(9,"div",2)(10,"div",3),Ae(11," Time From "),ae(12,"input",6),ct("ngModelChange",function(s){return o.passdetail.From=s}),ge()(),ae(13,"div",3),Ae(14," Time To "),ae(15,"input",7),ct("ngModelChange",function(s){return o.passdetail.To=s}),ge()()(),ae(16,"div",2)(17,"div",3),Ae(18," EmpoyeeID "),ae(19,"input",8),ct("ngModelChange",function(s){return o.passdetail.EmployeeId=s}),ge()(),ae(20,"div",3),Ae(21," Name "),ae(22,"input",9),ct("ngModelChange",function(s){return o.passdetail.Name=s}),ge()()(),ae(23,"div",2)(24,"div",3),Ae(25," Start Date "),ae(26,"input",10),ct("ngModelChange",function(s){return o.passdetail.StartDate=s}),ge()(),ae(27,"div",3),Ae(28," End Date "),ae(29,"input",11),ct("ngModelChange",function(s){return o.passdetail.EndDate=s}),ge()()(),ae(30,"div",2)(31,"div",3),Ae(32," Route Type "),ae(33,"select",12),ct("ngModelChange",function(s){return o.passdetail.RouteType=s}),ae(34,"option"),Ae(35,"Both"),ge(),ae(36,"option"),Ae(37,"Drop"),ge(),ae(38,"option"),Ae(39,"PickUp"),ge()()(),ae(40,"div",3),Ae(41," Pick Up Drop "),ae(42,"input",13),ct("ngModelChange",function(s){return o.passdetail.PickUpDrop=s}),ge()()(),ae(43,"div",2)(44,"div",3),Ae(45," Header Color "),gt(46,"input",14),ge(),gt(47,"div",3),ge(),ae(48,"div",2)(49,"div",3),gt(50,"br"),ae(51,"button",15),ct("click",function(){return o.SaveData()}),Ae(52,"Save"),ge()()()()(),ae(53,"div",16)(54,"div",2),gt(55,"br"),ge(),ae(56,"div",2),gt(57,"br"),ge(),ae(58,"div",2),gt(59,"br"),ge(),ae(60,"div",2),gt(61,"br"),ge()()),2&r&&(et(5),Pt("ngModel",o.passdetail.Source),et(3),Pt("ngModel",o.passdetail.Destination),et(4),Pt("ngModel",o.passdetail.From),et(3),Pt("ngModel",o.passdetail.To),et(4),Pt("ngModel",o.passdetail.EmployeeId),et(3),Pt("ngModel",o.passdetail.Name),et(4),Pt("ngModel",o.passdetail.StartDate),et(3),Pt("ngModel",o.passdetail.EndDate),et(4),Pt("ngModel",o.passdetail.RouteType),et(9),Pt("ngModel",o.passdetail.PickUpDrop))},dependencies:[GI,WI,na,Hf,Ll,Sf,Ff]})}return e})();var Mo=w(5861);let oF=(()=>{class e{constructor(n,r,o,i){this.authService=n,this.router=r,this.fb=o,this.msalservice=i,this.formData=o.group({userName:new Lr(""),password:new Lr("")})}ngOnInit(){var n=this;return(0,Mo.Z)(function*(){n.formData=n.fb.group({userName:new Lr(""),password:new Lr("")}),yield n.msalservice.instance.initialize(),yield n.msalservice.instance.handleRedirectPromise().then(r=>{null!=r&&null!=r.account&&(n.msalservice.instance.setActiveAccount(r.account),console.log(r.account),localStorage.setItem("isUserLoggedIn","true"),n.router.navigate(["/home"]))})})()}isLoggedIn(){return null!=this.msalservice.instance.getActiveAccount()}SSOLogin(){this.msalservice.loginRedirect()}onClickSubmit(n){this.userName=n.userName,this.password=n.password,console.log("Login page: "+this.userName),console.log("Login page: "+this.password),this.authService.login(this.userName,this.password).subscribe(r=>{console.log("Is Login Success: "+r),r&&this.router.navigate(["/home"])})}static#e=this.\u0275fac=function(r){return new(r||e)(ee(Il),ee(Ht),ee(XL),ee(wo))};static#t=this.\u0275cmp=zr({type:e,selectors:[["app-login"]],decls:23,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-lg-12","text-center",2,"padding-top","20px"],[1,"container","box",2,"margin-top","10px","padding-left","0px","padding-right","0px"],[1,"col-12",2,"text-align","center"],[1,"form-signin","card","shadow",3,"formGroup","ngSubmit"],[1,"form-signin-heading"],["for","inputEmail",1,"sr-only"],["type","text","id","username","formControlName","userName","placeholder","Username","required","","autofocus","",1,"form-control"],["for","inputPassword",1,"sr-only"],["type","password","id","inputPassword","formControlName","password","placeholder","Password","required","",1,"form-control"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block"],[1,"col-12","d-flex","justify-content-center","align-items-center"],[1,"card","mt-5"],[1,"card-body"],[1,"btn","btn-lg","btn-primary",3,"click"]],template:function(r,o){1&r&&(ae(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"form",5),ct("ngSubmit",function(){return o.onClickSubmit(o.formData.value)}),ae(7,"h2",6),Ae(8,"Please sign in"),ge(),ae(9,"label",7),Ae(10,"Email address"),ge(),gt(11,"input",8),ae(12,"label",9),Ae(13,"Password"),ge(),gt(14,"input",10),ae(15,"button",11),Ae(16,"Sign in"),ge()()()()()()(),ae(17,"div",1)(18,"div",12)(19,"div",13)(20,"div",14)(21,"button",15),ct("click",function(){return o.SSOLogin()}),Ae(22,"Microsoft SSO Login"),ge()()()()()()),2&r&&(et(6),Pt("formGroup",o.formData))},dependencies:[Uf,na,Sf,Df,Fl,xl,jf],styles:[".form-signin[_ngcontent-%COMP%]{max-width:330px;padding:15px;margin:0 auto}input[_ngcontent-%COMP%]{margin-bottom:20px}"]})}return e})(),iF=(()=>{class e{constructor(n,r,o){this.authService=n,this.router=r,this.msalservice=o}ngOnInit(){this.authService.logout(),this.router.navigate(["/"])}static#e=this.\u0275fac=function(r){return new(r||e)(ee(Il),ee(Ht),ee(wo))};static#t=this.\u0275cmp=zr({type:e,selectors:[["app-logout"]],decls:0,vars:0,template:function(r,o){}})}return e})(),Gf=(()=>{class e{constructor(n,r){this.authService=n,this.router=r}canActivate(n,r){return this.checkLogin(r.url)}checkLogin(n){console.log("Url: "+n);let r=localStorage.getItem("isUserLoggedIn");return null==r||"true"!=r?this.router.parseUrl("/login"):"/login"!=n||(this.router.parseUrl("/home"),!1)}static#e=this.\u0275fac=function(r){return new(r||e)(ye(Il),ye(Ht))};static#t=this.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const sF=[{path:"login",component:oF},{path:"logout",component:iF},{path:"denied",component:(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=zr({type:e,selectors:[["app-accessdenied"]],decls:7,vars:0,consts:[[1,"row","mt-5"],[1,"col-12"],["role","alert",1,"alert","alert-danger"],["routerLink","/login"]],template:function(r,o){1&r&&(ae(0,"div",0)(1,"div",1)(2,"div",2),Ae(3," Access Denied. Please Contact Admin for Access. "),ae(4,"a",3),Ae(5,"Click to Login"),ge(),Ae(6," Again "),ge()()())},dependencies:[ea]})}return e})()},{path:"home",component:cA,canActivate:[Gf]},{path:"admin",component:rF,canActivate:[Gf]},{path:"",component:cA,canActivate:[Gf]}];let aF=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Dn({type:e});static#n=this.\u0275inj=mn({imports:[YE.forRoot(sF),YE]})}return e})();var cF=w(2526),lF=w(1216),lA=w(9509);class uF{constructor(t){this.browserEnvironment=typeof window<"u",this.config=(0,lF._7)(t,this.browserEnvironment),this.logger=new cF.Y(this.config.system.loggerOptions,lA.u,lA.i),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}let uA=(()=>{class e extends uF{getModuleName(){return e.MODULE_NAME}getId(){return e.ID}initialize(){var n=this;return(0,Mo.Z)(function*(){return n.available=typeof window<"u",n.available})()}}return e.MODULE_NAME="",e.ID="StandardOperatingContext",e})();function Kf(){return(Kf=(0,Mo.Z)(function*(e){const t=new uA(e);return yield t.initialize(),(yield Promise.resolve().then(w.bind(w,4954))).StandardController.createController(t)})).apply(this,arguments)}var hF=w(4954);class qf{static createPublicClientApplication(t){return(0,Mo.Z)(function*(){const n=yield function dF(e){return Kf.apply(this,arguments)}(t);return new qf(t,n)})()}constructor(t,n){if(n)this.controller=n;else{const r=new uA(t);this.controller=new hF.StandardController(r)}}initialize(){var t=this;return(0,Mo.Z)(function*(){return t.controller.initialize()})()}acquireTokenPopup(t){var n=this;return(0,Mo.Z)(function*(){return n.controller.acquireTokenPopup(t)})()}acquireTokenRedirect(t){return this.controller.acquireTokenRedirect(t)}acquireTokenSilent(t){return this.controller.acquireTokenSilent(t)}acquireTokenByCode(t){return this.controller.acquireTokenByCode(t)}addEventCallback(t){return this.controller.addEventCallback(t)}removeEventCallback(t){return this.controller.removeEventCallback(t)}addPerformanceCallback(t){return this.controller.addPerformanceCallback(t)}removePerformanceCallback(t){return this.controller.removePerformanceCallback(t)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(t){return this.controller.getAccount(t)}getAccountByHomeId(t){return this.controller.getAccountByHomeId(t)}getAccountByLocalId(t){return this.controller.getAccountByLocalId(t)}getAccountByUsername(t){return this.controller.getAccountByUsername(t)}getAllAccounts(t){return this.controller.getAllAccounts(t)}handleRedirectPromise(t){return this.controller.handleRedirectPromise(t)}loginPopup(t){return this.controller.loginPopup(t)}loginRedirect(t){return this.controller.loginRedirect(t)}logout(t){return this.controller.logout(t)}logoutRedirect(t){return this.controller.logoutRedirect(t)}logoutPopup(t){return this.controller.logoutPopup(t)}ssoSilent(t){return this.controller.ssoSilent(t)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(t){this.controller.setLogger(t)}setActiveAccount(t){this.controller.setActiveAccount(t)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(t,n){return this.controller.initializeWrapperLibrary(t,n)}setNavigationClient(t){this.controller.setNavigationClient(t)}getConfiguration(){return this.controller.getConfiguration()}hydrateCache(t,n){var r=this;return(0,Mo.Z)(function*(){return r.controller.hydrateCache(t,n)})()}clearCache(t){return this.controller.clearCache(t)}}const Zf={production:!0,clientId:"c239cee7-a528-4f5d-a711-06d20ada42a5",redirectUri:"https://probusrodrigues.github.io/login"};function fF(){return new qf({auth:{clientId:Zf.clientId,redirectUri:Zf.redirectUri},system:{allowNativeBroker:!1}})}let pF=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Dn({type:e,bootstrap:[rL]});static#n=this.\u0275inj=mn({providers:[{provide:El,useFactory:fF},wo],imports:[YO,aF,sA,aA,eL,sA,aA]})}return e})();QO().bootstrapModule(pF).catch(e=>console.error(e))},6555:(Ee,Q,w)=>{w.d(Q,{k:()=>C});class C{constructor(){this.cache=new Map}getItem(R){return this.cache.get(R)||null}setItem(R,O){this.cache.set(R,O)}removeItem(R){this.cache.delete(R)}getKeys(){const R=[];return this.cache.forEach((O,E)=>{R.push(E)}),R}containsKey(R){return this.cache.has(R)}clear(){this.cache.clear()}}},1216:(Ee,Q,w)=>{w.d(Q,{Is:()=>ne,_7:()=>F});var C=w(9128),f=w(1763),R=w(6145),O=w(2526),E=w(1878),I=w(464),v=w(322);const H={sendGetRequestAsync:()=>Promise.reject((0,I.zP)(v.M2)),sendPostRequestAsync:()=>Promise.reject((0,I.zP)(v.M2))};var S=w(905);class V{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class N{generateId(){return"callback-id"}startMeasurement(k,x){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:S.$L.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:k,startTimeMs:Date.now(),correlationId:x||""},measurement:new V}}startPerformanceMeasurement(){return new V}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}var K=w(8061),ce=w(1288),q=w(8468);class se{navigateInternal(k,x){return se.defaultNavigateWindow(k,x)}navigateExternal(k,x){return se.defaultNavigateWindow(k,x)}static defaultNavigateWindow(k,x){return x.noHistory?window.location.replace(k):window.location.assign(k),new Promise($=>{setTimeout(()=>{$(!0)},x.timeout)})}}var D=w(5861),b=w(9141),j=w(9238);class Y{sendGetRequestAsync(k,x){var $=this;return(0,D.Z)(function*(){let ie;try{ie=yield fetch(k,{method:q.EC.GET,headers:$.getFetchHeaders(x)})}catch{throw window.navigator.onLine?(0,b.Z_)(j.C8):(0,b.Z_)(j.Mq)}try{return{headers:$.getHeaderDict(ie.headers),body:yield ie.json(),status:ie.status}}catch{throw(0,b.Z_)(j.w6)}})()}sendPostRequestAsync(k,x){var $=this;return(0,D.Z)(function*(){const ie=x&&x.body||C.gT.EMPTY_STRING;let ue;try{ue=yield fetch(k,{method:q.EC.POST,headers:$.getFetchHeaders(x),body:ie})}catch{throw window.navigator.onLine?(0,b.Z_)(j.Dc):(0,b.Z_)(j.Mq)}try{return{headers:$.getHeaderDict(ue.headers),body:yield ue.json(),status:ue.status}}catch{throw(0,b.Z_)(j.w6)}})()}getFetchHeaders(k){const x=new Headers;if(!k||!k.headers)return x;const $=k.headers;return Object.keys($).forEach(ie=>{x.append(ie,$[ie])}),x}getHeaderDict(k){const x={};return k.forEach(($,ie)=>{x[ie]=$}),x}}const L=6e4,ne=1e4,le=3e4,pe=2e3;function F({auth:m,cache:k,system:x,telemetry:$},ie){const ue={clientId:C.gT.EMPTY_STRING,authority:`${C.gT.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:C.gT.EMPTY_STRING,authorityMetadata:C.gT.EMPTY_STRING,redirectUri:C.gT.EMPTY_STRING,postLogoutRedirectUri:C.gT.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:f.A.AAD,OIDCOptions:{serverResponseType:C.rg.FRAGMENT,defaultScopes:[C.gT.OPENID_SCOPE,C.gT.PROFILE_SCOPE,C.gT.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:R.z.None,tenant:C.gT.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1},me={cacheLocation:q.Ix.SessionStorage,temporaryCacheLocation:q.Ix.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!k||k.cacheLocation!==q.Ix.LocalStorage),claimsBasedCachingEnabled:!1},Me={loggerCallback:()=>{},logLevel:O.i.Info,piiLoggingEnabled:!1},nt={...{...E.z,loggerOptions:Me,networkClient:ie?new Y:H,navigationClient:new se,loadFrameTimeout:0,windowHashTimeout:x?.loadFrameTimeout||L,iframeHashTimeout:x?.loadFrameTimeout||ne,navigateFrameWait:0,redirectNavigationTimeout:le,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:x?.nativeBrokerHandshakeTimeout||pe,pollIntervalMilliseconds:q.qx.DEFAULT_POLL_INTERVAL_MS},...x,loggerOptions:x?.loggerOptions||Me},rt={application:{appName:C.gT.EMPTY_STRING,appVersion:C.gT.EMPTY_STRING},client:new N};if(m?.protocolMode!==f.A.OIDC&&m?.OIDCOptions&&new O.Y(nt.loggerOptions).warning(JSON.stringify((0,K.ei)(ce.qz))),m?.protocolMode&&m.protocolMode!==f.A.AAD&&nt?.allowNativeBroker)throw(0,K.ei)(ce.Ol);return{auth:{...ue,...m,OIDCOptions:{...ue.OIDCOptions,...m?.OIDCOptions}},cache:{...me,...k},system:nt,telemetry:{...rt,...$}}}},4954:(Ee,Q,w)=>{w.r(Q),w.d(Q,{StandardController:()=>ao});var C=w(5861),f=w(7918),R=w(368),O=w(3071),E=w(905),I=w(9312),v=w(9128),H=w(1635),S=w(4191),V=w(464),N=w(322),K=w(7712),ce=w(1071),q=w(5764),se=w(1783);class D{generateAppMetadataKey(){return D.generateAppMetadataCacheKey(this.environment,this.clientId)}static generateAppMetadataCacheKey(a,c){return[v.dg,a,c].join(v.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}static createAppMetadataEntity(a,c,u){const p=new D;return p.clientId=a,p.environment=c,u&&(p.familyId=u),p}static isAppMetadataEntity(a,c){return!!c&&0===a.indexOf(v.dg)&&c.hasOwnProperty("clientId")&&c.hasOwnProperty("environment")}}var b=w(9084);class j{static isThrottlingEntity(a,c){let u=!1;a&&(u=0===a.indexOf(v.bb.THROTTLING_PREFIX));let p=!0;return c&&(p=c.hasOwnProperty("throttleTime")),u&&p}}var Y=w(2007);class L{static setRequestState(a,c,u){const p=L.generateLibraryState(a,u);return c?`${p}${v.gT.RESOURCE_DELIM}${c}`:p}static generateLibraryState(a,c){if(!a)throw(0,V.zP)(N.QL);const u={id:a.createNewGuid()};c&&(u.meta=c);const p=JSON.stringify(u);return a.base64Encode(p)}static parseRequestState(a,c){if(!a)throw(0,V.zP)(N.QL);if(!c)throw(0,V.zP)(N.r8);try{const u=c.split(v.gT.RESOURCE_DELIM),p=u[0],y=u.length>1?u.slice(1).join(v.gT.RESOURCE_DELIM):v.gT.EMPTY_STRING,A=a.base64Decode(p),T=JSON.parse(A);return{userRequestState:y||v.gT.EMPTY_STRING,libraryState:T}}catch{throw(0,V.zP)(N.r8)}}}var le=w(2103);class pe{constructor(a,c,u,p,y){this.account=a||null,this.idToken=c||null,this.accessToken=u||null,this.refreshToken=p||null,this.appMetadata=y||null}}var F=w(9141),m=w(8468),k=w(6290),x=w(9616);class ${constructor(a){this.validateWindowStorage(a),this.windowStorage=window[a]}validateWindowStorage(a){if(a!==m.Ix.LocalStorage&&a!==m.Ix.SessionStorage||!window[a])throw(0,k.Z1)(x.m4)}getItem(a){return this.windowStorage.getItem(a)}setItem(a,c){this.windowStorage.setItem(a,c)}removeItem(a){this.windowStorage.removeItem(a)}getKeys(){return Object.keys(this.windowStorage)}containsKey(a){return this.windowStorage.hasOwnProperty(a)}}var ie=w(6555);function ue(re,a){if(!a)return null;try{return L.parseRequestState(re,a).libraryState.meta}catch{throw(0,V.zP)(N.r8)}}var me=w(3830),Me=w(3675),J=w(9238);class nt extends q.L{constructor(a,c,u,p,y){super(a,u,p,y),this.COOKIE_LIFE_MULTIPLIER=864e5,this.cacheConfig=c,this.logger=p,this.internalStorage=new ie.k,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),c.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps())}setupBrowserStorage(a){switch(a){case m.Ix.LocalStorage:case m.Ix.SessionStorage:try{return new $(a)}catch(c){this.logger.verbose(c);break}}return this.cacheConfig.cacheLocation=m.Ix.MemoryStorage,new ie.k}setupTemporaryCacheStorage(a,c){switch(c){case m.Ix.LocalStorage:case m.Ix.SessionStorage:try{return new $(a||m.Ix.SessionStorage)}catch(u){return this.logger.verbose(u),this.internalStorage}default:return this.internalStorage}}migrateCacheEntries(){const c=`${v.gT.CACHE_PREFIX}.${v.Vi.CLIENT_INFO}`,u=`${v.gT.CACHE_PREFIX}.${v.Vi.ERROR}`,p=`${v.gT.CACHE_PREFIX}.${v.Vi.ERROR_DESC}`,U=[this.browserStorage.getItem(`${v.gT.CACHE_PREFIX}.${v.Vi.ID_TOKEN}`),this.browserStorage.getItem(c),this.browserStorage.getItem(u),this.browserStorage.getItem(p)];[v.Vi.ID_TOKEN,v.Vi.CLIENT_INFO,v.Vi.ERROR,v.Vi.ERROR_DESC].forEach((_e,Oe)=>this.migrateCacheEntry(_e,U[Oe]))}migrateCacheEntry(a,c){c&&this.setTemporaryCache(a,c,!0)}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const a=this.getItem(m.Oq.ACCOUNT_KEYS),c=this.getItem(`${m.Oq.TOKEN_KEYS}.${this.clientId}`);a&&c?this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration."):this.browserStorage.getKeys().forEach(p=>{if(this.isCredentialKey(p)){const y=this.getItem(p);if(y){const A=this.validateAndParseJson(y);if(A&&A.hasOwnProperty("credentialType"))switch(A.credentialType){case v.d3.ID_TOKEN:if(se.Bq(A)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${p} found, saving key to token key map`);const z=this.updateCredentialCacheKey(p,A);return void this.addTokenKey(z,v.d3.ID_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${p}`);break;case v.d3.ACCESS_TOKEN:case v.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(se.Om(A)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${p} found, saving key to token key map`);const z=this.updateCredentialCacheKey(p,A);return void this.addTokenKey(z,v.d3.ACCESS_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${p}`);break;case v.d3.REFRESH_TOKEN:if(se.x4(A)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${p} found, saving key to token key map`);const z=this.updateCredentialCacheKey(p,A);return void this.addTokenKey(z,v.d3.REFRESH_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${p}`)}}}if(this.isAccountKey(p)){const y=this.getItem(p);if(y){const A=this.validateAndParseJson(y);A&&K.r.isAccountEntity(A)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${p} found, saving key to account key map`),this.addAccountKeyToMap(p))}}})}validateAndParseJson(a){try{const c=JSON.parse(a);return c&&"object"==typeof c?c:null}catch{return null}}getItem(a){return this.browserStorage.getItem(a)}setItem(a,c){this.browserStorage.setItem(a,c)}getAccount(a,c){this.logger.trace("BrowserCacheManager.getAccount called");const u=this.getCachedAccountEntity(a);return this.updateOutdatedCachedAccount(a,u,c)}getCachedAccountEntity(a){const c=this.getItem(a);if(!c)return this.removeAccountKeyFromMap(a),null;const u=this.validateAndParseJson(c);return u&&K.r.isAccountEntity(u)?q.L.toObject(new K.r,u):(this.removeAccountKeyFromMap(a),null)}setAccount(a){this.logger.trace("BrowserCacheManager.setAccount called");const c=a.generateAccountKey();this.setItem(c,JSON.stringify(a)),this.addAccountKeyToMap(c)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const a=this.getItem(m.Oq.ACCOUNT_KEYS);return a?JSON.parse(a):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(a){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${a}`);const c=this.getAccountKeys();-1===c.indexOf(a)?(c.push(a),this.setItem(m.Oq.ACCOUNT_KEYS,JSON.stringify(c)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(a){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${a}`);const c=this.getAccountKeys(),u=c.indexOf(a);u>-1?(c.splice(u,1),this.setItem(m.Oq.ACCOUNT_KEYS,JSON.stringify(c)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(a){var c=()=>super.removeAccount,u=this;return(0,C.Z)(function*(){c().call(u,a),u.removeAccountKeyFromMap(a)})()}removeOutdatedAccount(a){this.removeItem(a),this.removeAccountKeyFromMap(a)}removeIdToken(a){super.removeIdToken(a),this.removeTokenKey(a,v.d3.ID_TOKEN)}removeAccessToken(a){var c=()=>super.removeAccessToken,u=this;return(0,C.Z)(function*(){c().call(u,a),u.removeTokenKey(a,v.d3.ACCESS_TOKEN)})()}removeRefreshToken(a){super.removeRefreshToken(a),this.removeTokenKey(a,v.d3.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const a=this.getItem(`${m.Oq.TOKEN_KEYS}.${this.clientId}`);if(a){const c=this.validateAndParseJson(a);if(c&&c.hasOwnProperty("idToken")&&c.hasOwnProperty("accessToken")&&c.hasOwnProperty("refreshToken"))return c;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(a,c){this.logger.trace("BrowserCacheManager addTokenKey called");const u=this.getTokenKeys();switch(c){case v.d3.ID_TOKEN:-1===u.idToken.indexOf(a)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),u.idToken.push(a));break;case v.d3.ACCESS_TOKEN:-1===u.accessToken.indexOf(a)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),u.accessToken.push(a));break;case v.d3.REFRESH_TOKEN:-1===u.refreshToken.indexOf(a)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),u.refreshToken.push(a));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${c}`),(0,V.zP)(N.cy)}this.setItem(`${m.Oq.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(u))}removeTokenKey(a,c){this.logger.trace("BrowserCacheManager removeTokenKey called");const u=this.getTokenKeys();switch(c){case v.d3.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${a} from map`);const p=u.idToken.indexOf(a);p>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),u.idToken.splice(p,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case v.d3.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${a} from map`);const y=u.accessToken.indexOf(a);y>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),u.accessToken.splice(y,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case v.d3.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${a} from map`);const A=u.refreshToken.indexOf(a);A>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),u.refreshToken.splice(A,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${c}`),(0,V.zP)(N.cy)}this.setItem(`${m.Oq.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(u))}getIdTokenCredential(a){const c=this.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(a,v.d3.ID_TOKEN),null;const u=this.validateAndParseJson(c);return u&&se.Bq(u)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),u):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(a,v.d3.ID_TOKEN),null)}setIdTokenCredential(a){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const c=se.Mk(a);this.setItem(c,JSON.stringify(a)),this.addTokenKey(c,v.d3.ID_TOKEN)}getAccessTokenCredential(a){const c=this.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(a,v.d3.ACCESS_TOKEN),null;const u=this.validateAndParseJson(c);return u&&se.Om(u)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),u):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(a,v.d3.ACCESS_TOKEN),null)}setAccessTokenCredential(a){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const c=se.Mk(a);this.setItem(c,JSON.stringify(a)),this.addTokenKey(c,v.d3.ACCESS_TOKEN)}getRefreshTokenCredential(a){const c=this.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(a,v.d3.REFRESH_TOKEN),null;const u=this.validateAndParseJson(c);return u&&se.x4(u)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),u):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(a,v.d3.REFRESH_TOKEN),null)}setRefreshTokenCredential(a){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const c=se.Mk(a);this.setItem(c,JSON.stringify(a)),this.addTokenKey(c,v.d3.REFRESH_TOKEN)}getAppMetadata(a){const c=this.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const u=this.validateAndParseJson(c);return u&&D.isAppMetadataEntity(a,u)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),q.L.toObject(new D,u)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)}setAppMetadata(a){this.logger.trace("BrowserCacheManager.setAppMetadata called");const c=a.generateAppMetadataKey();this.setItem(c,JSON.stringify(a))}getServerTelemetry(a){const c=this.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const u=this.validateAndParseJson(c);return u&&se.Js(a,u)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),u):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(a,c){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(a,JSON.stringify(c))}getAuthorityMetadata(a){const c=this.internalStorage.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const u=this.validateAndParseJson(c);return u&&b.l.isAuthorityMetadataEntity(a,u)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),q.L.toObject(new b.l,u)):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(c=>this.isAuthorityMetadata(c))}setWrapperMetadata(a,c){this.internalStorage.setItem(m.Bs.WRAPPER_SKU,a),this.internalStorage.setItem(m.Bs.WRAPPER_VER,c)}getWrapperMetadata(){return[this.internalStorage.getItem(m.Bs.WRAPPER_SKU)||v.gT.EMPTY_STRING,this.internalStorage.getItem(m.Bs.WRAPPER_VER)||v.gT.EMPTY_STRING]}setAuthorityMetadata(a,c){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(a,JSON.stringify(c))}getActiveAccount(){const a=this.generateCacheKey(v.Vi.ACTIVE_ACCOUNT_FILTERS),c=this.getItem(a);if(!c){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const p=this.generateCacheKey(v.Vi.ACTIVE_ACCOUNT),y=this.getItem(p);if(!y)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const A=this.getAccountInfoFilteredBy({localAccountId:y});return A?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(A),A):null}const u=this.validateAndParseJson(c);return u?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:u.homeAccountId,localAccountId:u.localAccountId,tenantId:u.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(a){const c=this.generateCacheKey(v.Vi.ACTIVE_ACCOUNT_FILTERS),u=this.generateCacheKey(v.Vi.ACTIVE_ACCOUNT);a?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(c,JSON.stringify({homeAccountId:a.homeAccountId,localAccountId:a.localAccountId,tenantId:a.tenantId})),this.browserStorage.setItem(u,a.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(c),this.browserStorage.removeItem(u))}getThrottlingCache(a){const c=this.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const u=this.validateAndParseJson(c);return u&&j.isThrottlingEntity(a,u)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),q.L.toObject(new j,u)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(a,c){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(a,JSON.stringify(c))}getTemporaryCache(a,c){const u=c?this.generateCacheKey(a):a;if(this.cacheConfig.storeAuthStateInCookie){const y=this.getItemCookie(u);if(y)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),y}const p=this.temporaryCacheStorage.getItem(u);if(!p){if(this.cacheConfig.cacheLocation===m.Ix.LocalStorage){const y=this.browserStorage.getItem(u);if(y)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),y}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),p}setTemporaryCache(a,c,u){const p=u?this.generateCacheKey(a):a;this.temporaryCacheStorage.setItem(p,c),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(p,c))}removeItem(a){this.browserStorage.removeItem(a),this.temporaryCacheStorage.removeItem(a),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(a))}containsKey(a){return this.browserStorage.containsKey(a)||this.temporaryCacheStorage.containsKey(a)}getKeys(){return[...this.browserStorage.getKeys(),...this.temporaryCacheStorage.getKeys()]}clear(){var a=this;return(0,C.Z)(function*(){yield a.removeAllAccounts(),a.removeAppMetadata(),a.getKeys().forEach(c=>{(a.browserStorage.containsKey(c)||a.temporaryCacheStorage.containsKey(c))&&(-1!==c.indexOf(v.gT.CACHE_PREFIX)||-1!==c.indexOf(a.clientId))&&a.removeItem(c)}),a.internalStorage.clear()})()}clearTokensAndKeysWithClaims(a){var c=this;return(0,C.Z)(function*(){a.addQueueMeasurement(E.Ak.ClearTokensAndKeysWithClaims);const u=c.getTokenKeys(),p=[];u.accessToken.forEach(y=>{const A=c.getAccessTokenCredential(y);A?.requestedClaimsHash&&y.includes(A.requestedClaimsHash.toLowerCase())&&p.push(c.removeAccessToken(y))}),yield Promise.all(p),p.length>0&&c.logger.warning(`${p.length} access tokens with claims in the cache keys have been removed from the cache.`)})()}setItemCookie(a,c,u){let p=`${encodeURIComponent(a)}=${encodeURIComponent(c)};path=/;SameSite=Lax;`;u&&(p+=`expires=${this.getCookieExpirationTime(u)};`),this.cacheConfig.secureCookies&&(p+="Secure;"),document.cookie=p}getItemCookie(a){const c=`${encodeURIComponent(a)}=`,u=document.cookie.split(";");for(let p=0;p<u.length;p++){let y=u[p];for(;" "===y.charAt(0);)y=y.substring(1);if(0===y.indexOf(c))return decodeURIComponent(y.substring(c.length,y.length))}return v.gT.EMPTY_STRING}clearMsalCookies(){const a=`${v.gT.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach(u=>{for(;" "===u.charAt(0);)u=u.substring(1);if(0===u.indexOf(a)){const p=u.split("=")[0];this.clearItemCookie(p)}})}clearItemCookie(a){this.setItemCookie(a,v.gT.EMPTY_STRING,-1)}getCookieExpirationTime(a){return new Date((new Date).getTime()+a*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}getCache(){return this.browserStorage}setCache(){}generateCacheKey(a){return this.validateAndParseJson(a)?JSON.stringify(a):Y.x.startsWith(a,v.gT.CACHE_PREFIX)||Y.x.startsWith(a,v.Vi.ADAL_ID_TOKEN)?a:`${v.gT.CACHE_PREFIX}.${this.clientId}.${a}`}generateAuthorityKey(a){const{libraryState:{id:c}}=L.parseRequestState(this.cryptoImpl,a);return this.generateCacheKey(`${m.c4.AUTHORITY}.${c}`)}generateNonceKey(a){const{libraryState:{id:c}}=L.parseRequestState(this.cryptoImpl,a);return this.generateCacheKey(`${m.c4.NONCE_IDTOKEN}.${c}`)}generateStateKey(a){const{libraryState:{id:c}}=L.parseRequestState(this.cryptoImpl,a);return this.generateCacheKey(`${m.c4.REQUEST_STATE}.${c}`)}getCachedAuthority(a){const c=this.generateStateKey(a),u=this.getTemporaryCache(c);if(!u)return null;const p=this.generateAuthorityKey(u);return this.getTemporaryCache(p)}updateCacheEntries(a,c,u,p,y){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const A=this.generateStateKey(a);this.setTemporaryCache(A,a,!1);const T=this.generateNonceKey(a);this.setTemporaryCache(T,c,!1);const z=this.generateAuthorityKey(a);this.setTemporaryCache(z,u,!1),y?this.setTemporaryCache(m.c4.CCS_CREDENTIAL,JSON.stringify({credential:y.homeAccountId,type:"home_account_id"}),!0):p&&this.setTemporaryCache(m.c4.CCS_CREDENTIAL,JSON.stringify({credential:p,type:"UPN"}),!0)}resetRequestCache(a){this.logger.trace("BrowserCacheManager.resetRequestCache called"),a&&(this.getKeys().forEach(c=>{-1!==c.indexOf(a)&&this.removeItem(c)}),this.removeItem(this.generateStateKey(a)),this.removeItem(this.generateNonceKey(a)),this.removeItem(this.generateAuthorityKey(a))),this.removeItem(this.generateCacheKey(m.c4.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(m.c4.ORIGIN_URI)),this.removeItem(this.generateCacheKey(m.c4.URL_HASH)),this.removeItem(this.generateCacheKey(m.c4.CORRELATION_ID)),this.removeItem(this.generateCacheKey(m.c4.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(m.c4.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(a){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),a){const c=this.generateStateKey(a),u=this.temporaryCacheStorage.getItem(c);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${u}`),this.resetRequestCache(u||v.gT.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(a){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(c=>{if(-1===c.indexOf(m.c4.REQUEST_STATE))return;const u=this.temporaryCacheStorage.getItem(c);if(!u)return;const p=ue(this.cryptoImpl,u);p&&p.interactionType===a&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${u}`),this.resetRequestCache(u))}),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(a){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const c=(0,Me.h$)(JSON.stringify(a));this.setTemporaryCache(m.c4.REQUEST_PARAMS,c,!0)}getCachedRequest(a){this.logger.trace("BrowserCacheManager.getCachedRequest called");const c=this.getTemporaryCache(m.c4.REQUEST_PARAMS,!0);if(!c)throw(0,F.Z_)(J.QO);let u;try{u=JSON.parse((0,me.t)(c))}catch(p){throw this.logger.errorPii(`Attempted to parse: ${c}`),this.logger.error(`Parsing cached token request threw with error: ${p}`),(0,F.Z_)(J.e$)}if(this.removeItem(this.generateCacheKey(m.c4.REQUEST_PARAMS)),!u.authority){const p=this.generateAuthorityKey(a),y=this.getTemporaryCache(p);if(!y)throw(0,F.Z_)(J.dT);u.authority=y}return u}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const a=this.getTemporaryCache(m.c4.NATIVE_REQUEST,!0);return a?this.validateAndParseJson(a)||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null):(this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null)}isInteractionInProgress(a){const c=this.getInteractionInProgress();return a?c===this.clientId:!!c}getInteractionInProgress(){return this.getTemporaryCache(`${v.gT.CACHE_PREFIX}.${m.c4.INTERACTION_STATUS_KEY}`,!1)}setInteractionInProgress(a){const c=`${v.gT.CACHE_PREFIX}.${m.c4.INTERACTION_STATUS_KEY}`;if(a){if(this.getInteractionInProgress())throw(0,F.Z_)(J.Ck);this.setTemporaryCache(c,this.clientId,!1)}else!a&&this.getInteractionInProgress()===this.clientId&&this.removeItem(c)}getLegacyLoginHint(){const a=this.getTemporaryCache(v.Vi.ADAL_ID_TOKEN);a&&(this.browserStorage.removeItem(v.Vi.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const c=this.getTemporaryCache(v.Vi.ID_TOKEN,!0);c&&(this.removeItem(this.generateCacheKey(v.Vi.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const u=c||a;if(u){const p=le.Z_(u,me.t);if(p.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),p.preferred_username;if(p.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),p.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(a,c){const u=se.Mk(c);if(a!==u){const p=this.getItem(a);if(p)return this.removeItem(a),this.setItem(u,p),this.logger.verbose(`Updated an outdated ${c.credentialType} cache key`),u;this.logger.error(`Attempted to update an outdated ${c.credentialType} cache key but no item matching the outdated key was found in storage`)}return a}getRedirectRequestContext(){return this.getTemporaryCache(m.c4.REDIRECT_CONTEXT,!0)}setRedirectRequestContext(a){this.setTemporaryCache(m.c4.REDIRECT_CONTEXT,a,!0)}hydrateCache(a,c){var u=this;return(0,C.Z)(function*(){const p=se.Md(a.account?.homeAccountId,a.account?.environment,a.idToken,u.clientId,a.tenantId);let y;c.claims&&(y=yield u.cryptoImpl.hashString(c.claims));const A=se.Ds(a.account?.homeAccountId,a.account.environment,a.accessToken,u.clientId,a.tenantId,a.scopes.join(" "),a.expiresOn?.getTime()||0,a.extExpiresOn?.getTime()||0,me.t,void 0,a.tokenType,void 0,c.sshKid,c.claims,y),T=new pe(void 0,p,A);return u.saveCacheRecord(T)})()}}var He=w(6644),Ie=w(6521),_t=w(2573),Ot=w(1641);class Tt{static generateThrottlingStorageKey(a){return`${v.bb.THROTTLING_PREFIX}.${JSON.stringify(a)}`}static preProcess(a,c){const u=Tt.generateThrottlingStorageKey(c),p=a.getThrottlingCache(u);if(p){if(p.throttleTime<Date.now())return void a.removeItem(u);throw new Ot.n(p.errorCodes?.join(" ")||v.gT.EMPTY_STRING,p.errorMessage,p.subError)}}static postProcess(a,c,u){if(Tt.checkResponseStatus(u)||Tt.checkResponseForRetryAfter(u)){const p={throttleTime:Tt.calculateThrottleTime(parseInt(u.headers[v.SZ.RETRY_AFTER])),error:u.body.error,errorCodes:u.body.error_codes,errorMessage:u.body.error_description,subError:u.body.suberror};a.setThrottlingCache(Tt.generateThrottlingStorageKey(c),p)}}static checkResponseStatus(a){return 429===a.status||a.status>=500&&a.status<600}static checkResponseForRetryAfter(a){return!!a.headers&&a.headers.hasOwnProperty(v.SZ.RETRY_AFTER)&&(a.status<200||a.status>=300)}static calculateThrottleTime(a){const c=a<=0?0:a,u=Date.now()/1e3;return Math.floor(1e3*Math.min(u+(c||v.bb.DEFAULT_THROTTLE_TIME_SECONDS),u+v.bb.DEFAULT_MAX_THROTTLE_TIME_SECONDS))}static removeThrottle(a,c,u,p){const A=this.generateThrottlingStorageKey({clientId:c,authority:u.authority,scopes:u.scopes,homeAccountIdentifier:p,claims:u.claims,authenticationScheme:u.authenticationScheme,resourceRequestMethod:u.resourceRequestMethod,resourceRequestUri:u.resourceRequestUri,shrClaims:u.shrClaims,sshKid:u.sshKid});a.removeItem(A)}}w(1763);var Pe=w(3886),hn=w(1878);class Re{constructor(a,c){this.networkClient=a,this.cacheManager=c}sendPostRequest(a,c,u){var p=this;return(0,C.Z)(function*(){let y;Tt.preProcess(p.cacheManager,a);try{y=yield p.networkClient.sendPostRequestAsync(c,u)}catch(A){throw A instanceof S.l4?A:(0,V.zP)(N.EF)}return Tt.postProcess(p.cacheManager,a,y),y})()}}var Fr=w(2526),Oi=w(8144),fn=w(9947),Ur=w(1267),Ln=w(8061),Fn=w(1288);class Zn{static createDiscoveredInstance(a,c,u,p,y,A,T){return(0,C.Z)(function*(){A?.addQueueMeasurement(E.Ak.AuthorityFactoryCreateDiscoveredInstance,T);const z=O.WU.transformCIAMAuthority((0,O.Dm)(a)),U=Zn.createInstance(z,c,u,p,y,A,T);try{return yield(0,I.i)(U.resolveEndpointsAsync.bind(U),E.Ak.AuthorityResolveEndpointsAsync,y,A,T)(),U}catch{throw(0,V.zP)(N.HO)}})()}static createInstance(a,c,u,p,y,A,T){if(!a)throw(0,Ln.ei)(Fn.To);return new O.WU(a,c,u,p,y,A,T)}}class Pi{constructor(a,c){this.config=(0,hn.j6)(a),this.logger=new Fr.Y(this.config.loggerOptions,Oi.u,Oi.i),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new Re(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=c}createTokenRequestHeaders(a){const c={};if(c[v.SZ.CONTENT_TYPE]=v.gT.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&a)switch(a.type){case"home_account_id":try{const u=(0,fn.j)(a.credential);c[v.SZ.CCS_HEADER]=`Oid:${u.uid}@${u.utid}`}catch(u){this.logger.verbose("Could not parse home account ID for CCS Header: "+u)}break;case"UPN":c[v.SZ.CCS_HEADER]=`UPN: ${a.credential}`}return c}executePostToTokenEndpoint(a,c,u,p,y,A){var T=this;return(0,C.Z)(function*(){A&&T.performanceClient?.addQueueMeasurement(A,y);const z=yield T.networkManager.sendPostRequest(p,a,{body:c,headers:u});return T.performanceClient?.addFields({refreshTokenSize:z.body.refresh_token?.length||0,httpVerToken:z.headers?.[v.SZ.X_MS_HTTP_VERSION]||""},y),T.config.serverTelemetryManager&&z.status<500&&429!==z.status&&T.config.serverTelemetryManager.clearTelemetryCache(),z})()}updateAuthority(a,c){var u=this;return(0,C.Z)(function*(){u.performanceClient?.addQueueMeasurement(E.Ak.UpdateTokenEndpointAuthority,c);const p=`https://${a}/${u.authority.tenant}/`,y=yield Zn.createDiscoveredInstance(p,u.networkClient,u.cacheManager,u.authority.options,u.logger,u.performanceClient,c);u.authority=y})()}createTokenQueryParameters(a){const c=new Ur.H;return a.tokenQueryParameters&&c.addExtraQueryParameters(a.tokenQueryParameters),c.createQueryString()}}var Hr=w(9883),en=w(4226),dr=w(1530);class Br{constructor(a,c){this.cryptoUtils=a,this.performanceClient=c}generateCnf(a,c){var u=this;return(0,C.Z)(function*(){u.performanceClient?.addQueueMeasurement(E.Ak.PopTokenGenerateCnf,a.correlationId);const p=yield(0,I.i)(u.generateKid.bind(u),E.Ak.PopTokenGenerateCnf,c,u.performanceClient,a.correlationId)(a),y=u.cryptoUtils.base64Encode(JSON.stringify(p));return{kid:p.kid,reqCnfString:y,reqCnfHash:yield u.cryptoUtils.hashString(y)}})()}generateKid(a){var c=this;return(0,C.Z)(function*(){return c.performanceClient?.addQueueMeasurement(E.Ak.PopTokenGenerateKid,a.correlationId),{kid:yield c.cryptoUtils.getPublicKeyThumbprint(a),xms_ksl:"sw"}})()}signPopToken(a,c,u){var p=this;return(0,C.Z)(function*(){return p.signPayload(a,c,u)})()}signPayload(a,c,u,p){var y=this;return(0,C.Z)(function*(){const{resourceRequestMethod:A,resourceRequestUri:T,shrClaims:z,shrNonce:U,shrOptions:G}=u,Oe=(T?new Pe.G(T):void 0)?.getUrlComponents();return y.cryptoUtils.signJwt({at:a,ts:dr.I.nowSeconds(),m:A?.toUpperCase(),u:Oe?.HostNameAndPort,nonce:U||y.cryptoUtils.createNewGuid(),p:Oe?.AbsolutePath,q:Oe?.QueryString?[[],Oe.QueryString]:void 0,client_claims:z||void 0,...p},c,G,u.correlationId)})()}}class Qf{constructor(a,c){this.cache=a,this.hasChanged=c}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}var Yf=w(4918),ua=w(2888);class Kt{constructor(a,c,u,p,y,A,T){this.clientId=a,this.cacheStorage=c,this.cryptoObj=u,this.logger=p,this.serializableCache=y,this.persistencePlugin=A,this.performanceClient=T}validateServerAuthorizationCodeResponse(a,c){if(!a.state||!c)throw(0,V.zP)(N.LV,a.state?"Cached State":"Server State");let u,p;try{u=decodeURIComponent(a.state)}catch{throw(0,V.zP)(N.r8,a.state)}try{p=decodeURIComponent(c)}catch{throw(0,V.zP)(N.r8,a.state)}if(u!==p)throw(0,V.zP)(N.Tu);if(a.error||a.error_description||a.suberror)throw(0,H.Cf)(a.error,a.error_description,a.suberror)?new H.Yo(a.error||"",a.error_description,a.suberror,a.timestamp||"",a.trace_id||"",a.correlation_id||"",a.claims||""):new Ot.n(a.error||"",a.error_description,a.suberror)}validateTokenResponse(a,c){if(a.error||a.error_description||a.suberror){const p=new Ot.n(a.error,`${a.error_codes} - [${a.timestamp}]: ${a.error_description} - Correlation ID: ${a.correlation_id} - Trace ID: ${a.trace_id}`,a.suberror);if(c&&a.status&&a.status>=v.oj.SERVER_ERROR_RANGE_START&&a.status<=v.oj.SERVER_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${p}`);if(c&&a.status&&a.status>=v.oj.CLIENT_ERROR_RANGE_START&&a.status<=v.oj.CLIENT_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${p}`);throw(0,H.Cf)(a.error,a.error_description,a.suberror)?new H.Yo(a.error,a.error_description,a.suberror,a.timestamp||v.gT.EMPTY_STRING,a.trace_id||v.gT.EMPTY_STRING,a.correlation_id||v.gT.EMPTY_STRING,a.claims||v.gT.EMPTY_STRING):p}}handleServerTokenResponse(a,c,u,p,y,A,T,z,U){var G=this;return(0,C.Z)(function*(){let _e,Oe;if(G.performanceClient?.addQueueMeasurement(E.Ak.HandleServerTokenResponse,a.correlation_id),a.id_token){if(_e=(0,le.Z_)(a.id_token||v.gT.EMPTY_STRING,G.cryptoObj.base64Decode),y&&y.nonce&&_e.nonce!==y.nonce)throw(0,V.zP)(N.vR);if(p.maxAge||0===p.maxAge){const Ke=_e.auth_time;if(!Ke)throw(0,V.zP)(N.w7);(0,le.ky)(Ke,p.maxAge)}}G.homeAccountIdentifier=K.r.generateHomeAccountId(a.client_info||v.gT.EMPTY_STRING,c.authorityType,G.logger,G.cryptoObj,_e),y&&y.state&&(Oe=L.parseRequestState(G.cryptoObj,y.state)),a.key_id=a.key_id||p.sshKid||void 0;const Ge=G.generateCacheRecord(a,c,u,p,_e,A,y);let lt;try{if(G.persistencePlugin&&G.serializableCache&&(G.logger.verbose("Persistence enabled, calling beforeCacheAccess"),lt=new Qf(G.serializableCache,!0),yield G.persistencePlugin.beforeCacheAccess(lt)),T&&!z&&Ge.account){const Ke=Ge.account.generateAccountKey();if(!G.cacheStorage.getAccount(Ke,G.logger))return G.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),yield Kt.generateAuthenticationResult(G.cryptoObj,c,Ge,!1,p,_e,Oe,void 0,U)}yield G.cacheStorage.saveCacheRecord(Ge,p.storeInCache)}finally{G.persistencePlugin&&G.serializableCache&&lt&&(G.logger.verbose("Persistence enabled, calling afterCacheAccess"),yield G.persistencePlugin.afterCacheAccess(lt))}return Kt.generateAuthenticationResult(G.cryptoObj,c,Ge,!1,p,_e,Oe,a,U)})()}generateCacheRecord(a,c,u,p,y,A,T){const z=c.getPreferredCache();if(!z)throw(0,V.zP)(N.Q9);const U=(0,Yf.M)(y);let G,_e;a.id_token&&y&&(G=(0,se.Md)(this.homeAccountIdentifier,z,a.id_token,this.clientId,U||""),_e=Ni(this.cacheStorage,c,this.homeAccountIdentifier,y,this.cryptoObj.base64Decode,a.client_info,U,T,void 0,this.logger));let Oe=null;if(a.access_token){const Ke=a.scope?en.i.fromString(a.scope):new en.i(p.scopes||[]),jr=("string"==typeof a.expires_in?parseInt(a.expires_in,10):a.expires_in)||0,gr=("string"==typeof a.ext_expires_in?parseInt(a.ext_expires_in,10):a.ext_expires_in)||0,co=("string"==typeof a.refresh_in?parseInt(a.refresh_in,10):a.refresh_in)||void 0,Wt=u+jr,Po=Wt+gr,ji=co&&co>0?u+co:void 0;Oe=(0,se.Ds)(this.homeAccountIdentifier,z,a.access_token,this.clientId,U||c.tenant,Ke.printScopes(),Wt,Po,this.cryptoObj.base64Decode,ji,a.token_type,A,a.key_id,p.claims,p.requestedClaimsHash)}let Ge=null;a.refresh_token&&(Ge=(0,se.OJ)(this.homeAccountIdentifier,z,a.refresh_token,this.clientId,a.foci,A));let lt=null;return a.foci&&(lt=D.createAppMetadataEntity(this.clientId,z,a.foci)),new pe(_e,G,Oe,Ge,lt)}static generateAuthenticationResult(a,c,u,p,y,A,T,z,U){return(0,C.Z)(function*(){let Ge,lt,G=v.gT.EMPTY_STRING,_e=[],Oe=null,Ke=v.gT.EMPTY_STRING;if(u.accessToken){if(u.accessToken.tokenType===v.hO.POP){const Wt=new Br(a),{secret:Po,keyId:ji}=u.accessToken;if(!ji)throw(0,V.zP)(N.Of);G=yield Wt.signPopToken(Po,ji,y)}else G=u.accessToken.secret;_e=en.i.fromString(u.accessToken.target).asArray(),Oe=new Date(1e3*Number(u.accessToken.expiresOn)),Ge=new Date(1e3*Number(u.accessToken.extendedExpiresOn)),u.accessToken.refreshOn&&(lt=new Date(1e3*Number(u.accessToken.refreshOn)))}u.appMetadata&&(Ke=u.appMetadata.familyId===v.ch?v.ch:"");const jr=A?.oid||A?.sub||"",gr=A?.tid||"";z?.spa_accountid&&u.account&&(u.account.nativeAccountId=z?.spa_accountid);const co=u.account?(0,ua.$f)(u.account.getAccountInfo(),void 0,A):null;return{authority:c.canonicalAuthority,uniqueId:jr,tenantId:gr,scopes:_e,account:co,idToken:u?.idToken?.secret||"",idTokenClaims:A||{},accessToken:G,fromCache:p,expiresOn:Oe,extExpiresOn:Ge,refreshOn:lt,correlationId:y.correlationId,requestId:U||v.gT.EMPTY_STRING,familyId:Ke,tokenType:u.accessToken?.tokenType||v.gT.EMPTY_STRING,state:T?T.userRequestState:v.gT.EMPTY_STRING,cloudGraphHostName:u.account?.cloudGraphHostName||v.gT.EMPTY_STRING,msGraphHost:u.account?.msGraphHost||v.gT.EMPTY_STRING,code:z?.spa_code,fromNativeBroker:!1}})()}}function Ni(re,a,c,u,p,y,A,T,z,U){U?.verbose("setCachedAccount called");const _e=re.getAccountKeys().find(Ke=>Ke.startsWith(c));let Oe=null;_e&&(Oe=re.getAccount(_e,U));const Ge=Oe||K.r.createAccount({homeAccountId:c,idTokenClaims:u,clientInfo:y,cloudGraphHostName:T?.cloud_graph_host_name,msGraphHost:T?.msgraph_host,nativeAccountId:z},a,p),lt=Ge.tenantProfiles||[];if(A&&!lt.find(Ke=>Ke.tenantId===A)){const Ke=(0,ua.SI)(c,u);lt.push(Ke)}return Ge.tenantProfiles=lt,Ge}var Jf=w(6680);class da extends Pi{constructor(a,c){super(a,c),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}getAuthCodeUrl(a){var c=this;return(0,C.Z)(function*(){c.performanceClient?.addQueueMeasurement(E.Ak.GetAuthCodeUrl,a.correlationId);const u=yield(0,I.i)(c.createAuthCodeUrlQueryString.bind(c),E.Ak.AuthClientCreateQueryString,c.logger,c.performanceClient,a.correlationId)(a);return Pe.G.appendQueryString(c.authority.authorizationEndpoint,u)})()}acquireToken(a,c){var u=this;return(0,C.Z)(function*(){if(u.performanceClient?.addQueueMeasurement(E.Ak.AuthClientAcquireToken,a.correlationId),!a.code)throw(0,V.zP)(N.FU);const p=dr.I.nowSeconds(),y=yield(0,I.i)(u.executeTokenRequest.bind(u),E.Ak.AuthClientExecuteTokenRequest,u.logger,u.performanceClient,a.correlationId)(u.authority,a),A=y.headers?.[v.SZ.X_MS_REQUEST_ID],T=new Kt(u.config.authOptions.clientId,u.cacheManager,u.cryptoUtils,u.logger,u.config.serializableCache,u.config.persistencePlugin,u.performanceClient);return T.validateTokenResponse(y.body),(0,I.i)(T.handleServerTokenResponse.bind(T),E.Ak.HandleServerTokenResponse,u.logger,u.performanceClient,a.correlationId)(y.body,u.authority,p,a,c,void 0,void 0,void 0,A)})()}handleFragmentResponse(a,c){if(new Kt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(a,c),!a.code)throw(0,V.zP)(N.Zv);return a}getLogoutUri(a){if(!a)throw(0,Ln.ei)(Fn.$h);const c=this.createLogoutUrlQueryString(a);return Pe.G.appendQueryString(this.authority.endSessionEndpoint,c)}executeTokenRequest(a,c){var u=this;return(0,C.Z)(function*(){u.performanceClient?.addQueueMeasurement(E.Ak.AuthClientExecuteTokenRequest,c.correlationId);const p=u.createTokenQueryParameters(c),y=Pe.G.appendQueryString(a.tokenEndpoint,p),A=yield(0,I.i)(u.createTokenRequestBody.bind(u),E.Ak.AuthClientCreateTokenRequestBody,u.logger,u.performanceClient,c.correlationId)(c);let T;if(c.clientInfo)try{const G=(0,fn.B)(c.clientInfo,u.cryptoUtils.base64Decode);T={credential:`${G.uid}${v.Bv.CLIENT_INFO_SEPARATOR}${G.utid}`,type:"home_account_id"}}catch(G){u.logger.verbose("Could not parse client info for CCS Header: "+G)}const z=u.createTokenRequestHeaders(T||c.ccsCredential),U={clientId:c.tokenBodyParameters?.clientId||u.config.authOptions.clientId,authority:a.canonicalAuthority,scopes:c.scopes,claims:c.claims,authenticationScheme:c.authenticationScheme,resourceRequestMethod:c.resourceRequestMethod,resourceRequestUri:c.resourceRequestUri,shrClaims:c.shrClaims,sshKid:c.sshKid};return(0,I.i)(u.executePostToTokenEndpoint.bind(u),E.Ak.AuthorizationCodeClientExecutePostToTokenEndpoint,u.logger,u.performanceClient,c.correlationId)(y,A,z,U,c.correlationId,E.Ak.AuthorizationCodeClientExecutePostToTokenEndpoint)})()}createTokenRequestBody(a){var c=this;return(0,C.Z)(function*(){c.performanceClient?.addQueueMeasurement(E.Ak.AuthClientCreateTokenRequestBody,a.correlationId);const u=new Ur.H;if(u.addClientId(a.tokenBodyParameters?.[Hr.Cx]||c.config.authOptions.clientId),c.includeRedirectUri?u.addRedirectUri(a.redirectUri):Jf.D.validateRedirectUri(a.redirectUri),u.addScopes(a.scopes,!0,c.oidcDefaultScopes),u.addAuthorizationCode(a.code),u.addLibraryInfo(c.config.libraryInfo),u.addApplicationTelemetry(c.config.telemetry.application),u.addThrottling(),c.serverTelemetryManager&&!(0,hn.lh)(c.config)&&u.addServerTelemetry(c.serverTelemetryManager),a.codeVerifier&&u.addCodeVerifier(a.codeVerifier),c.config.clientCredentials.clientSecret&&u.addClientSecret(c.config.clientCredentials.clientSecret),c.config.clientCredentials.clientAssertion){const A=c.config.clientCredentials.clientAssertion;u.addClientAssertion(A.assertion),u.addClientAssertionType(A.assertionType)}if(u.addGrantType(v.qJ.AUTHORIZATION_CODE_GRANT),u.addClientInfo(),a.authenticationScheme===v.hO.POP){const A=new Br(c.cryptoUtils,c.performanceClient),T=yield(0,I.i)(A.generateCnf.bind(A),E.Ak.PopTokenGenerateCnf,c.logger,c.performanceClient,a.correlationId)(a,c.logger);u.addPopToken(T.reqCnfString)}else if(a.authenticationScheme===v.hO.SSH){if(!a.sshJwk)throw(0,Ln.ei)(Fn.dK);u.addSshJwk(a.sshJwk)}const p=a.correlationId||c.config.cryptoInterface.createNewGuid();let y;if(u.addCorrelationId(p),(!Y.x.isEmptyObj(a.claims)||c.config.authOptions.clientCapabilities&&c.config.authOptions.clientCapabilities.length>0)&&u.addClaims(a.claims,c.config.authOptions.clientCapabilities),a.clientInfo)try{const A=(0,fn.B)(a.clientInfo,c.cryptoUtils.base64Decode);y={credential:`${A.uid}${v.Bv.CLIENT_INFO_SEPARATOR}${A.utid}`,type:"home_account_id"}}catch(A){c.logger.verbose("Could not parse client info for CCS Header: "+A)}else y=a.ccsCredential;if(c.config.systemOptions.preventCorsPreflight&&y)switch(y.type){case"home_account_id":try{const A=(0,fn.j)(y.credential);u.addCcsOid(A)}catch(A){c.logger.verbose("Could not parse home account ID for CCS Header: "+A)}break;case"UPN":u.addCcsUpn(y.credential)}return a.tokenBodyParameters&&u.addExtraQueryParameters(a.tokenBodyParameters),a.enableSpaAuthorizationCode&&(!a.tokenBodyParameters||!a.tokenBodyParameters[Hr.Zb])&&u.addExtraQueryParameters({[Hr.Zb]:"1"}),u.createQueryString()})()}createAuthCodeUrlQueryString(a){var c=this;return(0,C.Z)(function*(){c.performanceClient?.addQueueMeasurement(E.Ak.AuthClientCreateQueryString,a.correlationId);const u=new Ur.H;u.addClientId(a.extraQueryParameters?.[Hr.Cx]||c.config.authOptions.clientId);const p=[...a.scopes||[],...a.extraScopesToConsent||[]];u.addScopes(p,!0,c.oidcDefaultScopes),u.addRedirectUri(a.redirectUri);const y=a.correlationId||c.config.cryptoInterface.createNewGuid();if(u.addCorrelationId(y),u.addResponseMode(a.responseMode),u.addResponseTypeCode(),u.addLibraryInfo(c.config.libraryInfo),(0,hn.lh)(c.config)||u.addApplicationTelemetry(c.config.telemetry.application),u.addClientInfo(),a.codeChallenge&&a.codeChallengeMethod&&u.addCodeChallengeParams(a.codeChallenge,a.codeChallengeMethod),a.prompt&&u.addPrompt(a.prompt),a.domainHint&&u.addDomainHint(a.domainHint),a.prompt!==v.NJ.SELECT_ACCOUNT)if(a.sid&&a.prompt===v.NJ.NONE)c.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),u.addSid(a.sid);else if(a.account){const A=c.extractAccountSid(a.account),T=c.extractLoginHint(a.account);if(T){c.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),u.addLoginHint(T);try{const z=(0,fn.j)(a.account.homeAccountId);u.addCcsOid(z)}catch{c.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(A&&a.prompt===v.NJ.NONE){c.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),u.addSid(A);try{const z=(0,fn.j)(a.account.homeAccountId);u.addCcsOid(z)}catch{c.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(a.loginHint)c.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),u.addLoginHint(a.loginHint),u.addCcsUpn(a.loginHint);else if(a.account.username){c.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),u.addLoginHint(a.account.username);try{const z=(0,fn.j)(a.account.homeAccountId);u.addCcsOid(z)}catch{c.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else a.loginHint&&(c.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),u.addLoginHint(a.loginHint),u.addCcsUpn(a.loginHint));else c.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(a.nonce&&u.addNonce(a.nonce),a.state&&u.addState(a.state),(a.claims||c.config.authOptions.clientCapabilities&&c.config.authOptions.clientCapabilities.length>0)&&u.addClaims(a.claims,c.config.authOptions.clientCapabilities),a.extraQueryParameters&&u.addExtraQueryParameters(a.extraQueryParameters),a.nativeBroker&&(u.addNativeBroker(),a.authenticationScheme===v.hO.POP)){const A=new Br(c.cryptoUtils),T=yield(0,I.i)(A.generateCnf.bind(A),E.Ak.PopTokenGenerateCnf,c.logger,c.performanceClient,a.correlationId)(a,c.logger);u.addPopToken(T.reqCnfHash)}return u.createQueryString()})()}createLogoutUrlQueryString(a){const c=new Ur.H;return a.postLogoutRedirectUri&&c.addPostLogoutRedirectUri(a.postLogoutRedirectUri),a.correlationId&&c.addCorrelationId(a.correlationId),a.idTokenHint&&c.addIdTokenHint(a.idTokenHint),a.state&&c.addState(a.state),a.logoutHint&&c.addLogoutHint(a.logoutHint),a.extraQueryParameters&&c.addExtraQueryParameters(a.extraQueryParameters),c.createQueryString()}extractAccountSid(a){return a.idTokenClaims?.sid||null}extractLoginHint(a){return a.idTokenClaims?.login_hint||null}}class xi{constructor(a,c){this.cacheOutcome=v.To.NOT_APPLICABLE,this.cacheManager=c,this.apiId=a.apiId,this.correlationId=a.correlationId,this.wrapperSKU=a.wrapperSKU||v.gT.EMPTY_STRING,this.wrapperVer=a.wrapperVer||v.gT.EMPTY_STRING,this.telemetryCacheKey=v.HN.CACHE_KEY+v.Bv.CACHE_KEY_SEPARATOR+a.clientId}generateCurrentRequestHeaderValue(){const a=`${this.apiId}${v.HN.VALUE_SEPARATOR}${this.cacheOutcome}`,c=[this.wrapperSKU,this.wrapperVer].join(v.HN.VALUE_SEPARATOR),p=[a,this.getRegionDiscoveryFields()].join(v.HN.VALUE_SEPARATOR);return[v.HN.SCHEMA_VERSION,p,c].join(v.HN.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const a=this.getLastRequests(),c=xi.maxErrorsToSend(a),u=a.failedRequests.slice(0,2*c).join(v.HN.VALUE_SEPARATOR),p=a.errors.slice(0,c).join(v.HN.VALUE_SEPARATOR),y=a.errors.length,T=[y,c<y?v.HN.OVERFLOW_TRUE:v.HN.OVERFLOW_FALSE].join(v.HN.VALUE_SEPARATOR);return[v.HN.SCHEMA_VERSION,a.cacheHits,u,p,T].join(v.HN.CATEGORY_SEPARATOR)}cacheFailedRequest(a){const c=this.getLastRequests();c.errors.length>=v.HN.MAX_CACHED_ERRORS&&(c.failedRequests.shift(),c.failedRequests.shift(),c.errors.shift()),c.failedRequests.push(this.apiId,this.correlationId),a instanceof Error&&a&&a.toString()?c.errors.push(a instanceof S.l4?a.subError?a.subError:a.errorCode?a.errorCode:a.toString():a.toString()):c.errors.push(v.HN.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,c)}incrementCacheHits(){const a=this.getLastRequests();return a.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,a),a.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const a=this.getLastRequests(),c=xi.maxErrorsToSend(a);if(c===a.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const p={failedRequests:a.failedRequests.slice(2*c),errors:a.errors.slice(c),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,p)}}static maxErrorsToSend(a){let c,u=0,p=0;const y=a.errors.length;for(c=0;c<y;c++){const T=a.failedRequests[2*c+1]||v.gT.EMPTY_STRING,z=a.errors[c]||v.gT.EMPTY_STRING;if(p+=(a.failedRequests[2*c]||v.gT.EMPTY_STRING).toString().length+T.toString().length+z.length+3,!(p<v.HN.MAX_LAST_HEADER_BYTES))break;u+=1}return u}getRegionDiscoveryFields(){const a=[];return a.push(this.regionUsed||v.gT.EMPTY_STRING),a.push(this.regionSource||v.gT.EMPTY_STRING),a.push(this.regionOutcome||v.gT.EMPTY_STRING),a.join(",")}updateRegionDiscoveryMetadata(a){this.regionUsed=a.region_used,this.regionSource=a.region_source,this.regionOutcome=a.region_outcome}setCacheOutcome(a){this.cacheOutcome=a}}var ha=w(9509),hr=w(717);class Ul{constructor(a,c,u,p,y,A,T,z,U){this.config=a,this.browserStorage=c,this.browserCrypto=u,this.networkClient=this.config.system.networkClient,this.eventHandler=y,this.navigationClient=A,this.nativeMessageHandler=z,this.correlationId=U||(0,hr.nn)(),this.logger=p.clone(m.qx.MSAL_SKU,ha.i,this.correlationId),this.performanceClient=T}clearCacheOnLogout(a){var c=this;return(0,C.Z)(function*(){if(a){K.r.accountInfoIsEqual(a,c.browserStorage.getActiveAccount(),!1)&&(c.logger.verbose("Setting active account to null"),c.browserStorage.setActiveAccount(null));try{yield c.browserStorage.removeAccount(K.r.generateAccountCacheKey(a)),c.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{c.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{c.logger.verbose("No account provided in logout request, clearing all cache items.",c.correlationId),yield c.browserStorage.clear(),yield c.browserCrypto.clearKeystore()}catch{c.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}})()}initializeBaseRequest(a,c){var u=this;return(0,C.Z)(function*(){u.performanceClient.addQueueMeasurement(E.Ak.InitializeBaseRequest,u.correlationId);const p=a.authority||u.config.auth.authority;c&&(yield u.validateRequestAuthority(p,c));const y=[...a&&a.scopes||[]],A={...a,correlationId:u.correlationId,authority:p,scopes:y};if(A.authenticationScheme){if(A.authenticationScheme===v.hO.SSH){if(!a.sshJwk)throw(0,Ln.ei)(Fn.dK);if(!a.sshKid)throw(0,Ln.ei)(Fn.hI)}u.logger.verbose(`Authentication Scheme set to "${A.authenticationScheme}" as configured in Auth request`)}else A.authenticationScheme=v.hO.BEARER,u.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return u.config.cache.claimsBasedCachingEnabled&&a.claims&&!Y.x.isEmptyObj(a.claims)&&(A.requestedClaimsHash=yield u.browserCrypto.hashString(a.claims)),A})()}getRedirectUri(a){this.logger.verbose("getRedirectUri called");const c=a||this.config.auth.redirectUri||(0,He.Re)();return Pe.G.getAbsoluteUrl(c,(0,He.Re)())}validateRequestAuthority(a,c){var u=this;return(0,C.Z)(function*(){if(!(yield u.getDiscoveredAuthority(a)).isAlias(c.environment))throw(0,Ln.ei)(Fn.Hv)})()}initializeServerTelemetryManager(a,c){this.logger.verbose("initializeServerTelemetryManager called");const u={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:a,forceRefresh:c||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new xi(u,this.browserStorage)}getDiscoveredAuthority(a){var c=this;return(0,C.Z)(function*(){c.logger.verbose("getDiscoveredAuthority called");const u={protocolMode:c.config.auth.protocolMode,OIDCOptions:c.config.auth.OIDCOptions,knownAuthorities:c.config.auth.knownAuthorities,cloudDiscoveryMetadata:c.config.auth.cloudDiscoveryMetadata,authorityMetadata:c.config.auth.authorityMetadata};return a?(c.logger.verbose("Creating discovered authority with request authority"),Zn.createDiscoveredInstance(a,c.config.system.networkClient,c.browserStorage,u,c.logger)):(c.logger.verbose("Creating discovered authority with configured authority"),Zn.createDiscoveredInstance(c.config.auth.authority,c.config.system.networkClient,c.browserStorage,u,c.logger))})()}}const Xf=32;function ep(re,a,c){return fa.apply(this,arguments)}function fa(){return(fa=(0,C.Z)(function*(re,a,c){re.addQueueMeasurement(E.Ak.GeneratePkceCodes,c);const u=(0,I.d)(pa,E.Ak.GenerateCodeVerifier,a,re,c)(re,a,c);return{verifier:u,challenge:yield(0,I.i)(ga,E.Ak.GenerateCodeChallengeFromVerifier,a,re,c)(u,re,a,c)}})).apply(this,arguments)}function pa(re,a,c){try{const u=new Uint8Array(Xf);return(0,I.d)(hr.PP,E.Ak.GetRandomValues,a,re,c)(u),(0,Me.Wy)(u)}catch{throw(0,F.Z_)(J.vD)}}function ga(re,a,c,u){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,C.Z)(function*(re,a,c,u){a.addQueueMeasurement(E.Ak.GenerateCodeChallengeFromVerifier,u);try{const p=yield(0,I.i)(hr.Fv,E.Ak.Sha256Digest,c,a,u)(re,a,u);return(0,Me.Wy)(new Uint8Array(p))}catch{throw(0,F.Z_)(J.vD)}})).apply(this,arguments)}class fr extends Ul{initializeAuthorizationCodeRequest(a){var c=this;return(0,C.Z)(function*(){c.performanceClient.addQueueMeasurement(E.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,c.correlationId);const u=yield(0,I.i)(ep,E.Ak.GeneratePkceCodes,c.logger,c.performanceClient,c.correlationId)(c.performanceClient,c.logger,c.correlationId),p={...a,redirectUri:a.redirectUri,code:v.gT.EMPTY_STRING,codeVerifier:u.verifier};return a.codeChallenge=u.challenge,a.codeChallengeMethod=v.gT.S256_CODE_CHALLENGE_METHOD,p})()}initializeLogoutRequest(a){this.logger.verbose("initializeLogoutRequest called",a?.correlationId);const c={correlationId:this.correlationId||(0,hr.nn)(),...a};if(a)if(a.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(a.account){const u=this.getLogoutHintFromIdTokenClaims(a.account);u&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),c.logoutHint=u)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return a&&null===a.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",c.correlationId):a&&a.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",c.correlationId),c.postLogoutRedirectUri=Pe.G.getAbsoluteUrl(a.postLogoutRedirectUri,(0,He.Re)())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",c.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",c.correlationId),c.postLogoutRedirectUri=Pe.G.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,(0,He.Re)())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",c.correlationId),c.postLogoutRedirectUri=Pe.G.getAbsoluteUrl((0,He.Re)(),(0,He.Re)())),c}getLogoutHintFromIdTokenClaims(a){const c=a.idTokenClaims;if(c){if(c.login_hint)return c.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}createAuthCodeClient(a,c,u){var p=this;return(0,C.Z)(function*(){p.performanceClient.addQueueMeasurement(E.Ak.StandardInteractionClientCreateAuthCodeClient,p.correlationId);const y=yield(0,I.i)(p.getClientConfiguration.bind(p),E.Ak.StandardInteractionClientGetClientConfiguration,p.logger,p.performanceClient,p.correlationId)(a,c,u);return new da(y,p.performanceClient)})()}getClientConfiguration(a,c,u){var p=this;return(0,C.Z)(function*(){p.performanceClient.addQueueMeasurement(E.Ak.StandardInteractionClientGetClientConfiguration,p.correlationId);const y=yield(0,I.i)(p.getDiscoveredAuthority.bind(p),E.Ak.StandardInteractionClientGetDiscoveredAuthority,p.logger,p.performanceClient,p.correlationId)(c,u),A=p.config.system.loggerOptions;return{authOptions:{clientId:p.config.auth.clientId,authority:y,clientCapabilities:p.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:p.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:A.loggerCallback,piiLoggingEnabled:A.piiLoggingEnabled,logLevel:A.logLevel,correlationId:p.correlationId},cacheOptions:{claimsBasedCachingEnabled:p.config.cache.claimsBasedCachingEnabled},cryptoInterface:p.browserCrypto,networkInterface:p.networkClient,storageInterface:p.browserStorage,serverTelemetryManager:a,libraryInfo:{sku:m.qx.MSAL_SKU,version:ha.i,cpu:v.gT.EMPTY_STRING,os:v.gT.EMPTY_STRING},telemetry:p.config.telemetry}})()}getDiscoveredAuthority(a,c){var u=this;return(0,C.Z)(function*(){u.performanceClient.addQueueMeasurement(E.Ak.StandardInteractionClientGetDiscoveredAuthority,u.correlationId);const p={protocolMode:u.config.auth.protocolMode,OIDCOptions:u.config.auth.OIDCOptions,knownAuthorities:u.config.auth.knownAuthorities,cloudDiscoveryMetadata:u.config.auth.cloudDiscoveryMetadata,authorityMetadata:u.config.auth.authorityMetadata,skipAuthorityMetadataCache:u.config.auth.skipAuthorityMetadataCache},A=O.WU.generateAuthority(a||u.config.auth.authority,c||u.config.auth.azureCloudOptions);return(0,I.i)(Zn.createDiscoveredInstance.bind(Zn),E.Ak.AuthorityFactoryCreateDiscoveredInstance,u.logger,u.performanceClient,u.correlationId)(A,u.config.system.networkClient,u.browserStorage,p,u.logger,u.performanceClient,u.correlationId)})()}initializeAuthorizationRequest(a,c){var u=this;return(0,C.Z)(function*(){u.performanceClient.addQueueMeasurement(E.Ak.StandardInteractionClientInitializeAuthorizationRequest,u.correlationId);const p=u.getRedirectUri(a.redirectUri),A=L.setRequestState(u.browserCrypto,a&&a.state||v.gT.EMPTY_STRING,{interactionType:c}),z={...yield(0,I.i)(u.initializeBaseRequest.bind(u),E.Ak.InitializeBaseRequest,u.logger,u.performanceClient,u.correlationId)(a),redirectUri:p,state:A,nonce:a.nonce||(0,hr.nn)(),responseMode:u.config.auth.OIDCOptions.serverResponseType},U=a.account||u.browserStorage.getActiveAccount();if(U&&(u.logger.verbose("Setting validated request account",u.correlationId),u.logger.verbosePii(`Setting validated request account: ${U.homeAccountId}`,u.correlationId),z.account=U),!z.loginHint&&!U){const G=u.browserStorage.getLegacyLoginHint();G&&(z.loginHint=G)}return z})()}}var ma=w(842),ya=w(6345);const _a="ContentError",Li="user_switch",va="USER_INTERACTION_REQUIRED",Ca="USER_CANCEL",pn="NO_NETWORK",Hl="PERSISTENT_ERROR",Bl="DISABLED",Vl="ACCOUNT_UNAVAILABLE",$l=-2147186943,Ea={[Li]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Un extends S.l4{constructor(a,c,u){super(a,c),Object.setPrototypeOf(this,Un.prototype),this.name="NativeAuthError",this.ext=u}}function Vr(re){return!!(re.ext&&re.ext.status&&(re.ext.status===Hl||re.ext.status===Bl)||re.ext&&re.ext.error&&re.ext.error===$l)||re.errorCode===_a}function gn(re,a,c){if(c&&c.status)switch(c.status){case Vl:return(0,H.ip)(ce.QP);case va:return new H.Yo(re,a);case Ca:return(0,F.Z_)(J.h7);case pn:return(0,F.Z_)(J.Mq)}return new Un(re,Ea[re]||a,c)}class Fi extends Pi{constructor(a,c){super(a,c)}acquireToken(a){var c=this;return(0,C.Z)(function*(){c.performanceClient?.addQueueMeasurement(E.Ak.RefreshTokenClientAcquireToken,a.correlationId);const u=dr.I.nowSeconds(),p=yield(0,I.i)(c.executeTokenRequest.bind(c),E.Ak.RefreshTokenClientExecuteTokenRequest,c.logger,c.performanceClient,a.correlationId)(a,c.authority),y=p.headers?.[v.SZ.X_MS_REQUEST_ID],A=new Kt(c.config.authOptions.clientId,c.cacheManager,c.cryptoUtils,c.logger,c.config.serializableCache,c.config.persistencePlugin);return A.validateTokenResponse(p.body),(0,I.i)(A.handleServerTokenResponse.bind(A),E.Ak.HandleServerTokenResponse,c.logger,c.performanceClient,a.correlationId)(p.body,c.authority,u,a,void 0,void 0,!0,a.forceCache,y)})()}acquireTokenByRefreshToken(a){var c=this;return(0,C.Z)(function*(){if(!a)throw(0,Ln.ei)(Fn.dL);if(c.performanceClient?.addQueueMeasurement(E.Ak.RefreshTokenClientAcquireTokenByRefreshToken,a.correlationId),!a.account)throw(0,V.zP)(N.D7);if(c.cacheManager.isAppMetadataFOCI(a.account.environment))try{return yield(0,I.i)(c.acquireTokenWithCachedRefreshToken.bind(c),E.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,c.logger,c.performanceClient,a.correlationId)(a,!0)}catch(p){if(p instanceof H.Yo&&p.errorCode===ce.I2||p instanceof Ot.n&&p.errorCode===v.D1.INVALID_GRANT_ERROR&&p.subError===v.D1.CLIENT_MISMATCH_ERROR)return(0,I.i)(c.acquireTokenWithCachedRefreshToken.bind(c),E.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,c.logger,c.performanceClient,a.correlationId)(a,!1);throw p}return(0,I.i)(c.acquireTokenWithCachedRefreshToken.bind(c),E.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,c.logger,c.performanceClient,a.correlationId)(a,!1)})()}acquireTokenWithCachedRefreshToken(a,c){var u=this;return(0,C.Z)(function*(){u.performanceClient?.addQueueMeasurement(E.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,a.correlationId);const p=(0,I.d)(u.cacheManager.getRefreshToken.bind(u.cacheManager),E.Ak.CacheManagerGetRefreshToken,u.logger,u.performanceClient,a.correlationId)(a.account,c,void 0,u.performanceClient,a.correlationId);if(!p)throw(0,H.ip)(ce.I2);const y={...a,refreshToken:p.secret,authenticationScheme:a.authenticationScheme||v.hO.BEARER,ccsCredential:{credential:a.account.homeAccountId,type:"home_account_id"}};return(0,I.i)(u.acquireToken.bind(u),E.Ak.RefreshTokenClientAcquireToken,u.logger,u.performanceClient,a.correlationId)(y)})()}executeTokenRequest(a,c){var u=this;return(0,C.Z)(function*(){u.performanceClient?.addQueueMeasurement(E.Ak.RefreshTokenClientExecuteTokenRequest,a.correlationId);const p=u.createTokenQueryParameters(a),y=Pe.G.appendQueryString(c.tokenEndpoint,p),A=yield(0,I.i)(u.createTokenRequestBody.bind(u),E.Ak.RefreshTokenClientCreateTokenRequestBody,u.logger,u.performanceClient,a.correlationId)(a),T=u.createTokenRequestHeaders(a.ccsCredential),z={clientId:a.tokenBodyParameters?.clientId||u.config.authOptions.clientId,authority:c.canonicalAuthority,scopes:a.scopes,claims:a.claims,authenticationScheme:a.authenticationScheme,resourceRequestMethod:a.resourceRequestMethod,resourceRequestUri:a.resourceRequestUri,shrClaims:a.shrClaims,sshKid:a.sshKid};return(0,I.i)(u.executePostToTokenEndpoint.bind(u),E.Ak.RefreshTokenClientExecutePostToTokenEndpoint,u.logger,u.performanceClient,a.correlationId)(y,A,T,z,a.correlationId,E.Ak.RefreshTokenClientExecutePostToTokenEndpoint)})()}createTokenRequestBody(a){var c=this;return(0,C.Z)(function*(){c.performanceClient?.addQueueMeasurement(E.Ak.RefreshTokenClientCreateTokenRequestBody,a.correlationId);const u=a.correlationId,p=new Ur.H;if(p.addClientId(a.tokenBodyParameters?.[Hr.Cx]||c.config.authOptions.clientId),a.redirectUri&&p.addRedirectUri(a.redirectUri),p.addScopes(a.scopes,!0,c.config.authOptions.authority.options.OIDCOptions?.defaultScopes),p.addGrantType(v.qJ.REFRESH_TOKEN_GRANT),p.addClientInfo(),p.addLibraryInfo(c.config.libraryInfo),p.addApplicationTelemetry(c.config.telemetry.application),p.addThrottling(),c.serverTelemetryManager&&!(0,hn.lh)(c.config)&&p.addServerTelemetry(c.serverTelemetryManager),p.addCorrelationId(u),p.addRefreshToken(a.refreshToken),c.config.clientCredentials.clientSecret&&p.addClientSecret(c.config.clientCredentials.clientSecret),c.config.clientCredentials.clientAssertion){const y=c.config.clientCredentials.clientAssertion;p.addClientAssertion(y.assertion),p.addClientAssertionType(y.assertionType)}if(a.authenticationScheme===v.hO.POP){const y=new Br(c.cryptoUtils,c.performanceClient),A=yield(0,I.i)(y.generateCnf.bind(y),E.Ak.PopTokenGenerateCnf,c.logger,c.performanceClient,a.correlationId)(a,c.logger);p.addPopToken(A.reqCnfString)}else if(a.authenticationScheme===v.hO.SSH){if(!a.sshJwk)throw(0,Ln.ei)(Fn.dK);p.addSshJwk(a.sshJwk)}if((!Y.x.isEmptyObj(a.claims)||c.config.authOptions.clientCapabilities&&c.config.authOptions.clientCapabilities.length>0)&&p.addClaims(a.claims,c.config.authOptions.clientCapabilities),c.config.systemOptions.preventCorsPreflight&&a.ccsCredential)switch(a.ccsCredential.type){case"home_account_id":try{const y=(0,fn.j)(a.ccsCredential.credential);p.addCcsOid(y)}catch(y){c.logger.verbose("Could not parse home account ID for CCS Header: "+y)}break;case"UPN":p.addCcsUpn(a.ccsCredential.credential)}return a.tokenBodyParameters&&p.addExtraQueryParameters(a.tokenBodyParameters),p.createQueryString()})()}}class wt extends Pi{constructor(a,c){super(a,c)}acquireToken(a){var c=this;return(0,C.Z)(function*(){try{const[u,p]=yield c.acquireCachedToken(a);return p===v.To.PROACTIVELY_REFRESHED&&(c.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new Fi(c.config,c.performanceClient).acquireTokenByRefreshToken(a).catch(()=>{})),u}catch(u){if(u instanceof V.er&&u.errorCode===N.s$)return new Fi(c.config,c.performanceClient).acquireTokenByRefreshToken(a);throw u}})()}acquireCachedToken(a){var c=this;return(0,C.Z)(function*(){c.performanceClient?.addQueueMeasurement(E.Ak.SilentFlowClientAcquireCachedToken,a.correlationId);let u=v.To.NOT_APPLICABLE;if(a.forceRefresh||!c.config.cacheOptions.claimsBasedCachingEnabled&&!Y.x.isEmptyObj(a.claims))throw c.setCacheOutcome(v.To.FORCE_REFRESH_OR_CLAIMS,a.correlationId),(0,V.zP)(N.s$);if(!a.account)throw(0,V.zP)(N.D7);const p=a.authority||c.authority.getPreferredCache(),y=c.cacheManager.readCacheRecord(a.account,a,p,c.performanceClient,a.correlationId);if(!y.accessToken)throw c.setCacheOutcome(v.To.NO_CACHED_ACCESS_TOKEN,a.correlationId),(0,V.zP)(N.s$);if(dr.I.wasClockTurnedBack(y.accessToken.cachedAt)||dr.I.isTokenExpired(y.accessToken.expiresOn,c.config.systemOptions.tokenRenewalOffsetSeconds))throw c.setCacheOutcome(v.To.CACHED_ACCESS_TOKEN_EXPIRED,a.correlationId),(0,V.zP)(N.s$);return y.accessToken.refreshOn&&dr.I.isTokenExpired(y.accessToken.refreshOn,0)&&(u=v.To.PROACTIVELY_REFRESHED),c.setCacheOutcome(u,a.correlationId),c.config.serverTelemetryManager&&c.config.serverTelemetryManager.incrementCacheHits(),[yield(0,I.i)(c.generateResultFromCacheRecord.bind(c),E.Ak.SilentFlowClientGenerateResultFromCacheRecord,c.logger,c.performanceClient,a.correlationId)(y,a),u]})()}setCacheOutcome(a,c){this.serverTelemetryManager?.setCacheOutcome(a),this.performanceClient?.addFields({cacheOutcome:a},c),a!==v.To.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${a}`)}generateResultFromCacheRecord(a,c){var u=this;return(0,C.Z)(function*(){let p;if(u.performanceClient?.addQueueMeasurement(E.Ak.SilentFlowClientGenerateResultFromCacheRecord,c.correlationId),a.idToken&&(p=(0,le.Z_)(a.idToken.secret,u.config.cryptoInterface.base64Decode)),c.maxAge||0===c.maxAge){const y=p?.auth_time;if(!y)throw(0,V.zP)(N.w7);(0,le.ky)(y,c.maxAge)}return Kt.generateAuthenticationResult(u.cryptoUtils,u.authority,a,!0,c,p)})()}}class pr extends fr{acquireToken(a){var c=this;return(0,C.Z)(function*(){c.performanceClient.addQueueMeasurement(E.Ak.SilentCacheClientAcquireToken,a.correlationId);const u=c.initializeServerTelemetryManager(m.WN.acquireTokenSilent_silentFlow),p=yield c.createSilentFlowClient(u,a.authority,a.azureCloudOptions);c.logger.verbose("Silent auth client created");try{const A=(yield(0,I.i)(p.acquireCachedToken.bind(p),E.Ak.SilentFlowClientAcquireCachedToken,c.logger,c.performanceClient,a.correlationId)(a))[0];return c.performanceClient.addFields({fromCache:!0},a.correlationId),A}catch(y){throw y instanceof F.Ut&&y.errorCode===J.XM&&c.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),y}})()}logout(a){this.logger.verbose("logoutRedirect called");const c=this.initializeLogoutRequest(a);return this.clearCacheOnLogout(c?.account)}createSilentFlowClient(a,c,u){var p=this;return(0,C.Z)(function*(){const y=yield(0,I.i)(p.getClientConfiguration.bind(p),E.Ak.StandardInteractionClientGetClientConfiguration,p.logger,p.performanceClient,p.correlationId)(a,c,u);return new wt(y,p.performanceClient)})()}initializeSilentRequest(a,c){var u=this;return(0,C.Z)(function*(){u.performanceClient.addQueueMeasurement(E.Ak.InitializeSilentRequest,u.correlationId);const p=yield(0,I.i)(u.initializeBaseRequest.bind(u),E.Ak.InitializeBaseRequest,u.logger,u.performanceClient,u.correlationId)(a,c);return{...a,...p,account:c,forceRefresh:a.forceRefresh||!1}})()}}class io extends Ul{constructor(a,c,u,p,y,A,T,z,U,G,_e,Oe){super(a,c,u,p,y,A,z,U,Oe),this.apiId=T,this.accountId=G,this.nativeMessageHandler=U,this.nativeStorageManager=_e,this.silentCacheClient=new pr(a,this.nativeStorageManager,u,p,y,A,z,U,Oe)}acquireToken(a){var c=this;return(0,C.Z)(function*(){c.performanceClient.addQueueMeasurement(E.Ak.NativeInteractionClientAcquireToken,a.correlationId),c.logger.trace("NativeInteractionClient - acquireToken called.");const u=c.performanceClient.startMeasurement(E.Ak.NativeInteractionClientAcquireToken,a.correlationId),p=dr.I.nowSeconds(),y=yield c.initializeNativeRequest(a);try{const U=yield c.acquireTokensFromCache(c.accountId,y);return u.end({success:!0,isNativeBroker:!1,fromCache:!0}),U}catch{c.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const A={method:m.Ky.GetToken,request:y},T=yield c.nativeMessageHandler.sendMessage(A),z=c.validateNativeResponse(T);return c.handleNativeResponse(z,y,p).then(U=>(u.end({success:!0,isNativeBroker:!0,requestId:U.requestId}),U)).catch(U=>{throw u.end({success:!1,errorCode:U.errorCode,subErrorCode:U.subError,isNativeBroker:!0}),U})})()}createSilentCacheRequest(a,c){return{authority:a.authority,correlationId:this.correlationId,scopes:en.i.fromString(a.scope).asArray(),account:c,forceRefresh:!1}}acquireTokensFromCache(a,c){var u=this;return(0,C.Z)(function*(){if(!a)throw u.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),(0,V.zP)(N.cX);const p=u.browserStorage.getBaseAccountInfo({nativeAccountId:a});if(!p)throw(0,V.zP)(N.cX);try{const y=u.createSilentCacheRequest(c,p),A=yield u.silentCacheClient.acquireToken(y),T={...p,idTokenClaims:A?.idTokenClaims};return{...A,account:T}}catch(y){throw y}})()}acquireTokenRedirect(a){var c=this;return(0,C.Z)(function*(){c.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const u=yield c.initializeNativeRequest(a),p={method:m.Ky.GetToken,request:u};try{const T=yield c.nativeMessageHandler.sendMessage(p);c.validateNativeResponse(T)}catch(T){if(T instanceof Un&&Vr(T))throw T}c.browserStorage.setTemporaryCache(m.c4.NATIVE_REQUEST,JSON.stringify(u),!0);const y={apiId:m.WN.acquireTokenRedirect,timeout:c.config.system.redirectNavigationTimeout,noHistory:!1},A=c.config.auth.navigateToLoginRequestUrl?window.location.href:c.getRedirectUri(a.redirectUri);yield c.navigationClient.navigateExternal(A,y)})()}handleRedirectPromise(){var a=this;return(0,C.Z)(function*(){if(a.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!a.browserStorage.isInteractionInProgress(!0))return a.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const c=a.browserStorage.getCachedNativeRequest();if(!c)return a.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),null;const{prompt:u,...p}=c;u&&a.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),a.browserStorage.removeItem(a.browserStorage.generateCacheKey(m.c4.NATIVE_REQUEST));const y={method:m.Ky.GetToken,request:p},A=dr.I.nowSeconds();try{a.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const T=yield a.nativeMessageHandler.sendMessage(y);a.validateNativeResponse(T);const z=a.handleNativeResponse(T,p,A);return a.browserStorage.setInteractionInProgress(!1),yield z}catch(T){throw a.browserStorage.setInteractionInProgress(!1),T}})()}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}handleNativeResponse(a,c,u){var p=this;return(0,C.Z)(function*(){if(p.logger.trace("NativeInteractionClient - handleNativeResponse called."),a.account.id!==c.accountId)throw gn(Li);const y=yield p.getDiscoveredAuthority(c.authority),A=le.Z_(a.id_token,me.t),T=p.createHomeAccountIdentifier(a,A),z=Ni(p.browserStorage,y,T,A,me.t,a.client_info,A.tid,void 0,a.account.id,p.logger),U=yield p.generateAuthenticationResult(a,c,A,z,y.canonicalAuthority,u);return p.cacheAccount(z),p.cacheNativeTokens(a,c,T,A,U.accessToken,U.tenantId,u),U})()}createHomeAccountIdentifier(a,c){return K.r.generateHomeAccountId(a.client_info||v.gT.EMPTY_STRING,ma.a.Default,this.logger,this.browserCrypto,c)}generateScopes(a,c){return en.i.fromString(a.scope?a.scope:c.scope)}generatePopAccessToken(a,c){var u=this;return(0,C.Z)(function*(){if(c.tokenType===v.hO.POP){if(a.shr)return u.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),a.shr;const p=new Br(u.browserCrypto),y={resourceRequestMethod:c.resourceRequestMethod,resourceRequestUri:c.resourceRequestUri,shrClaims:c.shrClaims,shrNonce:c.shrNonce};if(!c.keyId)throw(0,V.zP)(N.Of);return p.signPopToken(a.access_token,c.keyId,y)}return a.access_token})()}generateAuthenticationResult(a,c,u,p,y,A){var T=this;return(0,C.Z)(function*(){const z=T.addTelemetryFromNativeResponse(a),U=en.i.fromString(a.scope?a.scope:c.scope),G=a.account.properties||{},_e=G.UID||u.oid||u.sub||v.gT.EMPTY_STRING,Oe=G.TenantId||u.tid||v.gT.EMPTY_STRING,Ge=(0,ua.$f)(p.getAccountInfo(),void 0,u),lt=yield T.generatePopAccessToken(a,c),Ke=c.tokenType===v.hO.POP?v.hO.POP:v.hO.BEARER;return{authority:y,uniqueId:_e,tenantId:Oe,scopes:U.asArray(),account:Ge,idToken:a.id_token,idTokenClaims:u,accessToken:lt,fromCache:!!z&&T.isResponseFromCache(z),expiresOn:new Date(1e3*Number(A+a.expires_in)),tokenType:Ke,correlationId:T.correlationId,state:a.state,fromNativeBroker:!0}})()}cacheAccount(a){this.browserStorage.setAccount(a),this.browserStorage.removeAccountContext(a).catch(c=>{this.logger.error(`Error occurred while removing account context from browser storage. ${c}`)})}cacheNativeTokens(a,c,u,p,y,A,T){const z=se.Md(u,c.authority,a.id_token||"",c.clientId,p.tid||""),G=T+(c.tokenType===v.hO.POP?v.gT.SHR_NONCE_VALIDITY:("string"==typeof a.expires_in?parseInt(a.expires_in,10):a.expires_in)||0),_e=this.generateScopes(a,c),Oe=se.Ds(u,c.authority,y,c.clientId,p.tid||A,_e.printScopes(),G,0,me.t),Ge=new pe(void 0,z,Oe);this.nativeStorageManager.saveCacheRecord(Ge,c.storeInCache)}addTelemetryFromNativeResponse(a){const c=this.getMATSFromResponse(a);return c?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:c.broker_version,matsAccountJoinOnStart:c.account_join_on_start,matsAccountJoinOnEnd:c.account_join_on_end,matsDeviceJoin:c.device_join,matsPromptBehavior:c.prompt_behavior,matsApiErrorCode:c.api_error_code,matsUiVisible:c.ui_visible,matsSilentCode:c.silent_code,matsSilentBiSubCode:c.silent_bi_sub_code,matsSilentMessage:c.silent_message,matsSilentStatus:c.silent_status,matsHttpStatus:c.http_status,matsHttpEventCount:c.http_event_count},this.correlationId),c):null}validateNativeResponse(a){if(a.hasOwnProperty("access_token")&&a.hasOwnProperty("id_token")&&a.hasOwnProperty("client_info")&&a.hasOwnProperty("account")&&a.hasOwnProperty("scope")&&a.hasOwnProperty("expires_in"))return a;throw(0,S.MD)(ya.g,"Response missing expected properties.")}getMATSFromResponse(a){if(a.properties.MATS)try{return JSON.parse(a.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(a){return typeof a.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!a.is_cached}initializeNativeRequest(a){var c=this;return(0,C.Z)(function*(){c.logger.trace("NativeInteractionClient - initializeNativeRequest called");const u=a.authority||c.config.auth.authority;a.account&&(yield c.validateRequestAuthority(u,a.account));const p=new Pe.G(u);p.validateAsUri();const{scopes:y,...A}=a,T=new en.i(y||[]);T.appendScopes(v.f_);const U={...A,accountId:c.accountId,clientId:c.config.auth.clientId,authority:p.urlString,scope:T.printScopes(),redirectUri:c.getRedirectUri(a.redirectUri),prompt:(()=>{switch(c.apiId){case m.WN.ssoSilent:case m.WN.acquireTokenSilent_silentFlow:return c.logger.trace("initializeNativeRequest: silent request sets prompt to none"),v.NJ.NONE}if(a.prompt)switch(a.prompt){case v.NJ.NONE:case v.NJ.CONSENT:case v.NJ.LOGIN:return c.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),a.prompt;default:throw c.logger.trace(`initializeNativeRequest: prompt = ${a.prompt} is not compatible with native flow`),(0,F.Z_)(J.o9)}else c.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:c.correlationId,tokenType:a.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...a.extraQueryParameters,...a.tokenQueryParameters},extendedExpiryToken:!1};if(c.handleExtraBrokerParams(U),U.extraParameters=U.extraParameters||{},U.extraParameters.telemetry=m.BD.MATS_TELEMETRY,a.authenticationScheme===v.hO.POP){const G={resourceRequestUri:a.resourceRequestUri,resourceRequestMethod:a.resourceRequestMethod,shrClaims:a.shrClaims,shrNonce:a.shrNonce},_e=new Br(c.browserCrypto),Oe=yield(0,I.i)(_e.generateCnf.bind(_e),E.Ak.PopTokenGenerateCnf,c.logger,c.performanceClient,c.correlationId)(G,c.logger);U.reqCnf=Oe.reqCnfHash,U.keyId=Oe.kid}return U})()}handleExtraBrokerParams(a){if(a.extraParameters&&a.extraParameters.hasOwnProperty("brk_client_id")&&a.extraParameters.hasOwnProperty("brk_redirect_uri")&&a.extraParameters.hasOwnProperty(Hr.Cx)){const p=a.extraParameters.brk_redirect_uri;a.extraParameters={child_client_id:a.extraParameters[Hr.Cx],child_redirect_uri:a.redirectUri},a.redirectUri=p}}}class Tn{constructor(a,c,u,p){this.logger=a,this.handshakeTimeoutMs=c,this.extensionId=p,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=u,this.handshakeEvent=u.startMeasurement(E.Ak.NativeMessageHandlerHandshake)}sendMessage(a){var c=this;return(0,C.Z)(function*(){c.logger.trace("NativeMessageHandler - sendMessage called.");const u={channel:m.BD.CHANNEL_ID,extensionId:c.extensionId,responseId:(0,hr.nn)(),body:a};return c.logger.trace("NativeMessageHandler - Sending request to browser extension"),c.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(u)}`),c.messageChannel.port1.postMessage(u),new Promise((p,y)=>{c.resolvers.set(u.responseId,{resolve:p,reject:y})})})()}static createProvider(a,c,u){return(0,C.Z)(function*(){a.trace("NativeMessageHandler - createProvider called.");try{const p=new Tn(a,c,u,m.BD.PREFERRED_EXTENSION_ID);return yield p.sendHandshakeRequest(),p}catch{const y=new Tn(a,c,u);return yield y.sendHandshakeRequest(),y}})()}sendHandshakeRequest(){var a=this;return(0,C.Z)(function*(){a.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",a.windowListener,!1);const c={channel:m.BD.CHANNEL_ID,extensionId:a.extensionId,responseId:(0,hr.nn)(),body:{method:m.Ky.HandshakeRequest}};return a.handshakeEvent.add({extensionId:a.extensionId,extensionHandshakeTimeoutMs:a.handshakeTimeoutMs}),a.messageChannel.port1.onmessage=u=>{a.onChannelMessage(u)},window.postMessage(c,window.origin,[a.messageChannel.port2]),new Promise((u,p)=>{a.handshakeResolvers.set(c.responseId,{resolve:u,reject:p}),a.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",a.windowListener,!1),a.messageChannel.port1.close(),a.messageChannel.port2.close(),a.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),p((0,F.Z_)(J.hR)),a.handshakeResolvers.delete(c.responseId)},a.handshakeTimeoutMs)})})()}onWindowMessage(a){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),a.source!==window)return;const c=a.data;if(c.channel&&c.channel===m.BD.CHANNEL_ID&&(!c.extensionId||c.extensionId===this.extensionId)&&c.body.method===m.Ky.HandshakeRequest){const u=this.handshakeResolvers.get(c.responseId);if(!u)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${c.responseId}`);this.logger.verbose(c.extensionId?`Extension with id: ${c.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),u.reject((0,F.Z_)(J.Wb))}}onChannelMessage(a){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const c=a.data,u=this.resolvers.get(c.responseId),p=this.handshakeResolvers.get(c.responseId);try{const y=c.body.method;if(y===m.Ky.Response){if(!u)return;const A=c.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(A)}`),"Success"!==A.status)u.reject(gn(A.code,A.description,A.ext));else{if(!A.result)throw(0,S.MD)(ya.g,"Event does not contain result.");A.result.code&&A.result.description?u.reject(gn(A.result.code,A.result.description,A.result.ext)):u.resolve(A.result)}this.resolvers.delete(c.responseId)}else if(y===m.Ky.HandshakeResponse){if(!p)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${c.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=c.extensionId,this.extensionVersion=c.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),p.resolve(),this.handshakeResolvers.delete(c.responseId)}}catch(y){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${y}`),this.logger.errorPii(`Unable to parse ${a}`),u?u.reject(y):p&&p.reject(y)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(a,c,u,p){if(c.trace("isNativeAvailable called"),!a.system.allowNativeBroker)return c.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!u)return c.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(p)switch(p){case v.hO.BEARER:case v.hO.POP:return c.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return c.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class ko{constructor(a,c,u,p,y){this.authModule=a,this.browserStorage=c,this.authCodeRequest=u,this.logger=p,this.performanceClient=y}handleCodeResponse(a,c){var u=this;return(0,C.Z)(function*(){let p;u.performanceClient.addQueueMeasurement(E.Ak.HandleCodeResponse,c.correlationId);try{p=u.authModule.handleFragmentResponse(a,c.state)}catch(y){throw y instanceof Ot.n&&y.subError===J.h7?(0,F.Z_)(J.h7):y}return(0,I.i)(u.handleCodeResponseFromServer.bind(u),E.Ak.HandleCodeResponseFromServer,u.logger,u.performanceClient,c.correlationId)(p,c)})()}handleCodeResponseFromServer(a,c,u=!0){var p=this;return(0,C.Z)(function*(){if(p.performanceClient.addQueueMeasurement(E.Ak.HandleCodeResponseFromServer,c.correlationId),p.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),p.authCodeRequest.code=a.code,a.cloud_instance_host_name&&(yield(0,I.i)(p.authModule.updateAuthority.bind(p.authModule),E.Ak.UpdateTokenEndpointAuthority,p.logger,p.performanceClient,c.correlationId)(a.cloud_instance_host_name,c.correlationId)),u&&(a.nonce=c.nonce||void 0),a.state=c.state,a.client_info)p.authCodeRequest.clientInfo=a.client_info;else{const A=p.createCcsCredentials(c);A&&(p.authCodeRequest.ccsCredential=A)}return yield(0,I.i)(p.authModule.acquireToken.bind(p.authModule),E.Ak.AuthClientAcquireToken,p.logger,p.performanceClient,c.correlationId)(p.authCodeRequest,a)})()}createCcsCredentials(a){return a.account?{credential:a.account.homeAccountId,type:"home_account_id"}:a.loginHint?{credential:a.loginHint,type:"UPN"}:null}}var $r=w(9218);function Ui(re,a,c){const u=$r.F(re);if(!u)throw $r.q(re)?(c.error(`A ${a} is present in the iframe but it does not contain known properties. It's likely that the ${a} has been replaced by code running on the redirectUri page.`),c.errorPii(`The ${a} detected is: ${re}`),(0,F.Z_)(J.S_)):(c.error(`The request has returned to the redirectUri but a ${a} is not present. It's likely that the ${a} has been removed or the page has been redirected by code running on the redirectUri page.`),(0,F.Z_)(J.nF));return u}class jl extends fr{constructor(a,c,u,p,y,A,T,z,U,G){super(a,c,u,p,y,A,T,U,G),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=z}acquireToken(a){try{const c=this.generatePopupName(a.scopes||v.f_,a.authority||this.config.auth.authority),u=a.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(a,c,u);{this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");const p=this.openSizedPopup("about:blank",c,u);return this.acquireTokenPopupAsync(a,c,u,p)}}catch(c){return Promise.reject(c)}}logout(a){try{this.logger.verbose("logoutPopup called");const c=this.initializeLogoutRequest(a),u=this.generateLogoutPopupName(c),p=a&&a.authority,y=a&&a.mainWindowRedirectUri,A=a?.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(c,u,A,p,void 0,y);{this.logger.verbose("asyncPopup set to false, opening popup");const T=this.openSizedPopup("about:blank",u,A);return this.logoutPopupAsync(c,u,A,p,T,y)}}catch(c){return Promise.reject(c)}}acquireTokenPopupAsync(a,c,u,p){var y=this;return(0,C.Z)(function*(){y.logger.verbose("acquireTokenPopupAsync called");const A=y.initializeServerTelemetryManager(m.WN.acquireTokenPopup),T=yield(0,I.i)(y.initializeAuthorizationRequest.bind(y),E.Ak.StandardInteractionClientInitializeAuthorizationRequest,y.logger,y.performanceClient,y.correlationId)(a,m.s_.Popup);(0,He.$P)(T.authority);try{const z=yield(0,I.i)(y.initializeAuthorizationCodeRequest.bind(y),E.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,y.logger,y.performanceClient,y.correlationId)(T),U=yield(0,I.i)(y.createAuthCodeClient.bind(y),E.Ak.StandardInteractionClientCreateAuthCodeClient,y.logger,y.performanceClient,y.correlationId)(A,T.authority,T.azureCloudOptions),G=Tn.isNativeAvailable(y.config,y.logger,y.nativeMessageHandler,a.authenticationScheme);let _e;G&&(_e=y.performanceClient.startMeasurement(E.Ak.FetchAccountIdWithNativeBroker,a.correlationId));const Oe=yield U.getAuthCodeUrl({...T,nativeBroker:G}),Ge=new ko(U,y.browserStorage,z,y.logger,y.performanceClient),Ke=y.initiateAuthRequest(Oe,{popup:p,popupName:c,popupWindowAttributes:u});y.eventHandler.emitEvent(Ie.t.POPUP_OPENED,m.s_.Popup,{popupWindow:Ke},null);const jr=yield y.monitorPopupForHash(Ke),gr=(0,I.d)(Ui,E.Ak.DeserializeResponse,y.logger,y.performanceClient,y.correlationId)(jr,y.config.auth.OIDCOptions.serverResponseType,y.logger);if(Tt.removeThrottle(y.browserStorage,y.config.auth.clientId,z),gr.accountId){if(y.logger.verbose("Account id found in hash, calling WAM for token"),_e&&_e.end({success:!0,isNativeBroker:!0}),!y.nativeMessageHandler)throw(0,F.Z_)(J.V7);const Wt=new io(y.config,y.browserStorage,y.browserCrypto,y.logger,y.eventHandler,y.navigationClient,m.WN.acquireTokenPopup,y.performanceClient,y.nativeMessageHandler,gr.accountId,y.nativeStorage,T.correlationId),{userRequestState:Po}=L.parseRequestState(y.browserCrypto,T.state);return yield Wt.acquireToken({...T,state:Po,prompt:void 0})}return yield Ge.handleCodeResponse(gr,T)}catch(z){throw p&&p.close(),z instanceof S.l4&&(z.setCorrelationId(y.correlationId),A.cacheFailedRequest(z)),z}})()}logoutPopupAsync(a,c,u,p,y,A){var T=this;return(0,C.Z)(function*(){T.logger.verbose("logoutPopupAsync called"),T.eventHandler.emitEvent(Ie.t.LOGOUT_START,m.s_.Popup,a);const z=T.initializeServerTelemetryManager(m.WN.logoutPopup);try{yield T.clearCacheOnLogout(a.account);const G=(yield(0,I.i)(T.createAuthCodeClient.bind(T),E.Ak.StandardInteractionClientCreateAuthCodeClient,T.logger,T.performanceClient,T.correlationId)(z,p)).getLogoutUri(a);T.eventHandler.emitEvent(Ie.t.LOGOUT_SUCCESS,m.s_.Popup,a);const _e=T.openPopup(G,{popupName:c,popupWindowAttributes:u,popup:y});if(T.eventHandler.emitEvent(Ie.t.POPUP_OPENED,m.s_.Popup,{popupWindow:_e},null),yield T.monitorPopupForHash(_e).catch(()=>{}),A){const Oe={apiId:m.WN.logoutPopup,timeout:T.config.system.redirectNavigationTimeout,noHistory:!1},Ge=Pe.G.getAbsoluteUrl(A,(0,He.Re)());T.logger.verbose("Redirecting main window to url specified in the request"),T.logger.verbosePii(`Redirecting main window to: ${Ge}`),yield T.navigationClient.navigateInternal(Ge,Oe)}else T.logger.verbose("No main window navigation requested")}catch(U){throw y&&y.close(),U instanceof S.l4&&(U.setCorrelationId(T.correlationId),z.cacheFailedRequest(U)),T.browserStorage.setInteractionInProgress(!1),T.eventHandler.emitEvent(Ie.t.LOGOUT_FAILURE,m.s_.Popup,null,U),T.eventHandler.emitEvent(Ie.t.LOGOUT_END,m.s_.Popup),U}T.eventHandler.emitEvent(Ie.t.LOGOUT_END,m.s_.Popup)})()}initiateAuthRequest(a,c){if(a)return this.logger.infoPii(`Navigate to: ${a}`),this.openPopup(a,c);throw this.logger.error("Navigate url is empty"),(0,F.Z_)(J._c)}monitorPopupForHash(a){return new Promise((c,u)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const p=setInterval(()=>{if(a.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(p),void u((0,F.Z_)(J.h7));let y="";try{y=a.location.href}catch{}if(!y||"about:blank"===y)return;clearInterval(p);let A="";a&&(A=this.config.auth.OIDCOptions.serverResponseType===v.rg.QUERY?a.location.search:a.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),c(A)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(a)})}openPopup(a,c){try{let u;if(c.popup?(u=c.popup,this.logger.verbosePii(`Navigating popup window to: ${a}`),u.location.assign(a)):typeof c.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${a}`),u=this.openSizedPopup(a,c.popupName,c.popupWindowAttributes)),!u)throw(0,F.Z_)(J.H);return u.focus&&u.focus(),this.currentWindow=u,window.addEventListener("beforeunload",this.unloadWindow),u}catch(u){throw this.logger.error("error opening popup "+u.message),this.browserStorage.setInteractionInProgress(!1),(0,F.Z_)(J.E)}}openSizedPopup(a,c,u){const p=window.screenLeft?window.screenLeft:window.screenX,y=window.screenTop?window.screenTop:window.screenY,A=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,T=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let z=u.popupSize?.width,U=u.popupSize?.height,G=u.popupPosition?.top,_e=u.popupPosition?.left;return(!z||z<0||z>A)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),z=m.qx.POPUP_WIDTH),(!U||U<0||U>T)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),U=m.qx.POPUP_HEIGHT),(!G||G<0||G>T)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),G=Math.max(0,T/2-m.qx.POPUP_HEIGHT/2+y)),(!_e||_e<0||_e>A)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),_e=Math.max(0,A/2-m.qx.POPUP_WIDTH/2+p)),window.open(a,c,`width=${z}, height=${U}, top=${G}, left=${_e}, scrollbars=yes`)}unloadWindow(a){this.browserStorage.cleanRequestByInteractionType(m.s_.Popup),this.currentWindow&&this.currentWindow.close(),a.preventDefault()}cleanPopup(a){a&&a.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(a,c){return`${m.qx.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${a.join("-")}.${c}.${this.correlationId}`}generateLogoutPopupName(a){return`${m.qx.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${a.account&&a.account.homeAccountId}.${this.correlationId}`}}class Hi{constructor(a,c,u,p,y){this.authModule=a,this.browserStorage=c,this.authCodeRequest=u,this.logger=p,this.performanceClient=y}initiateAuthRequest(a,c){var u=this;return(0,C.Z)(function*(){if(u.logger.verbose("RedirectHandler.initiateAuthRequest called"),a){c.redirectStartPage&&(u.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),u.browserStorage.setTemporaryCache(m.c4.ORIGIN_URI,c.redirectStartPage,!0)),u.browserStorage.setTemporaryCache(m.c4.CORRELATION_ID,u.authCodeRequest.correlationId,!0),u.browserStorage.cacheCodeRequest(u.authCodeRequest),u.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${a}`);const p={apiId:m.WN.acquireTokenRedirect,timeout:c.redirectTimeout,noHistory:!1};return"function"==typeof c.onRedirectNavigate?(u.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1!==c.onRedirectNavigate(a)?(u.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void(yield c.navigationClient.navigateExternal(a,p))):void u.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")):(u.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void(yield c.navigationClient.navigateExternal(a,p)))}throw u.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),(0,F.Z_)(J._c)})()}handleCodeResponse(a,c){var u=this;return(0,C.Z)(function*(){u.logger.verbose("RedirectHandler.handleCodeResponse called"),u.browserStorage.setInteractionInProgress(!1);const p=u.browserStorage.generateStateKey(c),y=u.browserStorage.getTemporaryCache(p);if(!y)throw(0,V.zP)(N.LV,"Cached State");let A;try{A=u.authModule.handleFragmentResponse(a,y)}catch(G){throw G instanceof Ot.n&&G.subError===J.h7?(0,F.Z_)(J.h7):G}const T=u.browserStorage.generateNonceKey(y),z=u.browserStorage.getTemporaryCache(T);if(u.authCodeRequest.code=A.code,A.cloud_instance_host_name&&(yield(0,I.i)(u.authModule.updateAuthority.bind(u.authModule),E.Ak.UpdateTokenEndpointAuthority,u.logger,u.performanceClient,u.authCodeRequest.correlationId)(A.cloud_instance_host_name,u.authCodeRequest.correlationId)),A.nonce=z||void 0,A.state=y,A.client_info)u.authCodeRequest.clientInfo=A.client_info;else{const G=u.checkCcsCredentials();G&&(u.authCodeRequest.ccsCredential=G)}const U=yield u.authModule.acquireToken(u.authCodeRequest,A);return u.browserStorage.cleanRequestByState(c),U})()}checkCcsCredentials(){const a=this.browserStorage.getTemporaryCache(m.c4.CCS_CREDENTIAL,!0);if(a)try{return JSON.parse(a)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${a}`)}return null}}class Ia extends fr{constructor(a,c,u,p,y,A,T,z,U,G){super(a,c,u,p,y,A,T,U,G),this.nativeStorage=z}acquireToken(a){var c=this;return(0,C.Z)(function*(){const u=yield(0,I.i)(c.initializeAuthorizationRequest.bind(c),E.Ak.StandardInteractionClientInitializeAuthorizationRequest,c.logger,c.performanceClient,c.correlationId)(a,m.s_.Redirect);c.browserStorage.updateCacheEntries(u.state,u.nonce,u.authority,u.loginHint||"",u.account||null);const p=c.initializeServerTelemetryManager(m.WN.acquireTokenRedirect),y=A=>{A.persisted&&(c.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),c.browserStorage.cleanRequestByState(u.state),c.eventHandler.emitEvent(Ie.t.RESTORE_FROM_BFCACHE,m.s_.Redirect))};try{const A=yield(0,I.i)(c.initializeAuthorizationCodeRequest.bind(c),E.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,c.logger,c.performanceClient,c.correlationId)(u),T=yield(0,I.i)(c.createAuthCodeClient.bind(c),E.Ak.StandardInteractionClientCreateAuthCodeClient,c.logger,c.performanceClient,c.correlationId)(p,u.authority,u.azureCloudOptions),z=new Hi(T,c.browserStorage,A,c.logger,c.performanceClient),U=yield T.getAuthCodeUrl({...u,nativeBroker:Tn.isNativeAvailable(c.config,c.logger,c.nativeMessageHandler,a.authenticationScheme)}),G=c.getRedirectStartPage(a.redirectStartPage);return c.logger.verbosePii(`Redirect start page: ${G}`),window.addEventListener("pageshow",y),yield z.initiateAuthRequest(U,{navigationClient:c.navigationClient,redirectTimeout:c.config.system.redirectNavigationTimeout,redirectStartPage:G,onRedirectNavigate:a.onRedirectNavigate})}catch(A){throw A instanceof S.l4&&(A.setCorrelationId(c.correlationId),p.cacheFailedRequest(A)),window.removeEventListener("pageshow",y),c.browserStorage.cleanRequestByState(u.state),A}})()}handleRedirectPromise(a){var c=this;return(0,C.Z)(function*(){const u=c.initializeServerTelemetryManager(m.WN.handleRedirectPromise);try{if(!c.browserStorage.isInteractionInProgress(!0))return c.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[p,y]=c.getRedirectResponse(a||"");if(!p)return c.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),c.browserStorage.cleanRequestByInteractionType(m.s_.Redirect),null;const A=c.browserStorage.getTemporaryCache(m.c4.ORIGIN_URI,!0)||v.gT.EMPTY_STRING;if(Pe.G.removeHashFromUrl(A)===Pe.G.removeHashFromUrl(window.location.href)&&c.config.auth.navigateToLoginRequestUrl)return c.logger.verbose("Current page is loginRequestUrl, handling response"),A.indexOf("#")>-1&&(0,He.tT)(A),yield c.handleResponse(p,u);if(!c.config.auth.navigateToLoginRequestUrl)return c.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),yield c.handleResponse(p,u);if(!(0,He.zd)()||c.config.system.allowRedirectInIframe){c.browserStorage.setTemporaryCache(m.c4.URL_HASH,y,!0);const U={apiId:m.WN.handleRedirectPromise,timeout:c.config.system.redirectNavigationTimeout,noHistory:!0};let G=!0;if(A&&"null"!==A)c.logger.verbose(`Navigating to loginRequestUrl: ${A}`),G=yield c.navigationClient.navigateInternal(A,U);else{const _e=(0,He.fl)();c.browserStorage.setTemporaryCache(m.c4.ORIGIN_URI,_e,!0),c.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),G=yield c.navigationClient.navigateInternal(_e,U)}if(!G)return yield c.handleResponse(p,u)}return null}catch(p){throw p instanceof S.l4&&(p.setCorrelationId(c.correlationId),u.cacheFailedRequest(p)),c.browserStorage.cleanRequestByInteractionType(m.s_.Redirect),p}})()}getRedirectResponse(a){this.logger.verbose("getRedirectResponseHash called");let c=a;c||(c=this.config.auth.OIDCOptions.serverResponseType===v.rg.QUERY?window.location.search:window.location.hash);let u=$r.F(c);if(u){try{!function so(re,a,c){if(!re.state)throw(0,F.Z_)(J.Xk);const u=ue(a,re.state);if(!u)throw(0,F.Z_)(J.$P);if(u.interactionType!==c)throw(0,F.Z_)(J.yK)}(u,this.browserCrypto,m.s_.Redirect)}catch(y){return y instanceof S.l4&&this.logger.error(`Interaction type validation failed due to ${y.errorCode}: ${y.errorMessage}`),[null,""]}return(0,He.hH)(window),this.logger.verbose("Hash contains known properties, returning response hash"),[u,c]}const p=this.browserStorage.getTemporaryCache(m.c4.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(m.c4.URL_HASH)),p&&(u=$r.F(p),u)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[u,p]):[null,""]}handleResponse(a,c){var u=this;return(0,C.Z)(function*(){const p=a.state;if(!p)throw(0,F.Z_)(J.Xk);const y=u.browserStorage.getCachedRequest(p);if(u.logger.verbose("handleResponse called, retrieved cached request"),a.accountId){if(u.logger.verbose("Account id found in hash, calling WAM for token"),!u.nativeMessageHandler)throw(0,F.Z_)(J.V7);const U=new io(u.config,u.browserStorage,u.browserCrypto,u.logger,u.eventHandler,u.navigationClient,m.WN.acquireTokenPopup,u.performanceClient,u.nativeMessageHandler,a.accountId,u.nativeStorage,y.correlationId),{userRequestState:G}=L.parseRequestState(u.browserCrypto,p);return U.acquireToken({...y,state:G,prompt:void 0}).finally(()=>{u.browserStorage.cleanRequestByState(p)})}const A=u.browserStorage.getCachedAuthority(p);if(!A)throw(0,F.Z_)(J.dT);const T=yield(0,I.i)(u.createAuthCodeClient.bind(u),E.Ak.StandardInteractionClientCreateAuthCodeClient,u.logger,u.performanceClient,u.correlationId)(c,A);return Tt.removeThrottle(u.browserStorage,u.config.auth.clientId,y),new Hi(T,u.browserStorage,y,u.logger,u.performanceClient).handleCodeResponse(a,p)})()}logout(a){var c=this;return(0,C.Z)(function*(){c.logger.verbose("logoutRedirect called");const u=c.initializeLogoutRequest(a),p=c.initializeServerTelemetryManager(m.WN.logout);try{c.eventHandler.emitEvent(Ie.t.LOGOUT_START,m.s_.Redirect,a),yield c.clearCacheOnLogout(u.account);const y={apiId:m.WN.logout,timeout:c.config.system.redirectNavigationTimeout,noHistory:!1},T=(yield(0,I.i)(c.createAuthCodeClient.bind(c),E.Ak.StandardInteractionClientCreateAuthCodeClient,c.logger,c.performanceClient,c.correlationId)(p,a&&a.authority)).getLogoutUri(u);if(c.eventHandler.emitEvent(Ie.t.LOGOUT_SUCCESS,m.s_.Redirect,u),!a||"function"!=typeof a.onRedirectNavigate)return c.browserStorage.getInteractionInProgress()||c.browserStorage.setInteractionInProgress(!0),void(yield c.navigationClient.navigateExternal(T,y));if(!1!==a.onRedirectNavigate(T))return c.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),c.browserStorage.getInteractionInProgress()||c.browserStorage.setInteractionInProgress(!0),void(yield c.navigationClient.navigateExternal(T,y));c.browserStorage.setInteractionInProgress(!1),c.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(y){throw y instanceof S.l4&&(y.setCorrelationId(c.correlationId),p.cacheFailedRequest(y)),c.eventHandler.emitEvent(Ie.t.LOGOUT_FAILURE,m.s_.Redirect,null,y),c.eventHandler.emitEvent(Ie.t.LOGOUT_END,m.s_.Redirect),y}c.eventHandler.emitEvent(Ie.t.LOGOUT_END,m.s_.Redirect)})()}getRedirectStartPage(a){const c=a||window.location.href;return Pe.G.getAbsoluteUrl(c,(0,He.Re)())}}var Aa=w(1216);function zl(re,a,c,u,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,C.Z)(function*(re,a,c,u,p){if(a.addQueueMeasurement(E.Ak.SilentHandlerInitiateAuthRequest,u),!re)throw c.info("Navigate url is empty"),(0,F.Z_)(J._c);return p?(0,I.i)(Kl,E.Ak.SilentHandlerLoadFrame,c,a,u)(re,p,a,u):(0,I.d)(Wl,E.Ak.SilentHandlerLoadFrameSync,c,a,u)(re)})).apply(this,arguments)}function Gl(re,a,c,u,p,y,A){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,C.Z)(function*(re,a,c,u,p,y,A){return u.addQueueMeasurement(E.Ak.SilentHandlerMonitorIframeForHash,y),new Promise((T,z)=>{a<Aa.Is&&p.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${a}ms) than the default (${Aa.Is}ms). This may result in timeouts.`);const U=window.setTimeout(()=>{window.clearInterval(G),z((0,F.Z_)(J.JA))},a),G=window.setInterval(()=>{let _e="";const Oe=re.contentWindow;try{_e=Oe?Oe.location.href:""}catch{}if(!_e||"about:blank"===_e)return;let Ge="";Oe&&(Ge=A===v.rg.QUERY?Oe.location.search:Oe.location.hash),window.clearTimeout(U),window.clearInterval(G),T(Ge)},c)}).finally(()=>{(0,I.d)(ql,E.Ak.RemoveHiddenIframe,p,u,y)(re)})})).apply(this,arguments)}function Kl(re,a,c,u){return c.addQueueMeasurement(E.Ak.SilentHandlerLoadFrame,u),new Promise((p,y)=>{const A=ze();window.setTimeout(()=>{A?(A.src=re,p(A)):y("Unable to load iframe")},a)})}function Wl(re){const a=ze();return a.src=re,a}function ze(){const re=document.createElement("iframe");return re.style.visibility="hidden",re.style.position="absolute",re.style.width=re.style.height="0",re.style.border="0",re.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(re),re}function ql(re){document.body===re.parentNode&&document.body.removeChild(re)}class Zl extends fr{constructor(a,c,u,p,y,A,T,z,U,G,_e){super(a,c,u,p,y,A,z,G,_e),this.apiId=T,this.nativeStorage=U}acquireToken(a){var c=this;return(0,C.Z)(function*(){if(c.performanceClient.addQueueMeasurement(E.Ak.SilentIframeClientAcquireToken,a.correlationId),!a.loginHint&&!a.sid&&(!a.account||!a.account.username)&&c.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),a.prompt&&a.prompt!==v.NJ.NONE&&a.prompt!==v.NJ.NO_SESSION)throw(0,F.Z_)(J.WQ);const u=yield(0,I.i)(c.initializeAuthorizationRequest.bind(c),E.Ak.StandardInteractionClientInitializeAuthorizationRequest,c.logger,c.performanceClient,a.correlationId)({...a,prompt:a.prompt||v.NJ.NONE},m.s_.Silent);(0,He.$P)(u.authority);const p=c.initializeServerTelemetryManager(c.apiId);try{const y=yield(0,I.i)(c.createAuthCodeClient.bind(c),E.Ak.StandardInteractionClientCreateAuthCodeClient,c.logger,c.performanceClient,a.correlationId)(p,u.authority,u.azureCloudOptions);return yield(0,I.i)(c.silentTokenHelper.bind(c),E.Ak.SilentIframeClientTokenHelper,c.logger,c.performanceClient,a.correlationId)(y,u)}catch(y){throw y instanceof S.l4&&(y.setCorrelationId(c.correlationId),p.cacheFailedRequest(y)),y}})()}logout(){return Promise.reject((0,F.Z_)(J.I9))}silentTokenHelper(a,c){var u=this;return(0,C.Z)(function*(){const p=c.correlationId;u.performanceClient.addQueueMeasurement(E.Ak.SilentIframeClientTokenHelper,p);const y=yield(0,I.i)(u.initializeAuthorizationCodeRequest.bind(u),E.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,u.logger,u.performanceClient,p)(c),A=yield(0,I.i)(a.getAuthCodeUrl.bind(a),E.Ak.GetAuthCodeUrl,u.logger,u.performanceClient,p)({...c,nativeBroker:Tn.isNativeAvailable(u.config,u.logger,u.nativeMessageHandler,c.authenticationScheme)}),T=new ko(a,u.browserStorage,y,u.logger,u.performanceClient),z=yield(0,I.i)(zl,E.Ak.SilentHandlerInitiateAuthRequest,u.logger,u.performanceClient,p)(A,u.performanceClient,u.logger,p,u.config.system.navigateFrameWait),U=u.config.auth.OIDCOptions.serverResponseType,G=yield(0,I.i)(Gl,E.Ak.SilentHandlerMonitorIframeForHash,u.logger,u.performanceClient,p)(z,u.config.system.iframeHashTimeout,u.config.system.pollIntervalMilliseconds,u.performanceClient,u.logger,p,U),_e=(0,I.d)(Ui,E.Ak.DeserializeResponse,u.logger,u.performanceClient,u.correlationId)(G,U,u.logger);if(_e.accountId){if(u.logger.verbose("Account id found in hash, calling WAM for token"),!u.nativeMessageHandler)throw(0,F.Z_)(J.V7);const Oe=new io(u.config,u.browserStorage,u.browserCrypto,u.logger,u.eventHandler,u.navigationClient,u.apiId,u.performanceClient,u.nativeMessageHandler,_e.accountId,u.browserStorage,p),{userRequestState:Ge}=L.parseRequestState(u.browserCrypto,c.state);return(0,I.i)(Oe.acquireToken.bind(Oe),E.Ak.NativeInteractionClientAcquireToken,u.logger,u.performanceClient,p)({...c,state:Ge,prompt:c.prompt||v.NJ.NONE})}return(0,I.i)(T.handleCodeResponse.bind(T),E.Ak.HandleCodeResponse,u.logger,u.performanceClient,p)(_e,c)})()}}class Vi extends fr{acquireToken(a){var c=this;return(0,C.Z)(function*(){c.performanceClient.addQueueMeasurement(E.Ak.SilentRefreshClientAcquireToken,a.correlationId);const u=yield(0,I.i)(c.initializeBaseRequest.bind(c),E.Ak.InitializeBaseRequest,c.logger,c.performanceClient,a.correlationId)(a,a.account),p={...a,...u},y=c.initializeServerTelemetryManager(m.WN.acquireTokenSilent_silentFlow),A=yield c.createRefreshTokenClient(y,p.authority,p.azureCloudOptions);return(0,I.i)(A.acquireTokenByRefreshToken.bind(A),E.Ak.RefreshTokenClientAcquireTokenByRefreshToken,c.logger,c.performanceClient,a.correlationId)(p).catch(T=>{throw T.setCorrelationId(c.correlationId),y.cacheFailedRequest(T),T})})()}logout(){return Promise.reject((0,F.Z_)(J.I9))}createRefreshTokenClient(a,c,u){var p=this;return(0,C.Z)(function*(){const y=yield(0,I.i)(p.getClientConfiguration.bind(p),E.Ak.StandardInteractionClientGetClientConfiguration,p.logger,p.performanceClient,p.correlationId)(a,c,u);return new Fi(y,p.performanceClient)})()}}class Xe{constructor(a,c,u,p){this.isBrowserEnvironment=typeof window<"u",this.config=a,this.storage=c,this.logger=u,this.cryptoObj=p}loadExternalTokens(a,c,u){if(this.logger.info("TokenCache - loadExternalTokens called"),!c.id_token)throw(0,F.Z_)(J.Jd);const p=le.Z_(c.id_token,me.t);let y,A,T;if(a.account)T=K.r.createFromAccountInfo(a.account),y=new pe(T,this.loadIdToken(c.id_token,T.homeAccountId,a.account.environment,a.account.tenantId),this.loadAccessToken(a,c,T.homeAccountId,a.account.environment,a.account.tenantId,u),this.loadRefreshToken(a,c,T.homeAccountId,a.account.environment));else{if(!a.authority)throw(0,F.Z_)(J.Jd);{const z=O.WU.generateAuthority(a.authority,a.azureCloudOptions);if(A=new O.WU(z,this.config.system.networkClient,this.storage,{protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},this.logger),u.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),T=this.loadAccount(p,A,u.clientInfo),y=new pe(T,this.loadIdToken(c.id_token,T.homeAccountId,A.hostnameAndPort,A.tenant),this.loadAccessToken(a,c,T.homeAccountId,A.hostnameAndPort,A.tenant,u),this.loadRefreshToken(a,c,T.homeAccountId,A.hostnameAndPort));else{if(!c.client_info)throw(0,F.Z_)(J.Jd);this.logger.trace("TokenCache - homeAccountId from response"),T=this.loadAccount(p,A,c.client_info),y=new pe(T,this.loadIdToken(c.id_token,T.homeAccountId,A.hostnameAndPort,A.tenant),this.loadAccessToken(a,c,T.homeAccountId,A.hostnameAndPort,A.tenant,u),this.loadRefreshToken(a,c,T.homeAccountId,A.hostnameAndPort))}}}return this.generateAuthenticationResult(a,p,y,T,A)}loadAccount(a,c,u,p){if(this.isBrowserEnvironment){let y;if(this.logger.verbose("TokenCache - loading account"),p?y=p:void 0!==c.authorityType&&u&&(y=K.r.generateHomeAccountId(u,c.authorityType,this.logger,this.cryptoObj,a)),!y)throw(0,F.Z_)(J.Jd);const T=Ni(this.storage,c,y,a,me.t,u,a.tid,void 0,void 0,this.logger);return this.storage.setAccount(T),T}throw(0,F.Z_)(J.Jd)}loadIdToken(a,c,u,p){const y=se.Md(c,u,a,this.config.auth.clientId,p);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(y),y;throw(0,F.Z_)(J.Jd)}loadAccessToken(a,c,u,p,y,A){if(!c.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!c.expires_in||!A.extendedExpiresOn)throw(0,F.Z_)(J.Jd);const T=new en.i(a.scopes).printScopes(),z=A.expiresOn||c.expires_in+(new Date).getTime()/1e3,G=se.Ds(u,p,c.access_token,this.config.auth.clientId,y,T,z,A.extendedExpiresOn,me.t);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(G),G;throw(0,F.Z_)(J.Jd)}loadRefreshToken(a,c,u,p){if(!c.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;const y=se.OJ(u,p,c.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(y),y;throw(0,F.Z_)(J.Jd)}generateAuthenticationResult(a,c,u,p,y){let U,A=v.gT.EMPTY_STRING,T=[],z=null;return u?.accessToken&&(A=u.accessToken.secret,T=en.i.fromString(u.accessToken.target).asArray(),z=new Date(1e3*Number(u.accessToken.expiresOn)),U=new Date(1e3*Number(u.accessToken.extendedExpiresOn))),{authority:y?y.canonicalAuthority:v.gT.EMPTY_STRING,uniqueId:c.oid||c.sub||v.gT.EMPTY_STRING,tenantId:c.tid||v.gT.EMPTY_STRING,scopes:T,account:p.getAccountInfo(),idToken:u.idToken?.secret||"",idTokenClaims:c||{},accessToken:A,fromCache:!0,expiresOn:z,correlationId:a.correlationId||v.gT.EMPTY_STRING,requestId:v.gT.EMPTY_STRING,extExpiresOn:U,familyId:v.gT.EMPTY_STRING,tokenType:u?.accessToken?.tokenType||v.gT.EMPTY_STRING,state:v.gT.EMPTY_STRING,cloudGraphHostName:p.cloudGraphHostName||v.gT.EMPTY_STRING,msGraphHost:p.msGraphHost||v.gT.EMPTY_STRING,code:void 0,fromNativeBroker:!1}}}class $i extends da{constructor(a){super(a),this.includeRedirectUri=!1}}class ot extends fr{constructor(a,c,u,p,y,A,T,z,U,G){super(a,c,u,p,y,A,z,U,G),this.apiId=T}acquireToken(a){var c=this;return(0,C.Z)(function*(){if(!a.code)throw(0,F.Z_)(J.Aj);const u=yield(0,I.i)(c.initializeAuthorizationRequest.bind(c),E.Ak.StandardInteractionClientInitializeAuthorizationRequest,c.logger,c.performanceClient,a.correlationId)(a,m.s_.Silent),p=c.initializeServerTelemetryManager(c.apiId);try{const y={...u,code:a.code},A=yield(0,I.i)(c.getClientConfiguration.bind(c),E.Ak.StandardInteractionClientGetClientConfiguration,c.logger,c.performanceClient,a.correlationId)(p,u.authority),T=new $i(A);c.logger.verbose("Auth code client created");const z=new ko(T,c.browserStorage,y,c.logger,c.performanceClient);return yield(0,I.i)(z.handleCodeResponseFromServer.bind(z),E.Ak.HandleCodeResponseFromServer,c.logger,c.performanceClient,a.correlationId)({code:a.code,msgraph_host:a.msGraphHost,cloud_graph_host_name:a.cloudGraphHostName,cloud_instance_host_name:a.cloudInstanceHostName},u,!1)}catch(y){throw y instanceof S.l4&&(y.setCorrelationId(c.correlationId),p.cacheFailedRequest(y)),y}})()}logout(){return Promise.reject((0,F.Z_)(J.I9))}}class ao{constructor(a){this.atsAsyncMeasurement=void 0,this.operatingContext=a,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=a.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new f.Q(this.logger,this.performanceClient):R.d,this.eventHandler=new _t.b(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new nt(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,(0,O.Ct)(this.config.auth)):((re,a)=>new nt(this.config.auth.clientId,{cacheLocation:m.Ix.MemoryStorage,temporaryCacheLocation:m.Ix.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},R.d,this.logger))(),this.nativeInternalStorage=new nt(this.config.auth.clientId,{cacheLocation:m.Ix.MemoryStorage,temporaryCacheLocation:m.Ix.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},this.browserCrypto,this.logger),this.tokenCache=new Xe(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static createController(a){return(0,C.Z)(function*(){const c=new ao(a);return yield c.initialize(),c})()}trackPageVisibility(){this.atsAsyncMeasurement&&(this.logger.info("Perf: Visibility change detected"),this.atsAsyncMeasurement.increment({visibilityChangeCount:1}))}initialize(){var a=this;return(0,C.Z)(function*(){if(a.logger.trace("initialize called"),a.initialized)return void a.logger.info("initialize has already been called, exiting early.");const c=a.config.system.allowNativeBroker,u=a.performanceClient.startMeasurement(E.Ak.InitializeClientApplication);if(a.eventHandler.emitEvent(Ie.t.INITIALIZE_START),c)try{a.nativeExtensionProvider=yield Tn.createProvider(a.logger,a.config.system.nativeBrokerHandshakeTimeout,a.performanceClient)}catch(p){a.logger.verbose(p)}a.config.cache.claimsBasedCachingEnabled||(a.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),yield(0,I.i)(a.browserStorage.clearTokensAndKeysWithClaims.bind(a.browserStorage),E.Ak.ClearTokensAndKeysWithClaims,a.logger,a.performanceClient)(a.performanceClient)),a.initialized=!0,a.eventHandler.emitEvent(Ie.t.INITIALIZE_END),u.end({allowNativeBroker:c,success:!0})})()}handleRedirectPromise(a){var c=this;return(0,C.Z)(function*(){c.logger.verbose("handleRedirectPromise called"),(0,He.eQ)(c.initialized);const u=c.getAllAccounts();if(c.isBrowserEnvironment){const p=a||"";let y=c.redirectResponse.get(p);if(typeof y>"u"){c.eventHandler.emitEvent(Ie.t.HANDLE_REDIRECT_START,m.s_.Redirect),c.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise");const A=c.browserStorage.getCachedNativeRequest();let T;if(A&&Tn.isNativeAvailable(c.config,c.logger,c.nativeExtensionProvider)&&c.nativeExtensionProvider&&!a)c.logger.trace("handleRedirectPromise - acquiring token from native platform"),T=new io(c.config,c.browserStorage,c.browserCrypto,c.logger,c.eventHandler,c.navigationClient,m.WN.handleRedirectPromise,c.performanceClient,c.nativeExtensionProvider,A.accountId,c.nativeInternalStorage,A.correlationId).handleRedirectPromise();else{c.logger.trace("handleRedirectPromise - acquiring token from web flow");const z=c.browserStorage.getTemporaryCache(m.c4.CORRELATION_ID,!0)||v.gT.EMPTY_STRING;T=c.createRedirectClient(z).handleRedirectPromise(a)}y=T.then(z=>(z&&(u.length<c.getAllAccounts().length?(c.eventHandler.emitEvent(Ie.t.LOGIN_SUCCESS,m.s_.Redirect,z),c.logger.verbose("handleRedirectResponse returned result, login success")):(c.eventHandler.emitEvent(Ie.t.ACQUIRE_TOKEN_SUCCESS,m.s_.Redirect,z),c.logger.verbose("handleRedirectResponse returned result, acquire token success"))),c.eventHandler.emitEvent(Ie.t.HANDLE_REDIRECT_END,m.s_.Redirect),z)).catch(z=>{throw c.eventHandler.emitEvent(u.length>0?Ie.t.ACQUIRE_TOKEN_FAILURE:Ie.t.LOGIN_FAILURE,m.s_.Redirect,null,z),c.eventHandler.emitEvent(Ie.t.HANDLE_REDIRECT_END,m.s_.Redirect),z}),c.redirectResponse.set(p,y)}else c.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call");return y}return c.logger.verbose("handleRedirectPromise returns null, not browser environment"),null})()}acquireTokenRedirect(a){var c=this;return(0,C.Z)(function*(){const u=c.getRequestCorrelationId(a);c.logger.verbose("acquireTokenRedirect called",u),c.preflightBrowserEnvironmentCheck(m.s_.Redirect);const p=c.getAllAccounts().length>0;let y;return c.eventHandler.emitEvent(p?Ie.t.ACQUIRE_TOKEN_START:Ie.t.LOGIN_START,m.s_.Redirect,a),y=c.nativeExtensionProvider&&c.canUseNative(a)?new io(c.config,c.browserStorage,c.browserCrypto,c.logger,c.eventHandler,c.navigationClient,m.WN.acquireTokenRedirect,c.performanceClient,c.nativeExtensionProvider,c.getNativeAccountId(a),c.nativeInternalStorage,u).acquireTokenRedirect(a).catch(T=>{if(T instanceof Un&&Vr(T))return c.nativeExtensionProvider=void 0,c.createRedirectClient(u).acquireToken(a);if(T instanceof H.Yo)return c.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),c.createRedirectClient(u).acquireToken(a);throw c.getBrowserStorage().setInteractionInProgress(!1),T}):c.createRedirectClient(u).acquireToken(a),y.catch(A=>{throw c.eventHandler.emitEvent(p?Ie.t.ACQUIRE_TOKEN_FAILURE:Ie.t.LOGIN_FAILURE,m.s_.Redirect,null,A),A})})()}acquireTokenPopup(a){const c=this.getRequestCorrelationId(a),u=this.performanceClient.startMeasurement(E.Ak.AcquireTokenPopup,c);try{this.logger.verbose("acquireTokenPopup called",c),this.preflightBrowserEnvironmentCheck(m.s_.Popup)}catch(A){return Promise.reject(A)}const p=this.getAllAccounts();let y;return this.eventHandler.emitEvent(p.length>0?Ie.t.ACQUIRE_TOKEN_START:Ie.t.LOGIN_START,m.s_.Popup,a),y=this.canUseNative(a)?this.acquireTokenNative({...a,correlationId:c},m.WN.acquireTokenPopup).then(A=>(this.getBrowserStorage().setInteractionInProgress(!1),u.end({success:!0,isNativeBroker:!0,requestId:A.requestId}),A)).catch(A=>{if(A instanceof Un&&Vr(A))return this.nativeExtensionProvider=void 0,this.createPopupClient(c).acquireToken(a);if(A instanceof H.Yo)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(c).acquireToken(a);throw this.getBrowserStorage().setInteractionInProgress(!1),A}):this.createPopupClient(c).acquireToken(a),y.then(A=>(p.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Ie.t.LOGIN_SUCCESS,m.s_.Popup,A):this.eventHandler.emitEvent(Ie.t.ACQUIRE_TOKEN_SUCCESS,m.s_.Popup,A),u.add({accessTokenSize:A.accessToken.length,idTokenSize:A.idToken.length}),u.end({success:!0,requestId:A.requestId}),A)).catch(A=>(this.eventHandler.emitEvent(p.length>0?Ie.t.ACQUIRE_TOKEN_FAILURE:Ie.t.LOGIN_FAILURE,m.s_.Popup,null,A),u.end({errorCode:A.errorCode,subErrorCode:A.subError,success:!1}),Promise.reject(A)))}trackPageVisibilityWithMeasurement(){const a=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;a&&(this.logger.info("Perf: Visibility change detected in ",a.event.name),a.increment({visibilityChangeCount:1}))}ssoSilent(a){var c=this;return(0,C.Z)(function*(){const u=c.getRequestCorrelationId(a),p={...a,prompt:a.prompt,correlationId:u};let y;return c.preflightBrowserEnvironmentCheck(m.s_.Silent),c.ssoSilentMeasurement=c.performanceClient.startMeasurement(E.Ak.SsoSilent,u),c.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",c.trackPageVisibilityWithMeasurement),c.logger.verbose("ssoSilent called",u),c.eventHandler.emitEvent(Ie.t.SSO_SILENT_START,m.s_.Silent,p),y=c.canUseNative(p)?c.acquireTokenNative(p,m.WN.ssoSilent).catch(A=>{if(A instanceof Un&&Vr(A))return c.nativeExtensionProvider=void 0,c.createSilentIframeClient(p.correlationId).acquireToken(p);throw A}):c.createSilentIframeClient(p.correlationId).acquireToken(p),y.then(A=>(c.eventHandler.emitEvent(Ie.t.SSO_SILENT_SUCCESS,m.s_.Silent,A),c.ssoSilentMeasurement?.add({accessTokenSize:A.accessToken.length,idTokenSize:A.idToken.length}),c.ssoSilentMeasurement?.end({success:!0,isNativeBroker:A.fromNativeBroker,requestId:A.requestId}),A)).catch(A=>{throw c.eventHandler.emitEvent(Ie.t.SSO_SILENT_FAILURE,m.s_.Silent,null,A),c.ssoSilentMeasurement?.end({errorCode:A.errorCode,subErrorCode:A.subError,success:!1}),A}).finally(()=>{document.removeEventListener("visibilitychange",c.trackPageVisibilityWithMeasurement)})})()}acquireTokenByCode(a){var c=this;return(0,C.Z)(function*(){const u=c.getRequestCorrelationId(a);c.preflightBrowserEnvironmentCheck(m.s_.Silent),c.logger.trace("acquireTokenByCode called",u),c.eventHandler.emitEvent(Ie.t.ACQUIRE_TOKEN_BY_CODE_START,m.s_.Silent,a);const p=c.performanceClient.startMeasurement(E.Ak.AcquireTokenByCode,u);try{if(a.code&&a.nativeAccountId)throw(0,F.Z_)(J.LL);if(a.code){const y=a.code;let A=c.hybridAuthCodeResponses.get(y);return A?(c.logger.verbose("Existing acquireTokenByCode request found",u),p.discard()):(c.logger.verbose("Initiating new acquireTokenByCode request",u),A=c.acquireTokenByCodeAsync({...a,correlationId:u}).then(T=>(c.eventHandler.emitEvent(Ie.t.ACQUIRE_TOKEN_BY_CODE_SUCCESS,m.s_.Silent,T),c.hybridAuthCodeResponses.delete(y),p.add({accessTokenSize:T.accessToken.length,idTokenSize:T.idToken.length}),p.end({success:!0,isNativeBroker:T.fromNativeBroker,requestId:T.requestId}),T)).catch(T=>{throw c.hybridAuthCodeResponses.delete(y),c.eventHandler.emitEvent(Ie.t.ACQUIRE_TOKEN_BY_CODE_FAILURE,m.s_.Silent,null,T),p.end({errorCode:T.errorCode,subErrorCode:T.subError,success:!1}),T}),c.hybridAuthCodeResponses.set(y,A)),yield A}if(a.nativeAccountId){if(c.canUseNative(a,a.nativeAccountId))return yield c.acquireTokenNative({...a,correlationId:u},m.WN.acquireTokenByCode,a.nativeAccountId).catch(y=>{throw y instanceof Un&&Vr(y)&&(c.nativeExtensionProvider=void 0),y});throw(0,F.Z_)(J.KA)}throw(0,F.Z_)(J.Dy)}catch(y){throw c.eventHandler.emitEvent(Ie.t.ACQUIRE_TOKEN_BY_CODE_FAILURE,m.s_.Silent,null,y),p.end({errorCode:y instanceof S.l4&&y.errorCode||void 0,subErrorCode:y instanceof S.l4&&y.subError||void 0,success:!1}),y}})()}acquireTokenByCodeAsync(a){var c=this;return(0,C.Z)(function*(){return c.logger.trace("acquireTokenByCodeAsync called",a.correlationId),c.acquireTokenByCodeAsyncMeasurement=c.performanceClient.startMeasurement(E.Ak.AcquireTokenByCodeAsync,a.correlationId),c.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",c.trackPageVisibilityWithMeasurement),yield c.createSilentAuthCodeClient(a.correlationId).acquireToken(a).then(y=>(c.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:y.fromCache,isNativeBroker:y.fromNativeBroker,requestId:y.requestId}),y)).catch(y=>{throw c.acquireTokenByCodeAsyncMeasurement?.end({errorCode:y.errorCode,subErrorCode:y.subError,success:!1}),y}).finally(()=>{document.removeEventListener("visibilitychange",c.trackPageVisibilityWithMeasurement)})})()}acquireTokenFromCache(a,c,u){var p=this;return(0,C.Z)(function*(){switch(p.performanceClient.addQueueMeasurement(E.Ak.AcquireTokenFromCache,c.correlationId),u){case m.lu.Default:case m.lu.AccessToken:case m.lu.AccessTokenAndRefreshToken:return(0,I.i)(a.acquireToken.bind(a),E.Ak.SilentCacheClientAcquireToken,p.logger,p.performanceClient,c.correlationId)(c);default:throw(0,V.zP)(N.s$)}})()}acquireTokenByRefreshToken(a,c){var u=this;return(0,C.Z)(function*(){switch(u.performanceClient.addQueueMeasurement(E.Ak.AcquireTokenByRefreshToken,a.correlationId),c){case m.lu.Default:case m.lu.AccessTokenAndRefreshToken:case m.lu.RefreshToken:case m.lu.RefreshTokenAndNetwork:const p=u.createSilentRefreshClient(a.correlationId);return(0,I.i)(p.acquireToken.bind(p),E.Ak.SilentRefreshClientAcquireToken,u.logger,u.performanceClient,a.correlationId)(a);default:throw(0,V.zP)(N.s$)}})()}acquireTokenBySilentIframe(a){var c=this;return(0,C.Z)(function*(){c.performanceClient.addQueueMeasurement(E.Ak.AcquireTokenBySilentIframe,a.correlationId);const u=c.createSilentIframeClient(a.correlationId);return(0,I.i)(u.acquireToken.bind(u),E.Ak.SilentIframeClientAcquireToken,c.logger,c.performanceClient,a.correlationId)(a)})()}logout(a){var c=this;return(0,C.Z)(function*(){const u=c.getRequestCorrelationId(a);return c.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",u),c.logoutRedirect({correlationId:u,...a})})()}logoutRedirect(a){var c=this;return(0,C.Z)(function*(){const u=c.getRequestCorrelationId(a);return c.preflightBrowserEnvironmentCheck(m.s_.Redirect),c.createRedirectClient(u).logout(a)})()}logoutPopup(a){try{const c=this.getRequestCorrelationId(a);return this.preflightBrowserEnvironmentCheck(m.s_.Popup),this.createPopupClient(c).logout(a)}catch(c){return Promise.reject(c)}}clearCache(a){var c=this;return(0,C.Z)(function*(){const u=c.getRequestCorrelationId(a);return c.createSilentCacheClient(u).logout(a)})()}getAllAccounts(a){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts(a):[]}getAccount(a){if(this.logger.trace("getAccount called"),0===Object.keys(a).length)return this.logger.warning("getAccount: No accountFilter provided"),null;const c=this.browserStorage.getAccountInfoFilteredBy(a);return c?(this.logger.verbose("getAccount: Account matching provided filter found, returning"),c):(this.logger.verbose("getAccount: No matching account found, returning null"),null)}getAccountByUsername(a){if(this.logger.trace("getAccountByUsername called"),!a)return this.logger.warning("getAccountByUsername: No username provided"),null;const c=this.browserStorage.getAccountInfoFilteredBy({username:a});return c?(this.logger.verbose("getAccountByUsername: Account matching username found, returning"),this.logger.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${a}`),c):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)}getAccountByHomeId(a){if(this.logger.trace("getAccountByHomeId called"),!a)return this.logger.warning("getAccountByHomeId: No homeAccountId provided"),null;const c=this.browserStorage.getAccountInfoFilteredBy({homeAccountId:a});return c?(this.logger.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),this.logger.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${a}`),c):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)}getAccountByLocalId(a){if(this.logger.trace("getAccountByLocalId called"),!a)return this.logger.warning("getAccountByLocalId: No localAccountId provided"),null;const c=this.browserStorage.getAccountInfoFilteredBy({localAccountId:a});return c?(this.logger.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),this.logger.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${a}`),c):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)}setActiveAccount(a){this.browserStorage.setActiveAccount(a)}getActiveAccount(){return this.browserStorage.getActiveAccount()}hydrateCache(a,c){var u=this;return(0,C.Z)(function*(){u.logger.verbose("hydrateCache called");const p=K.r.createFromAccountInfo(a.account,a.cloudGraphHostName,a.msGraphHost);return u.browserStorage.setAccount(p),a.fromNativeBroker?(u.logger.verbose("Response was from native broker, storing in-memory"),u.nativeInternalStorage.hydrateCache(a,c)):u.browserStorage.hydrateCache(a,c)})()}preflightBrowserEnvironmentCheck(a,c=!1){if(this.logger.verbose("preflightBrowserEnvironmentCheck started"),(0,He.$S)(this.isBrowserEnvironment),(0,He.$V)(a,this.config.system.allowRedirectInIframe),(0,He.ET)(),(0,He.L7)(),(0,He.eQ)(this.initialized),a===m.s_.Redirect&&this.config.cache.cacheLocation===m.Ix.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw(0,k.Z1)(x.xC);(a===m.s_.Redirect||a===m.s_.Popup)&&this.preflightInteractiveRequest(!c)}preflightInteractiveRequest(a){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),(0,He.ET)(),a&&this.getBrowserStorage().setInteractionInProgress(!0)}acquireTokenNative(a,c,u){var p=this;return(0,C.Z)(function*(){if(p.logger.trace("acquireTokenNative called"),!p.nativeExtensionProvider)throw(0,F.Z_)(J.V7);return new io(p.config,p.browserStorage,p.browserCrypto,p.logger,p.eventHandler,p.navigationClient,c,p.performanceClient,p.nativeExtensionProvider,u||p.getNativeAccountId(a),p.nativeInternalStorage,a.correlationId).acquireToken(a)})()}canUseNative(a,c){if(this.logger.trace("canUseNative called"),!Tn.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,a.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(a.prompt)switch(a.prompt){case v.NJ.NONE:case v.NJ.CONSENT:case v.NJ.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${a.prompt} is not compatible with native flow, returning false`),!1}return!(!c&&!this.getNativeAccountId(a)&&(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),1))}getNativeAccountId(a){const c=a.account||this.getAccount({loginHint:a.loginHint,sid:a.sid})||this.getActiveAccount();return c&&c.nativeAccountId||""}createPopupClient(a){return new jl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,a)}createRedirectClient(a){return new Ia(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,a)}createSilentIframeClient(a){return new Zl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,m.WN.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,a)}createSilentCacheClient(a){return new pr(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,a)}createSilentRefreshClient(a){return new Vi(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,a)}createSilentAuthCodeClient(a){return new ot(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,m.WN.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,a)}addEventCallback(a){return this.eventHandler.addEventCallback(a)}removeEventCallback(a){this.eventHandler.removeEventCallback(a)}addPerformanceCallback(a){return this.performanceClient.addPerformanceCallback(a)}removePerformanceCallback(a){return this.performanceClient.removePerformanceCallback(a)}enableAccountStorageEvents(){this.eventHandler.enableAccountStorageEvents()}disableAccountStorageEvents(){this.eventHandler.disableAccountStorageEvents()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(a){this.logger=a}initializeWrapperLibrary(a,c){this.browserStorage.setWrapperMetadata(a,c)}setNavigationClient(a){this.navigationClient=a}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}getBrowserStorage(){return this.browserStorage}isBrowserEnv(){return this.isBrowserEnvironment}getEventHandler(){return this.eventHandler}getRequestCorrelationId(a){return a?.correlationId?a.correlationId:this.isBrowserEnvironment?(0,hr.nn)():v.gT.EMPTY_STRING}loginRedirect(a){var c=this;return(0,C.Z)(function*(){const u=c.getRequestCorrelationId(a);return c.logger.verbose("loginRedirect called",u),c.acquireTokenRedirect({correlationId:u,...a||m.yo})})()}loginPopup(a){const c=this.getRequestCorrelationId(a);return this.logger.verbose("loginPopup called",c),this.acquireTokenPopup({correlationId:c,...a||m.yo})}acquireTokenSilent(a){var c=this;return(0,C.Z)(function*(){const u=c.getRequestCorrelationId(a),p=c.performanceClient.startMeasurement(E.Ak.AcquireTokenSilent,u);p.add({cacheLookupPolicy:a.cacheLookupPolicy}),c.preflightBrowserEnvironmentCheck(m.s_.Silent),c.logger.verbose("acquireTokenSilent called",u);const y=a.account||c.getActiveAccount();if(!y)throw(0,F.Z_)(J.wH);const T=JSON.stringify({clientId:c.config.auth.clientId,authority:a.authority||v.gT.EMPTY_STRING,scopes:a.scopes,homeAccountIdentifier:y.homeAccountId,claims:a.claims,authenticationScheme:a.authenticationScheme,resourceRequestMethod:a.resourceRequestMethod,resourceRequestUri:a.resourceRequestUri,shrClaims:a.shrClaims,sshKid:a.sshKid,shrOptions:a.shrOptions}),z=c.activeSilentTokenRequests.get(T);if(typeof z>"u"){c.logger.verbose("acquireTokenSilent called for the first time, storing active request",u);const U=(0,I.i)(c.acquireTokenSilentAsync.bind(c),E.Ak.AcquireTokenSilentAsync,c.logger,c.performanceClient,u)({...a,correlationId:u},y).then(G=>(c.activeSilentTokenRequests.delete(T),p.add({accessTokenSize:G.accessToken.length,idTokenSize:G.idToken.length}),p.end({success:!0,fromCache:G.fromCache,isNativeBroker:G.fromNativeBroker,cacheLookupPolicy:a.cacheLookupPolicy,requestId:G.requestId}),G)).catch(G=>{throw c.activeSilentTokenRequests.delete(T),p.end({errorCode:G.errorCode,subErrorCode:G.subError,success:!1}),G});return c.activeSilentTokenRequests.set(T,U),U}return c.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",u),p.discard(),z})()}acquireTokenSilentAsync(a,c){var u=this;return(0,C.Z)(function*(){let p;if(u.performanceClient.addQueueMeasurement(E.Ak.AcquireTokenSilentAsync,a.correlationId),u.eventHandler.emitEvent(Ie.t.ACQUIRE_TOKEN_START,m.s_.Silent,a),u.atsAsyncMeasurement=u.performanceClient.startMeasurement(E.Ak.AcquireTokenSilentAsync,a.correlationId),u.atsAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",u.trackPageVisibility),Tn.isNativeAvailable(u.config,u.logger,u.nativeExtensionProvider,a.authenticationScheme)&&c.nativeAccountId){u.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform");const y={...a,account:c};p=u.acquireTokenNative(y,m.WN.acquireTokenSilent_silentFlow).catch(function(){var A=(0,C.Z)(function*(T){if(T instanceof Un&&Vr(T))return u.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),u.nativeExtensionProvider=void 0,u.createSilentIframeClient(a.correlationId).acquireToken(a);throw T});return function(T){return A.apply(this,arguments)}}())}else{u.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow");const y=u.createSilentCacheClient(a.correlationId),A=yield(0,I.i)(y.initializeSilentRequest.bind(y),E.Ak.InitializeSilentRequest,u.logger,u.performanceClient,a.correlationId)(a,c),T=a.cacheLookupPolicy||m.lu.Default;p=(0,I.i)(u.acquireTokenFromCache.bind(u),E.Ak.AcquireTokenFromCache,u.logger,u.performanceClient,A.correlationId)(y,A,T).catch(z=>{if(a.cacheLookupPolicy===m.lu.AccessToken)throw z;return(0,He.ET)(),u.eventHandler.emitEvent(Ie.t.ACQUIRE_TOKEN_NETWORK_START,m.s_.Silent,A),(0,I.i)(u.acquireTokenByRefreshToken.bind(u),E.Ak.AcquireTokenByRefreshToken,u.logger,u.performanceClient,A.correlationId)(A,T).catch(U=>{if(!((U instanceof H.Yo||U.errorCode!==m.qx.INVALID_GRANT_ERROR&&U.errorCode!==N.s$)&&U.errorCode!==ce.I2||T!==m.lu.Default&&T!==m.lu.Skip&&T!==m.lu.RefreshTokenAndNetwork))return u.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",a.correlationId),(0,I.i)(u.acquireTokenBySilentIframe.bind(u),E.Ak.AcquireTokenBySilentIframe,u.logger,u.performanceClient,A.correlationId)(A);throw U})})}return p.then(y=>(u.eventHandler.emitEvent(Ie.t.ACQUIRE_TOKEN_SUCCESS,m.s_.Silent,y),u.atsAsyncMeasurement?.end({success:!0,fromCache:y.fromCache,isNativeBroker:y.fromNativeBroker,requestId:y.requestId}),y)).catch(y=>{throw u.eventHandler.emitEvent(Ie.t.ACQUIRE_TOKEN_FAILURE,m.s_.Silent,null,y),u.atsAsyncMeasurement?.end({errorCode:y.errorCode,subErrorCode:y.subError,success:!1}),y}).finally(()=>{document.removeEventListener("visibilitychange",u.trackPageVisibility)})})()}}},717:(Ee,Q,w)=>{w.d(Q,{$5:()=>L,Au:()=>D,Fv:()=>K,Mg:()=>j,PP:()=>q,Xx:()=>le,nn:()=>se,qz:()=>N});var C=w(5861),f=w(9141),R=w(905),O=w(8468),E=w(9238);const v="SHA-256",S=new Uint8Array([1,0,1]),V={name:"RSASSA-PKCS1-v1_5",hash:v,modulusLength:2048,publicExponent:S};function N(F){if(!("crypto"in window))throw F.error("BrowserCrypto: crypto interface is unavailable"),(0,f.Z_)(E.TR);F.verbose("BrowserCrypto: modern crypto interface available")}function K(F,m,k){return ce.apply(this,arguments)}function ce(){return(ce=(0,C.Z)(function*(F,m,k){m?.addQueueMeasurement(R.Ak.Sha256Digest,k);const $=(new TextEncoder).encode(F);return window.crypto.subtle.digest(v,$)})).apply(this,arguments)}function q(F){return window.crypto.getRandomValues(F)}function se(){return window.crypto.randomUUID()}function D(F,m){return b.apply(this,arguments)}function b(){return(b=(0,C.Z)(function*(F,m){return window.crypto.subtle.generateKey(V,F,m)})).apply(this,arguments)}function j(F){return Y.apply(this,arguments)}function Y(){return(Y=(0,C.Z)(function*(F){return window.crypto.subtle.exportKey(O.Mm,F)})).apply(this,arguments)}function L(F,m,k){return ne.apply(this,arguments)}function ne(){return(ne=(0,C.Z)(function*(F,m,k){return window.crypto.subtle.importKey(O.Mm,F,V,m,k)})).apply(this,arguments)}function le(F,m){return pe.apply(this,arguments)}function pe(){return(pe=(0,C.Z)(function*(F,m){return window.crypto.subtle.sign(V,F,m)})).apply(this,arguments)}},7918:(Ee,Q,w)=>{w.d(Q,{Q:()=>le});var C=w(5861),f=w(905),R=w(4191);const O="missing_kid_error",E="missing_alg_error",I={[O]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[E]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class v extends R.l4{constructor(m,k){super(m,k),this.name="JoseHeaderError",Object.setPrototypeOf(this,v.prototype)}}function H(F){return new v(F,I[F])}var S=w(9128);class V{constructor(m){this.typ=m.typ,this.alg=m.alg,this.kid=m.kid}static getShrHeaderString(m){if(!m.kid)throw H(O);if(!m.alg)throw H(E);const k=new V({typ:m.typ||S.xd.Pop,kid:m.kid,alg:m.alg});return JSON.stringify(k)}}var N=w(3675),K=w(3830),ce=w(717),q=w(9141),se=w(8468),D=w(9238);class b{constructor(){this.dbName=se.H4,this.version=se.kd,this.tableName=se.Gv,this.dbOpen=!1}open(){var m=this;return(0,C.Z)(function*(){return new Promise((k,x)=>{const $=window.indexedDB.open(m.dbName,m.version);$.addEventListener("upgradeneeded",ie=>{ie.target.result.createObjectStore(m.tableName)}),$.addEventListener("success",ie=>{m.db=ie.target.result,m.dbOpen=!0,k()}),$.addEventListener("error",()=>x((0,q.Z_)(D.Pi)))})})()}closeConnection(){const m=this.db;m&&this.dbOpen&&(m.close(),this.dbOpen=!1)}validateDbIsOpen(){var m=this;return(0,C.Z)(function*(){if(!m.dbOpen)return m.open()})()}getItem(m){var k=this;return(0,C.Z)(function*(){return yield k.validateDbIsOpen(),new Promise((x,$)=>{if(!k.db)return $((0,q.Z_)(D.IL));const me=k.db.transaction([k.tableName],"readonly").objectStore(k.tableName).get(m);me.addEventListener("success",Me=>{const J=Me;k.closeConnection(),x(J.target.result)}),me.addEventListener("error",Me=>{k.closeConnection(),$(Me)})})})()}setItem(m,k){var x=this;return(0,C.Z)(function*(){return yield x.validateDbIsOpen(),new Promise(($,ie)=>{if(!x.db)return ie((0,q.Z_)(D.IL));const Me=x.db.transaction([x.tableName],"readwrite").objectStore(x.tableName).put(k,m);Me.addEventListener("success",()=>{x.closeConnection(),$()}),Me.addEventListener("error",J=>{x.closeConnection(),ie(J)})})})()}removeItem(m){var k=this;return(0,C.Z)(function*(){return yield k.validateDbIsOpen(),new Promise((x,$)=>{if(!k.db)return $((0,q.Z_)(D.IL));const me=k.db.transaction([k.tableName],"readwrite").objectStore(k.tableName).delete(m);me.addEventListener("success",()=>{k.closeConnection(),x()}),me.addEventListener("error",Me=>{k.closeConnection(),$(Me)})})})()}getKeys(){var m=this;return(0,C.Z)(function*(){return yield m.validateDbIsOpen(),new Promise((k,x)=>{if(!m.db)return x((0,q.Z_)(D.IL));const ue=m.db.transaction([m.tableName],"readonly").objectStore(m.tableName).getAllKeys();ue.addEventListener("success",me=>{const Me=me;m.closeConnection(),k(Me.target.result)}),ue.addEventListener("error",me=>{m.closeConnection(),x(me)})})})()}containsKey(m){var k=this;return(0,C.Z)(function*(){return yield k.validateDbIsOpen(),new Promise((x,$)=>{if(!k.db)return $((0,q.Z_)(D.IL));const me=k.db.transaction([k.tableName],"readonly").objectStore(k.tableName).count(m);me.addEventListener("success",Me=>{const J=Me;k.closeConnection(),x(1===J.target.result)}),me.addEventListener("error",Me=>{k.closeConnection(),$(Me)})})})()}deleteDatabase(){var m=this;return(0,C.Z)(function*(){return m.db&&m.dbOpen&&m.closeConnection(),new Promise((k,x)=>{const $=window.indexedDB.deleteDatabase(se.H4);$.addEventListener("success",()=>k(!0)),$.addEventListener("blocked",()=>k(!0)),$.addEventListener("error",()=>x(!1))})})()}}var j=w(6555);class Y{constructor(m,k){this.inMemoryCache=new j.k,this.indexedDBCache=new b,this.logger=m,this.storeName=k}handleDatabaseAccessError(m){if(!(m instanceof q.Ut&&m.errorCode===D.Pi))throw m;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}getItem(m){var k=this;return(0,C.Z)(function*(){const x=k.inMemoryCache.getItem(m);if(!x)try{return k.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),yield k.indexedDBCache.getItem(m)}catch($){k.handleDatabaseAccessError($)}return x})()}setItem(m,k){var x=this;return(0,C.Z)(function*(){x.inMemoryCache.setItem(m,k);try{yield x.indexedDBCache.setItem(m,k)}catch($){x.handleDatabaseAccessError($)}})()}removeItem(m){var k=this;return(0,C.Z)(function*(){k.inMemoryCache.removeItem(m);try{yield k.indexedDBCache.removeItem(m)}catch(x){k.handleDatabaseAccessError(x)}})()}getKeys(){var m=this;return(0,C.Z)(function*(){const k=m.inMemoryCache.getKeys();if(0===k.length)try{return m.logger.verbose("In-memory cache is empty, now querying persistent storage."),yield m.indexedDBCache.getKeys()}catch(x){m.handleDatabaseAccessError(x)}return k})()}containsKey(m){var k=this;return(0,C.Z)(function*(){const x=k.inMemoryCache.containsKey(m);if(!x)try{return k.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),yield k.indexedDBCache.containsKey(m)}catch($){k.handleDatabaseAccessError($)}return x})()}clearInMemory(){this.logger.verbose(`Deleting in-memory keystore ${this.storeName}`),this.inMemoryCache.clear(),this.logger.verbose(`In-memory keystore ${this.storeName} deleted`)}clearPersistent(){var m=this;return(0,C.Z)(function*(){try{m.logger.verbose("Deleting persistent keystore");const k=yield m.indexedDBCache.deleteDatabase();return k&&m.logger.verbose("Persistent keystore deleted"),k}catch(k){return m.handleDatabaseAccessError(k),!1}})()}}class ne{constructor(m){this.logger=m,this.asymmetricKeys=new Y(this.logger,"asymmetricKeys"),this.symmetricKeys=new Y(this.logger,"symmetricKeys")}clear(){var m=this;return(0,C.Z)(function*(){m.asymmetricKeys.clearInMemory(),m.symmetricKeys.clearInMemory();try{return yield m.asymmetricKeys.clearPersistent(),!0}catch(k){return k instanceof Error?m.logger.error(`Clearing keystore failed with error: ${k.message}`):m.logger.error("Clearing keystore failed with unknown error"),!1}})()}}let le=(()=>{class F{constructor(k,x){this.logger=k,(0,ce.qz)(k),this.cache=new ne(this.logger),this.performanceClient=x}createNewGuid(){return(0,ce.nn)()}base64Encode(k){return(0,N.h$)(k)}base64Decode(k){return(0,K.t)(k)}getPublicKeyThumbprint(k){var x=this;return(0,C.Z)(function*(){const $=x.performanceClient?.startMeasurement(f.Ak.CryptoOptsGetPublicKeyThumbprint,k.correlationId),ie=yield(0,ce.Au)(F.EXTRACTABLE,F.POP_KEY_USAGES),ue=yield(0,ce.Mg)(ie.publicKey),Me=pe({e:ue.e,kty:ue.kty,n:ue.n}),J=yield x.hashString(Me),nt=yield(0,ce.Mg)(ie.privateKey),rt=yield(0,ce.$5)(nt,!1,["sign"]);return yield x.cache.asymmetricKeys.setItem(J,{privateKey:rt,publicKey:ie.publicKey,requestMethod:k.resourceRequestMethod,requestUri:k.resourceRequestUri}),$&&$.end({success:!0}),J})()}removeTokenBindingKey(k){var x=this;return(0,C.Z)(function*(){return yield x.cache.asymmetricKeys.removeItem(k),!(yield x.cache.asymmetricKeys.containsKey(k))})()}clearKeystore(){var k=this;return(0,C.Z)(function*(){return k.cache.clear()})()}signJwt(k,x,$,ie){var ue=this;return(0,C.Z)(function*(){const me=ue.performanceClient?.startMeasurement(f.Ak.CryptoOptsSignJwt,ie),Me=yield ue.cache.asymmetricKeys.getItem(x);if(!Me)throw(0,q.Z_)(D.XM);const J=yield(0,ce.Mg)(Me.publicKey),nt=pe(J),rt=(0,N._j)(JSON.stringify({kid:x})),He=V.getShrHeaderString({...$?.header,alg:J.alg,kid:rt}),Ie=(0,N._j)(He);k.cnf={jwk:JSON.parse(nt)};const Ot=`${Ie}.${(0,N._j)(JSON.stringify(k))}`,Qe=(new TextEncoder).encode(Ot),Pe=yield(0,ce.Xx)(Me.privateKey,Qe),Re=`${Ot}.${(0,N.Wy)(new Uint8Array(Pe))}`;return me&&me.end({success:!0}),Re})()}hashString(k){return(0,C.Z)(function*(){const x=yield(0,ce.Fv)(k),$=new Uint8Array(x);return(0,N.Wy)($)})()}}return F.POP_KEY_USAGES=["sign","verify"],F.EXTRACTABLE=!0,F})();function pe(F){return JSON.stringify(F,Object.keys(F).sort())}},3830:(Ee,Q,w)=>{w.d(Q,{t:()=>R});var C=w(9141),f=w(9238);function R(E){return(new TextDecoder).decode(function O(E){let I=E.replace(/-/g,"+").replace(/_/g,"/");switch(I.length%4){case 0:break;case 2:I+="==";break;case 3:I+="=";break;default:throw(0,C.Z_)(f.lZ)}const v=atob(I);return Uint8Array.from(v,H=>H.codePointAt(0)||0)}(E))}},3675:(Ee,Q,w)=>{function C(E){return encodeURIComponent(R(E).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function f(E){return O(E).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R(E){return O((new TextEncoder).encode(E))}function O(E){const I=Array.from(E,v=>String.fromCodePoint(v)).join("");return btoa(I)}w.d(Q,{Wy:()=>f,_j:()=>C,h$:()=>R})},9141:(Ee,Q,w)=>{w.d(Q,{Ut:()=>I,Z_:()=>v});var C=w(4191),f=w(9238);const R="For more visit: aka.ms/msaljs/browser-errors",O={[f.vD]:"The PKCE code challenge and verifier could not be generated.",[f.TR]:"The crypto object or function is not available.",[f._c]:"Navigation URI is empty. Please check stack trace for more info.",[f.nF]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${R}`,[f.Xk]:"Hash does not contain state. Please verify that the request originated from msal.",[f.S_]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${R}`,[f.$P]:"Unable to parse state. Please verify that the request originated from msal.",[f.yK]:"Hash contains state but the interaction type does not match the caller.",[f.Ck]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${R}`,[f.E]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[f.H]:"window.open returned null or undefined window object.",[f.h7]:"User cancelled the flow.",[f.ZT]:`Token acquisition in popup failed due to timeout.  ${R}`,[f.JA]:`Token acquisition in iframe failed due to timeout.  ${R}`,[f.b_]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[f.xO]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${R}`,[f.bj]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[f.h8]:"The iframe being monitored was closed prematurely.",[f.I9]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[f.wH]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[f.WQ]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[f.QO]:"No token request found in cache.",[f.e$]:"The cached token request could not be parsed.",[f.dT]:"No cached authority found.",[f.BO]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[f.Ut]:"Invalid cache type",[f.Dx]:"Login and token requests are not supported in non-browser environments.",[f.IL]:"Database is not open!",[f.Mq]:"No network connectivity. Check your internet connection.",[f.Dc]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[f.C8]:"Network request failed. Please check the network trace to determine root cause.",[f.w6]:"Failed to parse network response. Check network trace.",[f.Jd]:"Error loading token to cache.",[f.XM]:"Cryptographic Key or Keypair not found in browser storage.",[f.Aj]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[f.Dy]:"An authorization code or nativeAccountId must be provided to this flow.",[f.LL]:"Request cannot contain both spa code and native account id.",[f.Pi]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[f.KA]:`Unable to acquire token from native platform.  ${R}`,[f.hR]:"Timed out while attempting to establish connection to browser extension",[f.Wb]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[f.V7]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${R}`,[f.al]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${R}`,[f.o9]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[f.lZ]:"Invalid base64 encoded string."};class I extends C.l4{constructor(S){super(S,O[S]),Object.setPrototypeOf(this,I.prototype),this.name="BrowserAuthError"}}function v(H){return new I(H)}},9238:(Ee,Q,w)=>{w.d(Q,{$P:()=>v,Aj:()=>rt,BO:()=>m,C8:()=>me,Ck:()=>S,Dc:()=>ue,Dx:()=>x,Dy:()=>He,E:()=>V,H:()=>N,I9:()=>Y,IL:()=>$,JA:()=>q,Jd:()=>J,KA:()=>Ot,LL:()=>Ie,Mq:()=>ie,Pi:()=>_t,QO:()=>le,S_:()=>I,TR:()=>f,Ut:()=>k,V7:()=>Pe,WQ:()=>ne,Wb:()=>Qe,XM:()=>nt,Xk:()=>E,ZT:()=>ce,_c:()=>R,al:()=>hn,b_:()=>se,bj:()=>b,dT:()=>F,e$:()=>pe,h7:()=>K,h8:()=>j,hR:()=>Tt,lZ:()=>Fr,nF:()=>O,o9:()=>Re,vD:()=>C,w6:()=>Me,wH:()=>L,xO:()=>D,yK:()=>H});const C="pkce_not_created",f="crypto_nonexistent",R="empty_navigate_uri",O="hash_empty_error",E="no_state_in_hash",I="hash_does_not_contain_known_properties",v="unable_to_parse_state",H="state_interaction_type_mismatch",S="interaction_in_progress",V="popup_window_error",N="empty_window_error",K="user_cancelled",ce="monitor_popup_timeout",q="monitor_window_timeout",se="redirect_in_iframe",D="block_iframe_reload",b="block_nested_popups",j="iframe_closed_prematurely",Y="silent_logout_unsupported",L="no_account_error",ne="silent_prompt_value_error",le="no_token_request_cache_error",pe="unable_to_parse_token_request_cache_error",F="no_cached_authority_error",m="auth_request_not_set_error",k="invalid_cache_type",x="non_browser_environment",$="database_not_open",ie="no_network_connectivity",ue="post_request_failed",me="get_request_failed",Me="failed_to_parse_response",J="unable_to_load_token",nt="crypto_key_not_found",rt="auth_code_required",He="auth_code_or_nativeAccountId_required",Ie="spa_code_and_nativeAccountId_present",_t="database_unavailable",Ot="unable_to_acquire_token_from_native_platform",Tt="native_handshake_timeout",Qe="native_extension_not_installed",Pe="native_connection_not_established",hn="uninitialized_public_client_application",Re="native_prompt_not_supported",Fr="invalid_base64_string"},6290:(Ee,Q,w)=>{w.d(Q,{WK:()=>E,Z1:()=>I});var C=w(4191),f=w(9616);const R={[f.m4]:"Given storage configuration option was not supported.",[f.hJ]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[f.xC]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class E extends C.l4{constructor(H,S){super(H,S),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,E.prototype)}}function I(v){return new E(v,R[v])}},9616:(Ee,Q,w)=>{w.d(Q,{hJ:()=>f,m4:()=>C,xC:()=>R});const C="storage_not_supported",f="stubbed_public_client_application_called",R="in_mem_redirect_unavailable"},2573:(Ee,Q,w)=>{w.d(Q,{b:()=>E});var C=w(7712),f=w(5764),R=w(6521),O=w(717);class E{constructor(v,H){this.eventCallbacks=new Map,this.logger=v,this.browserCrypto=H,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}addEventCallback(v){if(typeof window<"u"){const H=(0,O.nn)();return this.eventCallbacks.set(H,v),this.logger.verbose(`Event callback registered with id: ${H}`),H}return null}removeEventCallback(v){this.eventCallbacks.delete(v),this.logger.verbose(`Event callback ${v} removed.`)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}emitEvent(v,H,S,V){if(typeof window<"u"){const N={eventType:v,interactionType:H||null,payload:S||null,error:V||null,timestamp:Date.now()};this.logger.info(`Emitting event: ${v}`),this.eventCallbacks.forEach((K,ce)=>{this.logger.verbose(`Emitting event to callback ${ce}: ${v}`),K.apply(null,[N])})}}handleAccountCacheChange(v){try{const H=v.newValue||v.oldValue;if(!H)return;const S=JSON.parse(H);if("object"!=typeof S||!C.r.isAccountEntity(S))return;const N=f.L.toObject(new C.r,S).getAccountInfo();!v.oldValue&&v.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(R.t.ACCOUNT_ADDED,void 0,N)):!v.newValue&&v.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(R.t.ACCOUNT_REMOVED,void 0,N))}catch{return}}}},6521:(Ee,Q,w)=>{w.d(Q,{t:()=>C});const C={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"}},9509:(Ee,Q,w)=>{w.d(Q,{i:()=>f,u:()=>C});const C="@azure/msal-browser",f="3.6.0"},8468:(Ee,Q,w)=>{w.d(Q,{$H:()=>K,BD:()=>R,Bs:()=>S,EC:()=>I,Gv:()=>j,H4:()=>D,Ix:()=>E,Ky:()=>O,Mm:()=>q,Oq:()=>H,WN:()=>V,c4:()=>v,kd:()=>b,lA:()=>se,lu:()=>Y,qx:()=>f,s_:()=>N,yo:()=>ce});var C=w(9128);const f={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},R={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},O={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},E={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},I={GET:"GET",POST:"POST"},v={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},H={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},S={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},V={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var N=(()=>{return(L=N||(N={})).Redirect="redirect",L.Popup="popup",L.Silent="silent",L.None="none",N;var L})();const K={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},ce={scopes:C.f_},q="jwk",se={React:"@azure/msal-react",Angular:"@azure/msal-angular"},D="msal.db",b=1,j=`${D}.keys`,Y={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5}},6644:(Ee,Q,w)=>{w.d(Q,{$P:()=>D,$S:()=>q,$V:()=>K,ET:()=>N,L7:()=>ce,Re:()=>S,eQ:()=>se,fl:()=>V,hH:()=>E,tT:()=>I,zd:()=>v});var C=w(3886),f=w(9141),R=w(8468),O=w(9238);function E(b){b.location.hash="","function"==typeof b.history.replaceState&&b.history.replaceState(null,"",`${b.location.origin}${b.location.pathname}${b.location.search}`)}function I(b){const j=b.split("#");j.shift(),window.location.hash=j.length>0?j.join("#"):""}function v(){return window.parent!==window}function S(){return window.location.href.split("?")[0].split("#")[0]}function V(){const j=new C.G(window.location.href).getUrlComponents();return`${j.Protocol}//${j.HostNameAndPort}/`}function N(){if(C.G.hashContainsKnownProperties(window.location.hash)&&v())throw(0,f.Z_)(O.xO)}function K(b,j){const Y=v();if(b===R.s_.Redirect&&Y&&!j)throw(0,f.Z_)(O.b_)}function ce(){if(function H(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf(`${R.qx.POPUP_NAME_PREFIX}.`)}())throw(0,f.Z_)(O.bj)}function q(b){if(!b)throw(0,f.Z_)(O.Dx)}function se(b){if(!b)throw(0,f.Z_)(O.al)}function D(b){const j=document.createElement("link");j.rel="preconnect",j.href=new URL(b).origin,j.crossOrigin="anonymous",document.head.appendChild(j),window.setTimeout(()=>{try{document.head.removeChild(j)}catch{}},1e4)}},2888:(Ee,Q,w)=>{function C(O,E){return!!O&&!!E&&O===E.split(".")[1]}function f(O,E){const{oid:I,sub:v,tid:H,name:S,tfp:V,acr:N}=E,K=H||V||N||"";return{tenantId:K,localAccountId:I||v||"",name:S,isHomeTenant:C(K,O)}}function R(O,E,I){let v=O;if(E){const{isHomeTenant:H,...S}=E;v={...O,...S}}if(I){const{isHomeTenant:H,...S}=f(O.homeAccountId,I);return v={...v,...S,idTokenClaims:I},v}return v}w.d(Q,{$f:()=>R,Hc:()=>C,SI:()=>f})},2103:(Ee,Q,w)=>{w.d(Q,{Z_:()=>R,ky:()=>E});var C=w(464),f=w(322);function R(I,v){const H=function O(I){if(!I)throw(0,C.zP)(f.PM);const H=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(I);if(!H||H.length<4)throw(0,C.zP)(f.GH);return H[2]}(I);try{const S=v(H);return JSON.parse(S)}catch{throw(0,C.zP)(f.GH)}}function E(I,v){if(0===v||Date.now()-3e5>I+v)throw(0,C.zP)(f.Ao)}},9947:(Ee,Q,w)=>{w.d(Q,{B:()=>O,j:()=>E});var C=w(464),f=w(9128),R=w(322);function O(I,v){if(!I)throw(0,C.zP)(R.S7);try{const H=v(I);return JSON.parse(H)}catch{throw(0,C.zP)(R.ZE)}}function E(I){if(!I)throw(0,C.zP)(R.ZE);const v=I.split(f.Bv.CLIENT_INFO_SEPARATOR,2);return{uid:v[0],utid:v.length<2?f.gT.EMPTY_STRING:v[1]}}},4918:(Ee,Q,w)=>{function C(f){return f&&(f.tid||f.tfp||f.acr)||null}w.d(Q,{M:()=>C})},3071:(Ee,Q,w)=>{w.d(Q,{WU:()=>L,Ct:()=>pe,Dm:()=>le,Mh:()=>ne});var C=w(5861),f=w(842),O=w(3886),E=w(464),I=w(9128),v=w(7247),H=w(8061),S=w(1763),V=w(9084),N=w(6145),q=w(905),se=w(9312);let D=(()=>{class F{constructor(k,x,$,ie){this.networkInterface=k,this.logger=x,this.performanceClient=$,this.correlationId=ie}detectRegion(k,x){var $=this;return(0,C.Z)(function*(){$.performanceClient?.addQueueMeasurement(q.Ak.RegionDiscoveryDetectRegion,$.correlationId);let ie=k;if(ie)x.region_source=I.W.ENVIRONMENT_VARIABLE;else{const ue=F.IMDS_OPTIONS;try{const me=yield(0,se.i)($.getRegionFromIMDS.bind($),q.Ak.RegionDiscoveryGetRegionFromIMDS,$.logger,$.performanceClient,$.correlationId)(I.gT.IMDS_VERSION,ue);if(me.status===I.YY.httpSuccess&&(ie=me.body,x.region_source=I.W.IMDS),me.status===I.YY.httpBadRequest){const Me=yield(0,se.i)($.getCurrentVersion.bind($),q.Ak.RegionDiscoveryGetCurrentVersion,$.logger,$.performanceClient,$.correlationId)(ue);if(!Me)return x.region_source=I.W.FAILED_AUTO_DETECTION,null;const J=yield(0,se.i)($.getRegionFromIMDS.bind($),q.Ak.RegionDiscoveryGetRegionFromIMDS,$.logger,$.performanceClient,$.correlationId)(Me,ue);J.status===I.YY.httpSuccess&&(ie=J.body,x.region_source=I.W.IMDS)}}catch{return x.region_source=I.W.FAILED_AUTO_DETECTION,null}}return ie||(x.region_source=I.W.FAILED_AUTO_DETECTION),ie||null})()}getRegionFromIMDS(k,x){var $=this;return(0,C.Z)(function*(){return $.performanceClient?.addQueueMeasurement(q.Ak.RegionDiscoveryGetRegionFromIMDS,$.correlationId),$.networkInterface.sendGetRequestAsync(`${I.gT.IMDS_ENDPOINT}?api-version=${k}&format=text`,x,I.gT.IMDS_TIMEOUT)})()}getCurrentVersion(k){var x=this;return(0,C.Z)(function*(){x.performanceClient?.addQueueMeasurement(q.Ak.RegionDiscoveryGetCurrentVersion,x.correlationId);try{const $=yield x.networkInterface.sendGetRequestAsync(`${I.gT.IMDS_ENDPOINT}?format=json`,k);return $.status===I.YY.httpBadRequest&&$.body&&$.body["newest-versions"]&&$.body["newest-versions"].length>0?$.body["newest-versions"][0]:null}catch{return null}})()}}return F.IMDS_OPTIONS={headers:{Metadata:"true"}},F})();var b=w(4191),j=w(322),Y=w(1288);class L{constructor(m,k,x,$,ie,ue,me){this.canonicalAuthority=m,this._canonicalAuthority.validateAsUri(),this.networkInterface=k,this.cacheManager=x,this.authorityOptions=$,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=ie,this.performanceClient=ue,this.correlationId=me,this.regionDiscovery=new D(k,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(m){if(m.HostNameAndPort.endsWith(I.gT.CIAM_AUTH_URL))return f.a.Ciam;const k=m.PathSegments;if(k.length)switch(k[0].toLowerCase()){case I.gT.ADFS:return f.a.Adfs;case I.gT.DSTS:return f.a.Dsts}return f.a.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(m){this._canonicalAuthority=new O.G(m),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw(0,E.zP)(j.HO)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw(0,E.zP)(j.HO)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw(0,E.zP)(j.HO)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw(0,E.zP)(j.ig);return this.replacePath(this.metadata.end_session_endpoint)}throw(0,E.zP)(j.HO)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw(0,E.zP)(j.HO)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw(0,E.zP)(j.HO)}canReplaceTenant(m){return 1===m.PathSegments.length&&!L.reservedTenantDomains.has(m.PathSegments[0])&&this.getAuthorityType(m)===f.a.Default&&this.protocolMode===S.A.AAD}replaceTenant(m){return m.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(m){let k=m;const $=new O.G(this.metadata.canonical_authority).getUrlComponents(),ie=$.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((me,Me)=>{let J=ie[Me];if(0===Me&&this.canReplaceTenant($)){const nt=new O.G(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];J!==nt&&(this.logger.verbose(`Replacing tenant domain name ${J} with id ${nt}`),J=nt)}me!==J&&(k=k.replace(`/${J}/`,`/${me}/`))}),this.replaceTenant(k)}get defaultOpenIdConfigurationEndpoint(){const m=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===f.a.Adfs||this.protocolMode!==S.A.AAD&&!this.isAliasOfKnownMicrosoftAuthority(m)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}resolveEndpointsAsync(){var m=this;return(0,C.Z)(function*(){m.performanceClient?.addQueueMeasurement(q.Ak.AuthorityResolveEndpointsAsync,m.correlationId);const k=m.getCurrentMetadataEntity(),x=yield(0,se.i)(m.updateCloudDiscoveryMetadata.bind(m),q.Ak.AuthorityUpdateCloudDiscoveryMetadata,m.logger,m.performanceClient,m.correlationId)(k);m.canonicalAuthority=m.canonicalAuthority.replace(m.hostnameAndPort,k.preferred_network);const $=yield(0,se.i)(m.updateEndpointMetadata.bind(m),q.Ak.AuthorityUpdateEndpointMetadata,m.logger,m.performanceClient,m.correlationId)(k);m.updateCachedMetadata(k,x,{source:$})})()}getCurrentMetadataEntity(){let m=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return m||(m=new V.l,m.updateCanonicalAuthority(this.canonicalAuthority)),m}updateCachedMetadata(m,k,x){k!==I.pQ.CACHE&&x?.source!==I.pQ.CACHE&&(m.resetExpiresAt(),m.updateCanonicalAuthority(this.canonicalAuthority));const $=this.cacheManager.generateAuthorityMetadataCacheKey(m.preferred_cache);this.cacheManager.setAuthorityMetadata($,m),this.metadata=m}updateEndpointMetadata(m){var k=this;return(0,C.Z)(function*(){k.performanceClient?.addQueueMeasurement(q.Ak.AuthorityUpdateEndpointMetadata,k.correlationId);const x=k.updateEndpointMetadataFromLocalSources(m);if(x){if(x.source===I.pQ.HARDCODED_VALUES&&k.authorityOptions.azureRegionConfiguration?.azureRegion&&x.metadata){const ie=yield(0,se.i)(k.updateMetadataWithRegionalInformation.bind(k),q.Ak.AuthorityUpdateMetadataWithRegionalInformation,k.logger,k.performanceClient,k.correlationId)(x.metadata);m.updateEndpointMetadata(ie,!1)}return x.source}let $=yield(0,se.i)(k.getEndpointMetadataFromNetwork.bind(k),q.Ak.AuthorityGetEndpointMetadataFromNetwork,k.logger,k.performanceClient,k.correlationId)();if($)return k.authorityOptions.azureRegionConfiguration?.azureRegion&&($=yield(0,se.i)(k.updateMetadataWithRegionalInformation.bind(k),q.Ak.AuthorityUpdateMetadataWithRegionalInformation,k.logger,k.performanceClient,k.correlationId)($)),m.updateEndpointMetadata($,!0),I.pQ.NETWORK;throw(0,E.zP)(j.Ce,k.defaultOpenIdConfigurationEndpoint)})()}updateEndpointMetadataFromLocalSources(m){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const k=this.getEndpointMetadataFromConfig();if(k)return this.logger.verbose("Found endpoint metadata in authority configuration"),m.updateEndpointMetadata(k,!1),{source:I.pQ.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const $=this.getEndpointMetadataFromHardcodedValues();if($)return m.updateEndpointMetadata($,!1),{source:I.pQ.HARDCODED_VALUES,metadata:$};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const x=m.isExpired();return this.isAuthoritySameType(m)&&m.endpointsFromNetwork&&!x?(this.logger.verbose("Found endpoint metadata in the cache."),{source:I.pQ.CACHE}):(x&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(m){return new O.G(m.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw(0,H.ei)(Y.zx)}return null}getEndpointMetadataFromNetwork(){var m=this;return(0,C.Z)(function*(){m.performanceClient?.addQueueMeasurement(q.Ak.AuthorityGetEndpointMetadataFromNetwork,m.correlationId);const k={},x=m.defaultOpenIdConfigurationEndpoint;m.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${x}`);try{const $=yield m.networkInterface.sendGetRequestAsync(x,k);return function R(F){return F.hasOwnProperty("authorization_endpoint")&&F.hasOwnProperty("token_endpoint")&&F.hasOwnProperty("issuer")&&F.hasOwnProperty("jwks_uri")}($.body)?$.body:(m.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch($){return m.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${$}`),null}})()}getEndpointMetadataFromHardcodedValues(){return this.canonicalAuthority in v.Qh?v.Qh[this.canonicalAuthority]:null}updateMetadataWithRegionalInformation(m){var k=this;return(0,C.Z)(function*(){k.performanceClient?.addQueueMeasurement(q.Ak.AuthorityUpdateMetadataWithRegionalInformation,k.correlationId);const x=k.authorityOptions.azureRegionConfiguration?.azureRegion;if(x){if(x!==I.gT.AZURE_REGION_AUTO_DISCOVER_FLAG)return k.regionDiscoveryMetadata.region_outcome=I.ki.CONFIGURED_NO_AUTO_DETECTION,k.regionDiscoveryMetadata.region_used=x,L.replaceWithRegionalInformation(m,x);const $=yield(0,se.i)(k.regionDiscovery.detectRegion.bind(k.regionDiscovery),q.Ak.RegionDiscoveryDetectRegion,k.logger,k.performanceClient,k.correlationId)(k.authorityOptions.azureRegionConfiguration?.environmentRegion,k.regionDiscoveryMetadata);if($)return k.regionDiscoveryMetadata.region_outcome=I.ki.AUTO_DETECTION_REQUESTED_SUCCESSFUL,k.regionDiscoveryMetadata.region_used=$,L.replaceWithRegionalInformation(m,$);k.regionDiscoveryMetadata.region_outcome=I.ki.AUTO_DETECTION_REQUESTED_FAILED}return m})()}updateCloudDiscoveryMetadata(m){var k=this;return(0,C.Z)(function*(){k.performanceClient?.addQueueMeasurement(q.Ak.AuthorityUpdateCloudDiscoveryMetadata,k.correlationId);const x=k.updateCloudDiscoveryMetadataFromLocalSources(m);if(x)return x;const $=yield(0,se.i)(k.getCloudDiscoveryMetadataFromNetwork.bind(k),q.Ak.AuthorityGetCloudDiscoveryMetadataFromNetwork,k.logger,k.performanceClient,k.correlationId)();if($)return m.updateCloudDiscoveryMetadata($,!0),I.pQ.NETWORK;throw(0,H.ei)(Y.o_)})()}updateCloudDiscoveryMetadataFromLocalSources(m){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||I.gT.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||I.gT.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${m.canonical_authority||I.gT.NOT_APPLICABLE}`);const k=this.getCloudDiscoveryMetadataFromConfig();if(k)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),m.updateCloudDiscoveryMetadata(k,!1),I.pQ.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const $=(0,v.ix)(this.hostnameAndPort);if($)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),m.updateCloudDiscoveryMetadata($,!1),I.pQ.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const x=m.isExpired();return this.isAuthoritySameType(m)&&m.aliasesFromNetwork&&!x?(this.logger.verbose("Found cloud discovery metadata in the cache."),I.pQ.CACHE):(x&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===f.a.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),L.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const m=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),k=(0,v.eM)(m.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),k)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),k;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),(0,H.ei)(Y.E)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),L.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}getCloudDiscoveryMetadataFromNetwork(){var m=this;return(0,C.Z)(function*(){m.performanceClient?.addQueueMeasurement(q.Ak.AuthorityGetCloudDiscoveryMetadataFromNetwork,m.correlationId);const k=`${I.gT.AAD_INSTANCE_DISCOVERY_ENDPT}${m.canonicalAuthority}oauth2/v2.0/authorize`,x={};let $=null;try{const ie=yield m.networkInterface.sendGetRequestAsync(k,x);let ue,me;if(function K(F){return F.hasOwnProperty("tenant_discovery_endpoint")&&F.hasOwnProperty("metadata")}(ie.body))ue=ie.body,me=ue.metadata,m.logger.verbosePii(`tenant_discovery_endpoint is: ${ue.tenant_discovery_endpoint}`);else{if(!function ce(F){return F.hasOwnProperty("error")&&F.hasOwnProperty("error_description")}(ie.body))return m.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(m.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${ie.status}`),ue=ie.body,ue.error===I.gT.INVALID_INSTANCE)return m.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;m.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${ue.error}`),m.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${ue.error_description}`),m.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),me=[]}m.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),$=(0,v.eM)(me,m.hostnameAndPort)}catch(ie){return m.logger.error(ie instanceof b.l4?`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${ie.errorCode}\nError Description: ${ie.errorMessage}`:`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${ie.name}\nError Description: ${ie.message}`),null}return $||(m.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),m.logger.verbose("Creating custom Authority for custom domain scenario."),$=L.createCloudDiscoveryMetadataFromHost(m.hostnameAndPort)),$})()}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(k=>k&&O.G.getDomainFromUrl(k).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(m,k){let x;return k&&k.azureCloudInstance!==N.z.None&&(x=`${k.azureCloudInstance}/${k.tenant?k.tenant:I.gT.DEFAULT_COMMON_TENANT}/`),x||m}static createCloudDiscoveryMetadataFromHost(m){return{preferred_network:m,preferred_cache:m,aliases:[m]}}getPreferredCache(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw(0,E.zP)(j.HO)}isAlias(m){return this.metadata.aliases.indexOf(m)>-1}isAliasOfKnownMicrosoftAuthority(m){return v.wn.has(m)}static isPublicCloudAuthority(m){return I.gT.KNOWN_PUBLIC_CLOUDS.indexOf(m)>=0}static buildRegionalAuthorityString(m,k,x){const $=new O.G(m);$.validateAsUri();const ie=$.getUrlComponents();let ue=`${k}.${ie.HostNameAndPort}`;this.isPublicCloudAuthority(ie.HostNameAndPort)&&(ue=`${k}.${I.gT.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const me=O.G.constructAuthorityUriFromObject({...$.getUrlComponents(),HostNameAndPort:ue}).urlString;return x?`${me}?${x}`:me}static replaceWithRegionalInformation(m,k){const x={...m};return x.authorization_endpoint=L.buildRegionalAuthorityString(x.authorization_endpoint,k),x.token_endpoint=L.buildRegionalAuthorityString(x.token_endpoint,k),x.end_session_endpoint&&(x.end_session_endpoint=L.buildRegionalAuthorityString(x.end_session_endpoint,k)),x}static transformCIAMAuthority(m){let k=m;const $=new O.G(m).getUrlComponents();return 0===$.PathSegments.length&&$.HostNameAndPort.endsWith(I.gT.CIAM_AUTH_URL)&&(k=`${k}${$.HostNameAndPort.split(".")[0]}${I.gT.AAD_TENANT_DOMAIN_SUFFIX}`),k}}function ne(F){const x=new O.G(F).getUrlComponents().PathSegments.slice(-1)[0].toLowerCase();switch(x){case I.Nb.COMMON:case I.Nb.ORGANIZATIONS:case I.Nb.CONSUMERS:return;default:return x}}function le(F){return F.endsWith(I.gT.FORWARD_SLASH)?F:`${F}${I.gT.FORWARD_SLASH}`}function pe(F){const m=F.cloudDiscoveryMetadata;let k;if(m)try{k=JSON.parse(m)}catch{throw(0,H.ei)(Y.E)}return{canonicalAuthority:F.authority?le(F.authority):void 0,knownAuthorities:F.knownAuthorities,cloudDiscoveryMetadata:k}}L.reservedTenantDomains=new Set(["{tenant}","{tenantid}",I.Nb.COMMON,I.Nb.CONSUMERS,I.Nb.ORGANIZATIONS])},7247:(Ee,Q,w)=>{w.d(Q,{Qh:()=>O,_u:()=>v,eM:()=>V,ix:()=>S,wn:()=>I});var C=w(3886),f=w(9128);const O={"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},E={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},I=new Set;function v(N,K){let ce;const q=N.canonicalAuthority;if(q){const se=new C.G(q).getUrlComponents().HostNameAndPort;ce=H(se,N.cloudDiscoveryMetadata?.metadata,f.pQ.CONFIG,K)||H(se,E.metadata,f.pQ.HARDCODED_VALUES,K)||N.knownAuthorities}return ce||[]}function H(N,K,ce,q){if(q?.trace(`getAliasesFromMetadata called with source: ${ce}`),N&&K){const se=V(K,N);if(se)return q?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${ce}, returning aliases`),se.aliases;q?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${ce}`)}return null}function S(N){return V(E.metadata,N)}function V(N,K){for(let ce=0;ce<N.length;ce++){const q=N[ce];if(q.aliases.includes(K))return q}return null}E.metadata.forEach(N=>{N.aliases.forEach(K=>{I.add(K)})})},6145:(Ee,Q,w)=>{w.d(Q,{z:()=>C});const C={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"}},842:(Ee,Q,w)=>{w.d(Q,{a:()=>C});const C={Default:0,Adfs:1,Dsts:2,Ciam:3}},1763:(Ee,Q,w)=>{w.d(Q,{A:()=>C});const C={AAD:"AAD",OIDC:"OIDC"}},5764:(Ee,Q,w)=>{w.d(Q,{L:()=>ce,w:()=>q});var C=w(5861),f=w(9128),R=w(1783),O=w(4226),E=w(7712),I=w(464),v=w(2888),H=w(2103),S=w(8144),V=w(3071),N=w(7247),K=w(322);class ce{constructor(D,b,j,Y){this.clientId=D,this.cryptoImpl=b,this.commonLogger=j.clone(S.u,S.i),this.staticAuthorityOptions=Y}getAllAccounts(D){return this.buildTenantProfiles(this.getAccountsFilteredBy(D||{}),D)}getAccountInfoFilteredBy(D){const b=this.getAllAccounts(D);return b.length>1?b.sort(Y=>Y.idTokenClaims?-1:1)[0]:1===b.length?b[0]:null}getBaseAccountInfo(D){const b=this.getAccountsFilteredBy(D);return b.length>0?b[0].getAccountInfo():null}buildTenantProfiles(D,b){return D.flatMap(j=>this.getAccountInfoForTenantProfiles(j,b))}getAccountInfoForTenantProfiles(D,b){return this.getTenantProfilesFromAccountEntity(D,b?.tenantId,b)}getTenantedAccountInfoByFilter(D,b,j,Y){let ne,L=null;if(Y&&!this.tenantProfileMatchesFilter(j,Y))return null;const le=this.getIdToken(D,b,j.tenantId);return le&&(ne=(0,H.Z_)(le.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(ne,Y))?null:(L=(0,v.$f)(D,j,ne),L)}getTenantProfilesFromAccountEntity(D,b,j){const Y=D.getAccountInfo();let L=Y.tenantProfiles||new Map;const ne=this.getTokenKeys();if(b){const pe=L.get(b);if(!pe)return[];L=new Map([[b,pe]])}const le=[];return L.forEach(pe=>{const F=this.getTenantedAccountInfoByFilter(Y,ne,pe,j);F&&le.push(F)}),le}tenantProfileMatchesFilter(D,b){return!(b.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(D,b.localAccountId)||b.name&&D.name!==b.name||void 0!==b.isHomeTenant&&D.isHomeTenant!==b.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(D,b){return!(b&&(b.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(D,b.localAccountId)||b.loginHint&&!this.matchLoginHintFromTokenClaims(D,b.loginHint)||b.username&&!this.matchUsername(D.preferred_username,b.username)||b.name&&!this.matchName(D,b.name)||b.sid&&!this.matchSid(D,b.sid)))}saveCacheRecord(D,b){var j=this;return(0,C.Z)(function*(){if(!D)throw(0,I.zP)(K.mj);D.account&&j.setAccount(D.account),D.idToken&&!1!==b?.idToken&&j.setIdTokenCredential(D.idToken),D.accessToken&&!1!==b?.accessToken&&(yield j.saveAccessToken(D.accessToken)),D.refreshToken&&!1!==b?.refreshToken&&j.setRefreshTokenCredential(D.refreshToken),D.appMetadata&&j.setAppMetadata(D.appMetadata)})()}saveAccessToken(D){var b=this;return(0,C.Z)(function*(){const j={clientId:D.clientId,credentialType:D.credentialType,environment:D.environment,homeAccountId:D.homeAccountId,realm:D.realm,tokenType:D.tokenType,requestedClaimsHash:D.requestedClaimsHash},Y=b.getTokenKeys(),L=O.i.fromString(D.target),ne=[];Y.accessToken.forEach(le=>{if(!b.accessTokenKeyMatchesFilter(le,j,!1))return;const pe=b.getAccessTokenCredential(le);pe&&b.credentialMatchesFilter(pe,j)&&O.i.fromString(pe.target).intersectingScopeSets(L)&&ne.push(b.removeAccessToken(le))}),yield Promise.all(ne),b.setAccessTokenCredential(D)})()}getAccountsFilteredBy(D){const b=this.getAccountKeys(),j=[];return b.forEach(Y=>{if(!this.isAccountKey(Y,D.homeAccountId))return;const L=this.getAccount(Y,this.commonLogger);if(!L||D.homeAccountId&&!this.matchHomeAccountId(L,D.homeAccountId)||D.username&&!this.matchUsername(L.username,D.username)||D.environment&&!this.matchEnvironment(L,D.environment)||D.realm&&!this.matchRealm(L,D.realm)||D.nativeAccountId&&!this.matchNativeAccountId(L,D.nativeAccountId)||D.authorityType&&!this.matchAuthorityType(L,D.authorityType))return;const ne={localAccountId:D?.localAccountId,name:D?.name},le=L.tenantProfiles?.filter(pe=>this.tenantProfileMatchesFilter(pe,ne));le&&0===le.length||j.push(L)}),j}isAccountKey(D,b,j){return!(D.split(f.Bv.CACHE_KEY_SEPARATOR).length<3||b&&!D.toLowerCase().includes(b.toLowerCase())||j&&!D.toLowerCase().includes(j.toLowerCase()))}isCredentialKey(D){if(D.split(f.Bv.CACHE_KEY_SEPARATOR).length<6)return!1;const b=D.toLowerCase();if(-1===b.indexOf(f.d3.ID_TOKEN.toLowerCase())&&-1===b.indexOf(f.d3.ACCESS_TOKEN.toLowerCase())&&-1===b.indexOf(f.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===b.indexOf(f.d3.REFRESH_TOKEN.toLowerCase()))return!1;if(b.indexOf(f.d3.REFRESH_TOKEN.toLowerCase())>-1){const Y=`${f.d3.REFRESH_TOKEN}${f.Bv.CACHE_KEY_SEPARATOR}${f.ch}${f.Bv.CACHE_KEY_SEPARATOR}`;if(-1===b.indexOf(`${f.d3.REFRESH_TOKEN}${f.Bv.CACHE_KEY_SEPARATOR}${this.clientId}${f.Bv.CACHE_KEY_SEPARATOR}`.toLowerCase())&&-1===b.indexOf(Y.toLowerCase()))return!1}else if(-1===b.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(D,b){return!(b.clientId&&!this.matchClientId(D,b.clientId)||b.userAssertionHash&&!this.matchUserAssertionHash(D,b.userAssertionHash)||"string"==typeof b.homeAccountId&&!this.matchHomeAccountId(D,b.homeAccountId)||b.environment&&!this.matchEnvironment(D,b.environment)||b.realm&&!this.matchRealm(D,b.realm)||b.credentialType&&!this.matchCredentialType(D,b.credentialType)||b.familyId&&!this.matchFamilyId(D,b.familyId)||b.target&&!this.matchTarget(D,b.target)||(b.requestedClaimsHash||D.requestedClaimsHash)&&D.requestedClaimsHash!==b.requestedClaimsHash||D.credentialType===f.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(b.tokenType&&!this.matchTokenType(D,b.tokenType)||b.tokenType===f.hO.SSH&&b.keyId&&!this.matchKeyId(D,b.keyId)))}getAppMetadataFilteredBy(D){return this.getAppMetadataFilteredByInternal(D.environment,D.clientId)}getAppMetadataFilteredByInternal(D,b){const j=this.getKeys(),Y={};return j.forEach(L=>{if(!this.isAppMetadata(L))return;const ne=this.getAppMetadata(L);ne&&(D&&!this.matchEnvironment(ne,D)||b&&!this.matchClientId(ne,b)||(Y[L]=ne))}),Y}getAuthorityMetadataByAlias(D){const b=this.getAuthorityMetadataKeys();let j=null;return b.forEach(Y=>{if(!this.isAuthorityMetadata(Y)||-1===Y.indexOf(this.clientId))return;const L=this.getAuthorityMetadata(Y);L&&-1!==L.aliases.indexOf(D)&&(j=L)}),j}removeAllAccounts(){var D=this;return(0,C.Z)(function*(){const b=D.getAccountKeys(),j=[];b.forEach(Y=>{j.push(D.removeAccount(Y))}),yield Promise.all(j)})()}removeAccount(D){var b=this;return(0,C.Z)(function*(){const j=b.getAccount(D,b.commonLogger);j&&(yield b.removeAccountContext(j),b.removeItem(D))})()}removeAccountContext(D){var b=this;return(0,C.Z)(function*(){const j=b.getTokenKeys(),Y=D.generateAccountId(),L=[];j.idToken.forEach(ne=>{0===ne.indexOf(Y)&&b.removeIdToken(ne)}),j.accessToken.forEach(ne=>{0===ne.indexOf(Y)&&L.push(b.removeAccessToken(ne))}),j.refreshToken.forEach(ne=>{0===ne.indexOf(Y)&&b.removeRefreshToken(ne)}),yield Promise.all(L)})()}updateOutdatedCachedAccount(D,b,j){if(b&&b.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const Y=this.getAccountKeys().filter(F=>F.startsWith(b.homeAccountId)),L=[];Y.forEach(F=>{const m=this.getCachedAccountEntity(F);m&&L.push(m)});const ne=L.find(F=>(0,v.Hc)(F.realm,F.homeAccountId))||L[0];ne.tenantProfiles=L.map(F=>({tenantId:F.realm,localAccountId:F.localAccountId,name:F.name,isHomeTenant:(0,v.Hc)(F.realm,F.homeAccountId)}));const le=ce.toObject(new E.r,{...ne}),pe=le.generateAccountKey();return Y.forEach(F=>{F!==pe&&this.removeOutdatedAccount(D)}),this.setAccount(le),j?.verbose("Updated an outdated account entity in the cache"),le}return b}removeAccessToken(D){var b=this;return(0,C.Z)(function*(){const j=b.getAccessTokenCredential(D);if(j){if(j.credentialType.toLowerCase()===f.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&j.tokenType===f.hO.POP){const L=j.keyId;if(L)try{yield b.cryptoImpl.removeTokenBindingKey(L)}catch{throw(0,I.zP)(K.ol)}}return b.removeItem(D)}})()}removeAppMetadata(){return this.getKeys().forEach(b=>{this.isAppMetadata(b)&&this.removeItem(b)}),!0}readCacheRecord(D,b,j,Y,L){const ne=D.tenantId||(0,V.Mh)(b.authority),le=this.getTokenKeys();return{account:this.readAccountFromCache(D),idToken:this.getIdToken(D,le,ne,Y,L),accessToken:this.getAccessToken(D,b,le,ne,Y,L),refreshToken:this.getRefreshToken(D,!1,le,Y,L),appMetadata:this.readAppMetadataFromCache(j)}}readAccountFromCache(D){const b=E.r.generateAccountCacheKey(D);return this.getAccount(b,this.commonLogger)}getIdToken(D,b,j,Y,L){this.commonLogger.trace("CacheManager - getIdToken called");const le=this.getIdTokensByFilter({homeAccountId:D.homeAccountId,environment:D.environment,credentialType:f.d3.ID_TOKEN,clientId:this.clientId,realm:j},b),pe=le.size;if(pe<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(pe>1){let F=le;if(!j){const m=new Map;le.forEach((x,$)=>{x.realm===D.tenantId&&m.set($,x)});const k=m.size;if(k<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),le.values().next().value;if(1===k)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),m.values().next().value;F=m}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),F.forEach((m,k)=>{this.removeIdToken(k)}),Y&&L&&Y.addFields({multiMatchedID:le.size},L),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),le.values().next().value}getIdTokensByFilter(D,b){const j=b&&b.idToken||this.getTokenKeys().idToken,Y=new Map;return j.forEach(L=>{if(!this.idTokenKeyMatchesFilter(L,{clientId:this.clientId,...D}))return;const ne=this.getIdTokenCredential(L);ne&&this.credentialMatchesFilter(ne,D)&&Y.set(L,ne)}),Y}idTokenKeyMatchesFilter(D,b){const j=D.toLowerCase();return!(b.clientId&&-1===j.indexOf(b.clientId.toLowerCase())||b.homeAccountId&&-1===j.indexOf(b.homeAccountId.toLowerCase()))}removeIdToken(D){this.removeItem(D)}removeRefreshToken(D){this.removeItem(D)}getAccessToken(D,b,j,Y,L,ne){this.commonLogger.trace("CacheManager - getAccessToken called");const le=O.i.createSearchScopes(b.scopes),pe=b.authenticationScheme||f.hO.BEARER,F=pe&&pe.toLowerCase()!==f.hO.BEARER.toLowerCase()?f.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:f.d3.ACCESS_TOKEN,m={homeAccountId:D.homeAccountId,environment:D.environment,credentialType:F,clientId:this.clientId,realm:Y||D.tenantId,target:le,tokenType:pe,keyId:b.sshKid,requestedClaimsHash:b.requestedClaimsHash},k=j&&j.accessToken||this.getTokenKeys().accessToken,x=[];k.forEach(ie=>{if(this.accessTokenKeyMatchesFilter(ie,m,!0)){const ue=this.getAccessTokenCredential(ie);ue&&this.credentialMatchesFilter(ue,m)&&x.push(ue)}});const $=x.length;return $<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):$>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),x.forEach(ie=>{this.removeAccessToken((0,R.Mk)(ie))}),L&&ne&&L.addFields({multiMatchedAT:x.length},ne),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),x[0])}accessTokenKeyMatchesFilter(D,b,j){const Y=D.toLowerCase();if(b.clientId&&-1===Y.indexOf(b.clientId.toLowerCase())||b.homeAccountId&&-1===Y.indexOf(b.homeAccountId.toLowerCase())||b.realm&&-1===Y.indexOf(b.realm.toLowerCase())||b.requestedClaimsHash&&-1===Y.indexOf(b.requestedClaimsHash.toLowerCase()))return!1;if(b.target){const L=b.target.asArray();for(let ne=0;ne<L.length;ne++){if(j&&!Y.includes(L[ne].toLowerCase()))return!1;if(!j&&Y.includes(L[ne].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(D){const b=this.getTokenKeys(),j=[];return b.accessToken.forEach(Y=>{if(!this.accessTokenKeyMatchesFilter(Y,D,!0))return;const L=this.getAccessTokenCredential(Y);L&&this.credentialMatchesFilter(L,D)&&j.push(L)}),j}getRefreshToken(D,b,j,Y,L){this.commonLogger.trace("CacheManager - getRefreshToken called");const le={homeAccountId:D.homeAccountId,environment:D.environment,credentialType:f.d3.REFRESH_TOKEN,clientId:this.clientId,familyId:b?f.ch:void 0},pe=j&&j.refreshToken||this.getTokenKeys().refreshToken,F=[];pe.forEach(k=>{if(this.refreshTokenKeyMatchesFilter(k,le)){const x=this.getRefreshTokenCredential(k);x&&this.credentialMatchesFilter(x,le)&&F.push(x)}});const m=F.length;return m<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(m>1&&Y&&L&&Y.addFields({multiMatchedRT:m},L),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),F[0])}refreshTokenKeyMatchesFilter(D,b){const j=D.toLowerCase();return!(b.familyId&&-1===j.indexOf(b.familyId.toLowerCase())||!b.familyId&&b.clientId&&-1===j.indexOf(b.clientId.toLowerCase())||b.homeAccountId&&-1===j.indexOf(b.homeAccountId.toLowerCase()))}readAppMetadataFromCache(D){const j=this.getAppMetadataFilteredBy({environment:D,clientId:this.clientId}),Y=Object.keys(j).map(ne=>j[ne]),L=Y.length;if(L<1)return null;if(L>1)throw(0,I.zP)(K.EC);return Y[0]}isAppMetadataFOCI(D){const b=this.readAppMetadataFromCache(D);return!(!b||b.familyId!==f.ch)}matchHomeAccountId(D,b){return"string"==typeof D.homeAccountId&&b===D.homeAccountId}matchLocalAccountIdFromTokenClaims(D,b){return b===(D.oid||D.sub)}matchLocalAccountIdFromTenantProfile(D,b){return D.localAccountId===b}matchName(D,b){return b.toLowerCase()===D.name?.toLowerCase()}matchUsername(D,b){return!(!D||"string"!=typeof D||b?.toLowerCase()!==D.toLowerCase())}matchUserAssertionHash(D,b){return!(!D.userAssertionHash||b!==D.userAssertionHash)}matchEnvironment(D,b){if(this.staticAuthorityOptions){const Y=(0,N._u)(this.staticAuthorityOptions,this.commonLogger);if(Y.includes(b)&&Y.includes(D.environment))return!0}const j=this.getAuthorityMetadataByAlias(b);return!!(j&&j.aliases.indexOf(D.environment)>-1)}matchCredentialType(D,b){return D.credentialType&&b.toLowerCase()===D.credentialType.toLowerCase()}matchClientId(D,b){return!(!D.clientId||b!==D.clientId)}matchFamilyId(D,b){return!(!D.familyId||b!==D.familyId)}matchRealm(D,b){return D.realm?.toLowerCase()===b.toLowerCase()}matchNativeAccountId(D,b){return!(!D.nativeAccountId||b!==D.nativeAccountId)}matchLoginHintFromTokenClaims(D,b){return D.login_hint===b||D.preferred_username===b||D.upn===b}matchSid(D,b){return D.sid===b}matchAuthorityType(D,b){return!(!D.authorityType||b.toLowerCase()!==D.authorityType.toLowerCase())}matchTarget(D,b){return!(D.credentialType!==f.d3.ACCESS_TOKEN&&D.credentialType!==f.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME||!D.target)&&O.i.fromString(D.target).containsScopeSet(b)}matchTokenType(D,b){return!(!D.tokenType||D.tokenType!==b)}matchKeyId(D,b){return!(!D.keyId||D.keyId!==b)}isAppMetadata(D){return-1!==D.indexOf(f.dg)}isAuthorityMetadata(D){return-1!==D.indexOf(f.QU.CACHE_KEY)}generateAuthorityMetadataCacheKey(D){return`${f.QU.CACHE_KEY}-${this.clientId}-${D}`}static toObject(D,b){for(const j in b)D[j]=b[j];return D}}class q extends ce{setAccount(){throw(0,I.zP)(K.M2)}getAccount(){throw(0,I.zP)(K.M2)}getCachedAccountEntity(){throw(0,I.zP)(K.M2)}setIdTokenCredential(){throw(0,I.zP)(K.M2)}getIdTokenCredential(){throw(0,I.zP)(K.M2)}setAccessTokenCredential(){throw(0,I.zP)(K.M2)}getAccessTokenCredential(){throw(0,I.zP)(K.M2)}setRefreshTokenCredential(){throw(0,I.zP)(K.M2)}getRefreshTokenCredential(){throw(0,I.zP)(K.M2)}setAppMetadata(){throw(0,I.zP)(K.M2)}getAppMetadata(){throw(0,I.zP)(K.M2)}setServerTelemetry(){throw(0,I.zP)(K.M2)}getServerTelemetry(){throw(0,I.zP)(K.M2)}setAuthorityMetadata(){throw(0,I.zP)(K.M2)}getAuthorityMetadata(){throw(0,I.zP)(K.M2)}getAuthorityMetadataKeys(){throw(0,I.zP)(K.M2)}setThrottlingCache(){throw(0,I.zP)(K.M2)}getThrottlingCache(){throw(0,I.zP)(K.M2)}removeItem(){throw(0,I.zP)(K.M2)}containsKey(){throw(0,I.zP)(K.M2)}getKeys(){throw(0,I.zP)(K.M2)}getAccountKeys(){throw(0,I.zP)(K.M2)}getTokenKeys(){throw(0,I.zP)(K.M2)}clear(){return(0,C.Z)(function*(){throw(0,I.zP)(K.M2)})()}updateCredentialCacheKey(){throw(0,I.zP)(K.M2)}removeOutdatedAccount(){throw(0,I.zP)(K.M2)}}},7712:(Ee,Q,w)=>{w.d(Q,{r:()=>S});var C=w(9128),f=w(9947),R=w(2888),O=w(464),E=w(842),I=w(4918),v=w(1763),H=w(322);class S{generateAccountId(){return[this.homeAccountId,this.environment].join(C.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return S.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(N=>[N.tenantId,N]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(N){const K=N.homeAccountId.split(".")[1];return[N.homeAccountId,N.environment||"",K||N.tenantId||""].join(C.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(N,K,ce){const q=new S;let se;q.authorityType=K.authorityType===E.a.Adfs?C.iR.ADFS_ACCOUNT_TYPE:K.protocolMode===v.A.AAD?C.iR.MSSTS_ACCOUNT_TYPE:C.iR.GENERIC_ACCOUNT_TYPE,N.clientInfo&&ce&&(se=(0,f.B)(N.clientInfo,ce)),q.clientInfo=N.clientInfo,q.homeAccountId=N.homeAccountId,q.nativeAccountId=N.nativeAccountId;const D=N.environment||K&&K.getPreferredCache();if(!D)throw(0,O.zP)(H.Q9);if(q.environment=D,q.realm=se?.utid||(0,I.M)(N.idTokenClaims)||"",q.localAccountId=se?.uid||N.idTokenClaims.oid||N.idTokenClaims.sub||"",q.username=N.idTokenClaims.preferred_username||N.idTokenClaims.upn||(N.idTokenClaims.emails?N.idTokenClaims.emails[0]:null)||"",q.name=N.idTokenClaims.name,q.cloudGraphHostName=N.cloudGraphHostName,q.msGraphHost=N.msGraphHost,N.tenantProfiles)q.tenantProfiles=N.tenantProfiles;else{const Y=[];if(N.idTokenClaims){const L=(0,R.SI)(N.homeAccountId,N.idTokenClaims);Y.push(L)}q.tenantProfiles=Y}return q}static createFromAccountInfo(N,K,ce){const q=new S;return q.authorityType=N.authorityType||C.iR.GENERIC_ACCOUNT_TYPE,q.homeAccountId=N.homeAccountId,q.localAccountId=N.localAccountId,q.nativeAccountId=N.nativeAccountId,q.realm=N.tenantId,q.environment=N.environment,q.username=N.username,q.name=N.name,q.cloudGraphHostName=K,q.msGraphHost=ce,q.tenantProfiles=Array.from(N.tenantProfiles?.values()||[]),q}static generateHomeAccountId(N,K,ce,q,se){if(K!==E.a.Adfs&&K!==E.a.Dsts){if(N)try{const D=(0,f.B)(N,q.base64Decode);if(D.uid&&D.utid)return`${D.uid}.${D.utid}`}catch{}ce.warning("No client info in response")}return se?.sub||""}static isAccountEntity(N){return!!N&&N.hasOwnProperty("homeAccountId")&&N.hasOwnProperty("environment")&&N.hasOwnProperty("realm")&&N.hasOwnProperty("localAccountId")&&N.hasOwnProperty("username")&&N.hasOwnProperty("authorityType")}static accountInfoIsEqual(N,K,ce){if(!N||!K)return!1;let q=!0;if(ce){const se=N.idTokenClaims||{},D=K.idTokenClaims||{};q=se.iat===D.iat&&se.nonce===D.nonce}return N.homeAccountId===K.homeAccountId&&N.localAccountId===K.localAccountId&&N.username===K.username&&N.tenantId===K.tenantId&&N.environment===K.environment&&N.nativeAccountId===K.nativeAccountId&&q}}},9084:(Ee,Q,w)=>{w.d(Q,{l:()=>R});var C=w(9128),f=w(1530);class R{constructor(){this.expiresAt=f.I.nowSeconds()+C.QU.REFRESH_TIME_SECONDS}updateCloudDiscoveryMetadata(E,I){this.aliases=E.aliases,this.preferred_cache=E.preferred_cache,this.preferred_network=E.preferred_network,this.aliasesFromNetwork=I}updateEndpointMetadata(E,I){this.authorization_endpoint=E.authorization_endpoint,this.token_endpoint=E.token_endpoint,this.end_session_endpoint=E.end_session_endpoint,this.issuer=E.issuer,this.endpointsFromNetwork=I,this.jwks_uri=E.jwks_uri}updateCanonicalAuthority(E){this.canonical_authority=E}resetExpiresAt(){this.expiresAt=f.I.nowSeconds()+C.QU.REFRESH_TIME_SECONDS}isExpired(){return this.expiresAt<=f.I.nowSeconds()}static isAuthorityMetadataEntity(E,I){return!!I&&0===E.indexOf(C.QU.CACHE_KEY)&&I.hasOwnProperty("aliases")&&I.hasOwnProperty("preferred_cache")&&I.hasOwnProperty("preferred_network")&&I.hasOwnProperty("canonical_authority")&&I.hasOwnProperty("authorization_endpoint")&&I.hasOwnProperty("token_endpoint")&&I.hasOwnProperty("issuer")&&I.hasOwnProperty("aliasesFromNetwork")&&I.hasOwnProperty("endpointsFromNetwork")&&I.hasOwnProperty("expiresAt")&&I.hasOwnProperty("jwks_uri")}}},1783:(Ee,Q,w)=>{w.d(Q,{Bq:()=>K,Ds:()=>H,Js:()=>Y,Md:()=>v,Mk:()=>I,OJ:()=>S,Om:()=>N,x4:()=>ce});var C=w(2103),f=w(464),R=w(9128),O=w(1530),E=w(322);function I(L){return[q(L),se(L),D(L),b(L),j(L)].join(R.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function v(L,ne,le,pe,F){return{credentialType:R.d3.ID_TOKEN,homeAccountId:L,environment:ne,clientId:pe,secret:le,realm:F}}function H(L,ne,le,pe,F,m,k,x,$,ie,ue,me,Me,J,nt){const rt={homeAccountId:L,credentialType:R.d3.ACCESS_TOKEN,secret:le,cachedAt:O.I.nowSeconds().toString(),expiresOn:k.toString(),extendedExpiresOn:x.toString(),environment:ne,clientId:pe,realm:F,target:m,tokenType:ue||R.hO.BEARER};if(me&&(rt.userAssertionHash=me),ie&&(rt.refreshOn=ie.toString()),J&&(rt.requestedClaims=J,rt.requestedClaimsHash=nt),rt.tokenType?.toLowerCase()!==R.hO.BEARER.toLowerCase())switch(rt.credentialType=R.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME,rt.tokenType){case R.hO.POP:const He=(0,C.Z_)(le,$);if(!He?.cnf?.kid)throw(0,f.zP)(E.P_);rt.keyId=He.cnf.kid;break;case R.hO.SSH:rt.keyId=Me}return rt}function S(L,ne,le,pe,F,m){const k={credentialType:R.d3.REFRESH_TOKEN,homeAccountId:L,environment:ne,clientId:pe,secret:le};return m&&(k.userAssertionHash=m),F&&(k.familyId=F),k}function V(L){return L.hasOwnProperty("homeAccountId")&&L.hasOwnProperty("environment")&&L.hasOwnProperty("credentialType")&&L.hasOwnProperty("clientId")&&L.hasOwnProperty("secret")}function N(L){return!!L&&V(L)&&L.hasOwnProperty("realm")&&L.hasOwnProperty("target")&&(L.credentialType===R.d3.ACCESS_TOKEN||L.credentialType===R.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME)}function K(L){return!!L&&V(L)&&L.hasOwnProperty("realm")&&L.credentialType===R.d3.ID_TOKEN}function ce(L){return!!L&&V(L)&&L.credentialType===R.d3.REFRESH_TOKEN}function q(L){return[L.homeAccountId,L.environment].join(R.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function se(L){return[L.credentialType,L.credentialType===R.d3.REFRESH_TOKEN&&L.familyId||L.clientId,L.realm||""].join(R.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function D(L){return(L.target||"").toLowerCase()}function b(L){return(L.requestedClaimsHash||"").toLowerCase()}function j(L){return L.tokenType&&L.tokenType.toLowerCase()!==R.hO.BEARER.toLowerCase()?L.tokenType.toLowerCase():""}function Y(L,ne){const le=0===L.indexOf(R.HN.CACHE_KEY);let pe=!0;return ne&&(pe=ne.hasOwnProperty("failedRequests")&&ne.hasOwnProperty("errors")&&ne.hasOwnProperty("cacheHits")),le&&pe}},1878:(Ee,Q,w)=>{w.d(Q,{j6:()=>L,lh:()=>le,z:()=>K});var C=w(5861),f=w(368),R=w(2526),O=w(9128),E=w(8144),I=w(6145),v=w(5764),H=w(1763),S=w(464),V=w(322);const K={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},ce={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:R.i.Info,correlationId:O.gT.EMPTY_STRING},q={claimsBasedCachingEnabled:!1},se={sendGetRequestAsync:()=>(0,C.Z)(function*(){throw(0,S.zP)(V.M2)})(),sendPostRequestAsync:()=>(0,C.Z)(function*(){throw(0,S.zP)(V.M2)})()},D={sku:O.gT.SKU,version:E.i,cpu:O.gT.EMPTY_STRING,os:O.gT.EMPTY_STRING},b={clientSecret:O.gT.EMPTY_STRING,clientAssertion:void 0},j={azureCloudInstance:I.z.None,tenant:`${O.gT.DEFAULT_COMMON_TENANT}`},Y={application:{appName:"",appVersion:""}};function L({authOptions:pe,systemOptions:F,loggerOptions:m,cacheOptions:k,storageInterface:x,networkInterface:$,cryptoInterface:ie,clientCredentials:ue,libraryInfo:me,telemetry:Me,serverTelemetryManager:J,persistencePlugin:nt,serializableCache:rt}){const He={...ce,...m};return{authOptions:ne(pe),systemOptions:{...K,...F},loggerOptions:He,cacheOptions:{...q,...k},storageInterface:x||new v.w(pe.clientId,f.d,new R.Y(He)),networkInterface:$||se,cryptoInterface:ie||f.d,clientCredentials:ue||b,libraryInfo:{...D,...me},telemetry:{...Y,...Me},serverTelemetryManager:J||null,persistencePlugin:nt||null,serializableCache:rt||null}}function ne(pe){return{clientCapabilities:[],azureCloudOptions:j,skipAuthorityMetadataCache:!1,...pe}}function le(pe){return pe.authOptions.authority.options.protocolMode===H.A.OIDC}},9883:(Ee,Q,w)=>{w.d(Q,{C2:()=>L,Cx:()=>C,DN:()=>He,DW:()=>ne,GQ:()=>J,He:()=>f,IC:()=>v,Im:()=>se,KR:()=>Ot,Lm:()=>O,O4:()=>fn,PU:()=>Ur,PY:()=>Tt,Pe:()=>k,RJ:()=>_t,RO:()=>Zn,Rl:()=>x,US:()=>Fn,Zb:()=>Oi,bJ:()=>m,bP:()=>$,by:()=>D,cO:()=>Y,ct:()=>I,ed:()=>q,fC:()=>F,hR:()=>ie,hf:()=>Qe,ib:()=>nt,j5:()=>ue,ki:()=>Me,ko:()=>E,nZ:()=>pe,q0:()=>rt,s4:()=>le,sI:()=>Ie,x5:()=>Ln,yO:()=>R,z6:()=>K,zl:()=>Pe,zm:()=>me});const C="client_id",f="redirect_uri",R="response_type",O="response_mode",E="grant_type",I="claims",v="scope",K="refresh_token",q="state",se="nonce",D="prompt",Y="code",L="code_challenge",ne="code_challenge_method",le="code_verifier",pe="client-request-id",F="x-client-SKU",m="x-client-VER",k="x-client-OS",x="x-client-CPU",$="x-client-current-telemetry",ie="x-client-last-telemetry",ue="x-ms-lib-capability",me="x-app-name",Me="x-app-ver",J="post_logout_redirect_uri",nt="id_token_hint",rt="device_code",He="client_secret",Ie="client_assertion",_t="client_assertion_type",Ot="token_type",Tt="req_cnf",Qe="assertion",Pe="requested_token_use",Oi="return_spa_code",fn="nativebroker",Ur="logout_hint",Ln="sid",Fn="login_hint",Zn="domain_hint"},368:(Ee,Q,w)=>{w.d(Q,{d:()=>O});var C=w(5861),f=w(464),R=w(322);const O={createNewGuid:()=>{throw(0,f.zP)(R.M2)},base64Decode:()=>{throw(0,f.zP)(R.M2)},base64Encode:()=>{throw(0,f.zP)(R.M2)},getPublicKeyThumbprint:()=>(0,C.Z)(function*(){throw(0,f.zP)(R.M2)})(),removeTokenBindingKey:()=>(0,C.Z)(function*(){throw(0,f.zP)(R.M2)})(),clearKeystore:()=>(0,C.Z)(function*(){throw(0,f.zP)(R.M2)})(),signJwt:()=>(0,C.Z)(function*(){throw(0,f.zP)(R.M2)})(),hashString:()=>(0,C.Z)(function*(){throw(0,f.zP)(R.M2)})()}},4191:(Ee,Q,w)=>{w.d(Q,{MD:()=>I,l4:()=>E});var C=w(9128),f=w(6345);const R={[f.g]:"Unexpected error in authentication.",[f.D]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class E extends Error{constructor(H,S,V){super(S?`${H}: ${S}`:H),Object.setPrototypeOf(this,E.prototype),this.errorCode=H||C.gT.EMPTY_STRING,this.errorMessage=S||C.gT.EMPTY_STRING,this.subError=V||C.gT.EMPTY_STRING,this.name="AuthError"}setCorrelationId(H){this.correlationId=H}}function I(v,H){return new E(v,H?`${R[v]} ${H}`:R[v])}},6345:(Ee,Q,w)=>{w.d(Q,{D:()=>f,g:()=>C});const C="unexpected_error",f="post_request_failed"},464:(Ee,Q,w)=>{w.d(Q,{er:()=>E,zP:()=>I});var C=w(4191),f=w(322);const R={[f.ZE]:"The client info could not be parsed/decoded correctly",[f.S7]:"The client info was empty",[f.GH]:"Token cannot be parsed",[f.PM]:"The token is null or empty",[f.HO]:"Endpoints cannot be resolved",[f.EF]:"Network request failed",[f.Ce]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[f.b4]:"The hash parameters could not be deserialized",[f.r8]:"State was not the expected format",[f.Tu]:"State mismatch error",[f.LV]:"State not found",[f.vR]:"Nonce mismatch error",[f.w7]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[f.Ao]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[f.MU]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[f.RH]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[f.EC]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[f.FU]:"Token request cannot be made without authorization code or refresh token.",[f.v1]:"Cannot remove null or empty scope from ScopeSet",[f.f4]:"Cannot append ScopeSet",[f.S]:"Empty input ScopeSet cannot be processed",[f.Jk]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[f.tS]:"Device code is expired.",[f.ZT]:"Device code stopped polling for unknown reasons.",[f.D7]:"Please pass an account object, silent flow is not supported without account information",[f.mj]:"Cache record object was null or undefined.",[f.Q9]:"Invalid environment when attempting to create cache entry",[f.cX]:"No account found in cache for given key.",[f.QL]:"No crypto object detected.",[f.cy]:"Unexpected credential type.",[f.aE]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[f.SX]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[f.s$]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[f.nQ]:"User defined timeout for device code polling reached",[f.P_]:"Cannot generate a POP jwt if the token_claims are not populated",[f.Zv]:"Server response does not contain an authorization code to proceed",[f.ol]:"Could not remove the credential's binding key from storage.",[f.ig]:"The provided authority does not support logout",[f.Of]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[f.Mq]:"No network connectivity. Check your internet connection.",[f.$R]:"User cancelled the flow.",[f.k7]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[f.M2]:"This method has not been implemented",[f.Ls]:"The nested app auth bridge is disabled"};class E extends C.l4{constructor(H,S){super(H,S?`${R[H]}: ${S}`:R[H]),this.name="ClientAuthError",Object.setPrototypeOf(this,E.prototype)}}function I(v,H){return new E(v,H)}},322:(Ee,Q,w)=>{w.d(Q,{$R:()=>Qe,Ao:()=>q,Ce:()=>v,D7:()=>m,EC:()=>b,EF:()=>I,FU:()=>j,GH:()=>R,HO:()=>E,Jk:()=>le,LV:()=>N,Ls:()=>Re,M2:()=>hn,MU:()=>se,Mq:()=>Tt,Of:()=>Ot,PM:()=>O,P_:()=>rt,Q9:()=>x,QL:()=>ie,RH:()=>D,S:()=>ne,S7:()=>f,SX:()=>Me,Tu:()=>V,ZE:()=>C,ZT:()=>F,Zv:()=>He,aE:()=>me,b4:()=>H,cX:()=>$,cy:()=>ue,f4:()=>L,ig:()=>_t,k7:()=>Pe,mj:()=>k,nQ:()=>nt,ol:()=>Ie,r8:()=>S,s$:()=>J,tS:()=>pe,v1:()=>Y,vR:()=>K,w7:()=>ce});const C="client_info_decoding_error",f="client_info_empty_error",R="token_parsing_error",O="null_or_empty_token",E="endpoints_resolution_error",I="network_error",v="openid_config_error",H="hash_not_deserialized",S="invalid_state",V="state_mismatch",N="state_not_found",K="nonce_mismatch",ce="auth_time_not_found",q="max_age_transpired",se="multiple_matching_tokens",D="multiple_matching_accounts",b="multiple_matching_appMetadata",j="request_cannot_be_made",Y="cannot_remove_empty_scope",L="cannot_append_scopeset",ne="empty_input_scopeset",le="device_code_polling_cancelled",pe="device_code_expired",F="device_code_unknown_error",m="no_account_in_silent_request",k="invalid_cache_record",x="invalid_cache_environment",$="no_account_found",ie="no_crypto_object",ue="unexpected_credential_type",me="invalid_assertion",Me="invalid_client_credential",J="token_refresh_required",nt="user_timeout_reached",rt="token_claims_cnf_required_for_signedjwt",He="authorization_code_missing_from_server_response",Ie="binding_key_not_removed",_t="end_session_endpoint_not_supported",Ot="key_id_missing",Tt="no_network_connectivity",Qe="user_canceled",Pe="missing_tenant_id_error",hn="method_not_implemented",Re="nested_app_auth_bridge_disabled"},8061:(Ee,Q,w)=>{w.d(Q,{ei:()=>I});var C=w(4191),f=w(1288);const R={[f.RV]:"A redirect URI is required for all calls, and none has been set.",[f.LB]:"Could not parse the given claims request object.",[f.Oz]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[f.yH]:"URL could not be parsed into appropriate segments.",[f.To]:"URL was empty or null.",[f.vE]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[f.z_]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[f.nm]:"Given claims parameter must be a stringified JSON object.",[f.dL]:"Token request was empty and not found in cache.",[f.$h]:"The logout request was null or undefined.",[f.d6]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[f.TU]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[f.E]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[f.zx]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[f.o_]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[f.dK]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[f.hI]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[f.U9]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[f.i1]:"Invalid authentication header provided",[f.qz]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[f.Ol]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[f.Hv]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class E extends C.l4{constructor(H){super(H,R[H]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,E.prototype)}}function I(v){return new E(v)}},1288:(Ee,Q,w)=>{w.d(Q,{$h:()=>V,E:()=>ce,Hv:()=>le,LB:()=>f,Ol:()=>ne,Oz:()=>R,RV:()=>C,TU:()=>K,To:()=>E,U9:()=>j,d6:()=>N,dK:()=>D,dL:()=>S,hI:()=>b,i1:()=>Y,nm:()=>H,o_:()=>se,qz:()=>L,vE:()=>I,yH:()=>O,z_:()=>v,zx:()=>q});const C="redirect_uri_empty",f="claims_request_parsing_error",R="authority_uri_insecure",O="url_parse_error",E="empty_url_error",I="empty_input_scopes_error",v="invalid_prompt_value",H="invalid_claims",S="token_request_empty",V="logout_request_empty",N="invalid_code_challenge_method",K="pkce_params_missing",ce="invalid_cloud_discovery_metadata",q="invalid_authority_metadata",se="untrusted_authority",D="missing_ssh_jwk",b="missing_ssh_kid",j="missing_nonce_authentication_header",Y="invalid_authentication_header",L="cannot_set_OIDCOptions",ne="cannot_allow_native_broker",le="authority_mismatch"},1635:(Ee,Q,w)=>{w.d(Q,{Cf:()=>S,Yo:()=>H,ip:()=>V});var C=w(9128),f=w(4191),R=w(1071);const O=[R.tZ,R.Mo,R.kk],E=["message_only","additional_action","basic_action","user_password_expired","consent_required"],I={[R.I2]:"No refresh token found in the cache. Please sign-in.",[R.QP]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API."};class H extends f.l4{constructor(K,ce,q,se,D,b,j){super(K,ce,q),Object.setPrototypeOf(this,H.prototype),this.timestamp=se||C.gT.EMPTY_STRING,this.traceId=D||C.gT.EMPTY_STRING,this.correlationId=b||C.gT.EMPTY_STRING,this.claims=j||C.gT.EMPTY_STRING,this.name="InteractionRequiredAuthError"}}function S(N,K,ce){const q=!!N&&O.indexOf(N)>-1,se=!!ce&&E.indexOf(ce)>-1,D=!!K&&O.some(b=>K.indexOf(b)>-1);return q||D||se}function V(N){return new H(N,I[N])}},1071:(Ee,Q,w)=>{w.d(Q,{I2:()=>C,Mo:()=>O,QP:()=>f,kk:()=>E,tZ:()=>R});const C="no_tokens_found",f="native_account_unavailable",R="interaction_required",O="consent_required",E="login_required"},1641:(Ee,Q,w)=>{w.d(Q,{n:()=>f});var C=w(4191);class f extends C.l4{constructor(O,E,I){super(O,E,I),this.name="ServerError",Object.setPrototypeOf(this,f.prototype)}}},2526:(Ee,Q,w)=>{w.d(Q,{Y:()=>R,i:()=>f});var C=w(9128),f=(()=>{return(O=f||(f={}))[O.Error=0]="Error",O[O.Warning=1]="Warning",O[O.Info=2]="Info",O[O.Verbose=3]="Verbose",O[O.Trace=4]="Trace",f;var O})();class R{constructor(E,I,v){this.level=f.Info;const S=E||R.createDefaultLoggerOptions();this.localCallback=S.loggerCallback||(()=>{}),this.piiLoggingEnabled=S.piiLoggingEnabled||!1,this.level="number"==typeof S.logLevel?S.logLevel:f.Info,this.correlationId=S.correlationId||C.gT.EMPTY_STRING,this.packageName=I||C.gT.EMPTY_STRING,this.packageVersion=v||C.gT.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:f.Info}}clone(E,I,v){return new R({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:v||this.correlationId},E,I)}logMessage(E,I){if(I.logLevel>this.level||!this.piiLoggingEnabled&&I.containsPii)return;const S=`[${(new Date).toUTCString()}] : [${I.correlationId||this.correlationId||""}] : ${this.packageName}@${this.packageVersion} : ${f[I.logLevel]} - ${E}`;this.executeCallback(I.logLevel,S,I.containsPii||!1)}executeCallback(E,I,v){this.localCallback&&this.localCallback(E,I,v)}error(E,I){this.logMessage(E,{logLevel:f.Error,containsPii:!1,correlationId:I||C.gT.EMPTY_STRING})}errorPii(E,I){this.logMessage(E,{logLevel:f.Error,containsPii:!0,correlationId:I||C.gT.EMPTY_STRING})}warning(E,I){this.logMessage(E,{logLevel:f.Warning,containsPii:!1,correlationId:I||C.gT.EMPTY_STRING})}warningPii(E,I){this.logMessage(E,{logLevel:f.Warning,containsPii:!0,correlationId:I||C.gT.EMPTY_STRING})}info(E,I){this.logMessage(E,{logLevel:f.Info,containsPii:!1,correlationId:I||C.gT.EMPTY_STRING})}infoPii(E,I){this.logMessage(E,{logLevel:f.Info,containsPii:!0,correlationId:I||C.gT.EMPTY_STRING})}verbose(E,I){this.logMessage(E,{logLevel:f.Verbose,containsPii:!1,correlationId:I||C.gT.EMPTY_STRING})}verbosePii(E,I){this.logMessage(E,{logLevel:f.Verbose,containsPii:!0,correlationId:I||C.gT.EMPTY_STRING})}trace(E,I){this.logMessage(E,{logLevel:f.Trace,containsPii:!1,correlationId:I||C.gT.EMPTY_STRING})}tracePii(E,I){this.logMessage(E,{logLevel:f.Trace,containsPii:!0,correlationId:I||C.gT.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}},8144:(Ee,Q,w)=>{w.d(Q,{i:()=>f,u:()=>C});const C="@azure/msal-common",f="14.5.0"},1267:(Ee,Q,w)=>{w.d(Q,{H:()=>v});var C=w(9128),f=w(9883),R=w(4226),O=w(8061),E=w(6680),I=w(1288);class v{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(f.yO,encodeURIComponent(C.gT.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(f.yO,encodeURIComponent(`${C.gT.TOKEN_RESPONSE_TYPE} ${C.gT.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(S){this.parameters.set(f.Lm,encodeURIComponent(S||C.vw.QUERY))}addNativeBroker(){this.parameters.set(f.O4,encodeURIComponent("1"))}addScopes(S,V=!0,N=C.f_){V&&!N.includes("openid")&&!S.includes("openid")&&N.push("openid");const K=V?[...S||[],...N]:S||[],ce=new R.i(K);this.parameters.set(f.IC,encodeURIComponent(ce.printScopes()))}addClientId(S){this.parameters.set(f.Cx,encodeURIComponent(S))}addRedirectUri(S){E.D.validateRedirectUri(S),this.parameters.set(f.He,encodeURIComponent(S))}addPostLogoutRedirectUri(S){E.D.validateRedirectUri(S),this.parameters.set(f.GQ,encodeURIComponent(S))}addIdTokenHint(S){this.parameters.set(f.ib,encodeURIComponent(S))}addDomainHint(S){this.parameters.set(f.RO,encodeURIComponent(S))}addLoginHint(S){this.parameters.set(f.US,encodeURIComponent(S))}addCcsUpn(S){this.parameters.set(C.SZ.CCS_HEADER,encodeURIComponent(`UPN:${S}`))}addCcsOid(S){this.parameters.set(C.SZ.CCS_HEADER,encodeURIComponent(`Oid:${S.uid}@${S.utid}`))}addSid(S){this.parameters.set(f.x5,encodeURIComponent(S))}addClaims(S,V){const N=this.addClientCapabilitiesToClaims(S,V);E.D.validateClaims(N),this.parameters.set(f.ct,encodeURIComponent(N))}addCorrelationId(S){this.parameters.set(f.nZ,encodeURIComponent(S))}addLibraryInfo(S){this.parameters.set(f.fC,S.sku),this.parameters.set(f.bJ,S.version),S.os&&this.parameters.set(f.Pe,S.os),S.cpu&&this.parameters.set(f.Rl,S.cpu)}addApplicationTelemetry(S){S?.appName&&this.parameters.set(f.zm,S.appName),S?.appVersion&&this.parameters.set(f.ki,S.appVersion)}addPrompt(S){E.D.validatePrompt(S),this.parameters.set(`${f.by}`,encodeURIComponent(S))}addState(S){S&&this.parameters.set(f.ed,encodeURIComponent(S))}addNonce(S){this.parameters.set(f.Im,encodeURIComponent(S))}addCodeChallengeParams(S,V){if(E.D.validateCodeChallengeParams(S,V),!S||!V)throw(0,O.ei)(I.TU);this.parameters.set(f.C2,encodeURIComponent(S)),this.parameters.set(f.DW,encodeURIComponent(V))}addAuthorizationCode(S){this.parameters.set(f.cO,encodeURIComponent(S))}addDeviceCode(S){this.parameters.set(f.q0,encodeURIComponent(S))}addRefreshToken(S){this.parameters.set(f.z6,encodeURIComponent(S))}addCodeVerifier(S){this.parameters.set(f.s4,encodeURIComponent(S))}addClientSecret(S){this.parameters.set(f.DN,encodeURIComponent(S))}addClientAssertion(S){S&&this.parameters.set(f.sI,encodeURIComponent(S))}addClientAssertionType(S){S&&this.parameters.set(f.RJ,encodeURIComponent(S))}addOboAssertion(S){this.parameters.set(f.hf,encodeURIComponent(S))}addRequestTokenUse(S){this.parameters.set(f.zl,encodeURIComponent(S))}addGrantType(S){this.parameters.set(f.ko,encodeURIComponent(S))}addClientInfo(){this.parameters.set(C.sR,"1")}addExtraQueryParameters(S){const V=E.D.sanitizeEQParams(S,this.parameters);Object.keys(V).forEach(N=>{this.parameters.set(N,S[N])})}addClientCapabilitiesToClaims(S,V){let N;if(S)try{N=JSON.parse(S)}catch{throw(0,O.ei)(I.nm)}else N={};return V&&V.length>0&&(N.hasOwnProperty(C.As.ACCESS_TOKEN)||(N[C.As.ACCESS_TOKEN]={}),N[C.As.ACCESS_TOKEN][C.As.XMS_CC]={values:V}),JSON.stringify(N)}addUsername(S){this.parameters.set(C.Ge.username,encodeURIComponent(S))}addPassword(S){this.parameters.set(C.Ge.password,encodeURIComponent(S))}addPopToken(S){S&&(this.parameters.set(f.KR,C.hO.POP),this.parameters.set(f.PY,encodeURIComponent(S)))}addSshJwk(S){S&&(this.parameters.set(f.KR,C.hO.SSH),this.parameters.set(f.PY,encodeURIComponent(S)))}addServerTelemetry(S){this.parameters.set(f.bP,S.generateCurrentRequestHeaderValue()),this.parameters.set(f.hR,S.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(f.j5,C.bb.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(S){this.parameters.set(f.PU,encodeURIComponent(S))}createQueryString(){const S=new Array;return this.parameters.forEach((V,N)=>{S.push(`${N}=${V}`)}),S.join("&")}}},6680:(Ee,Q,w)=>{w.d(Q,{D:()=>O});var C=w(8061),f=w(9128),R=w(1288);class O{static validateRedirectUri(I){if(!I)throw(0,C.ei)(R.RV)}static validatePrompt(I){const v=[];for(const H in f.NJ)v.push(f.NJ[H]);if(v.indexOf(I)<0)throw(0,C.ei)(R.z_)}static validateClaims(I){try{JSON.parse(I)}catch{throw(0,C.ei)(R.nm)}}static validateCodeChallengeParams(I,v){if(!I||!v)throw(0,C.ei)(R.TU);this.validateCodeChallengeMethod(v)}static validateCodeChallengeMethod(I){if([f.VX.PLAIN,f.VX.S256].indexOf(I)<0)throw(0,C.ei)(R.d6)}static sanitizeEQParams(I,v){return I?(v.forEach((H,S)=>{I[S]&&delete I[S]}),Object.fromEntries(Object.entries(I).filter(H=>""!==H[1]))):{}}}},4226:(Ee,Q,w)=>{w.d(Q,{i:()=>v});var C=w(8061),f=w(2007),R=w(464),O=w(9128),E=w(1288),I=w(322);class v{constructor(S){const V=S?f.x.trimArrayEntries([...S]):[],N=V?f.x.removeEmptyStringsFromArray(V):[];this.validateInputScopes(N),this.scopes=new Set,N.forEach(K=>this.scopes.add(K))}static fromString(S){const N=(S||O.gT.EMPTY_STRING).split(" ");return new v(N)}static createSearchScopes(S){const V=new v(S);return V.containsOnlyOIDCScopes()?V.removeScope(O.gT.OFFLINE_ACCESS_SCOPE):V.removeOIDCScopes(),V}validateInputScopes(S){if(!S||S.length<1)throw(0,C.ei)(E.vE)}containsScope(S){const V=this.printScopesLowerCase().split(" "),N=new v(V);return!!S&&N.scopes.has(S.toLowerCase())}containsScopeSet(S){return!(!S||S.scopes.size<=0)&&this.scopes.size>=S.scopes.size&&S.asArray().every(V=>this.containsScope(V))}containsOnlyOIDCScopes(){let S=0;return O.$f.forEach(V=>{this.containsScope(V)&&(S+=1)}),this.scopes.size===S}appendScope(S){S&&this.scopes.add(S.trim())}appendScopes(S){try{S.forEach(V=>this.appendScope(V))}catch{throw(0,R.zP)(I.f4)}}removeScope(S){if(!S)throw(0,R.zP)(I.v1);this.scopes.delete(S.trim())}removeOIDCScopes(){O.$f.forEach(S=>{this.scopes.delete(S)})}unionScopeSets(S){if(!S)throw(0,R.zP)(I.S);const V=new Set;return S.scopes.forEach(N=>V.add(N.toLowerCase())),this.scopes.forEach(N=>V.add(N.toLowerCase())),V}intersectingScopeSets(S){if(!S)throw(0,R.zP)(I.S);S.containsOnlyOIDCScopes()||S.removeOIDCScopes();const V=this.unionScopeSets(S),N=S.getScopeCount(),K=this.getScopeCount();return V.size<K+N}getScopeCount(){return this.scopes.size}asArray(){const S=[];return this.scopes.forEach(V=>S.push(V)),S}printScopes(){return this.scopes?this.asArray().join(" "):O.gT.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}},905:(Ee,Q,w)=>{w.d(Q,{$L:()=>f,Ak:()=>C});const C={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromiseMeasurement",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},f={NotStarted:0,InProgress:1,Completed:2}},3886:(Ee,Q,w)=>{w.d(Q,{G:()=>I});var C=w(8061),f=w(2007),R=w(9128),O=w(9218),E=w(1288);class I{get urlString(){return this._urlString}constructor(H){if(this._urlString=H,!this._urlString)throw(0,C.ei)(E.To);H.includes("#")||(this._urlString=I.canonicalizeUri(H))}static canonicalizeUri(H){if(H){let S=H.toLowerCase();return f.x.endsWith(S,"?")?S=S.slice(0,-1):f.x.endsWith(S,"?/")&&(S=S.slice(0,-2)),f.x.endsWith(S,"/")||(S+="/"),S}return H}validateAsUri(){let H;try{H=this.getUrlComponents()}catch{throw(0,C.ei)(E.yH)}if(!H.HostNameAndPort||!H.PathSegments)throw(0,C.ei)(E.yH);if(!H.Protocol||"https:"!==H.Protocol.toLowerCase())throw(0,C.ei)(E.Oz)}static appendQueryString(H,S){return S?H.indexOf("?")<0?`${H}?${S}`:`${H}&${S}`:H}static removeHashFromUrl(H){return I.canonicalizeUri(H.split("#")[0])}replaceTenantPath(H){const S=this.getUrlComponents(),V=S.PathSegments;return H&&0!==V.length&&(V[0]===R.Nb.COMMON||V[0]===R.Nb.ORGANIZATIONS)&&(V[0]=H),I.constructAuthorityUriFromObject(S)}getUrlComponents(){const H=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),S=this.urlString.match(H);if(!S)throw(0,C.ei)(E.yH);const V={Protocol:S[1],HostNameAndPort:S[4],AbsolutePath:S[5],QueryString:S[7]};let N=V.AbsolutePath.split("/");return N=N.filter(K=>K&&K.length>0),V.PathSegments=N,V.QueryString&&V.QueryString.endsWith("/")&&(V.QueryString=V.QueryString.substring(0,V.QueryString.length-1)),V}static getDomainFromUrl(H){const S=RegExp("^([^:/?#]+://)?([^/?#]*)"),V=H.match(S);if(!V)throw(0,C.ei)(E.yH);return V[2]}static getAbsoluteUrl(H,S){if(H[0]===R.gT.FORWARD_SLASH){const N=new I(S).getUrlComponents();return N.Protocol+"//"+N.HostNameAndPort+H}return H}static constructAuthorityUriFromObject(H){return new I(H.Protocol+"//"+H.HostNameAndPort+"/"+H.PathSegments.join("/"))}static hashContainsKnownProperties(H){return!!(0,O.F)(H)}}},9128:(Ee,Q,w)=>{w.d(Q,{$f:()=>O,As:()=>H,Bv:()=>se,D1:()=>k,Ge:()=>x,HN:()=>pe,NJ:()=>S,Nb:()=>v,QU:()=>ne,SZ:()=>E,To:()=>me,VX:()=>V,Vi:()=>I,W:()=>ie,YY:()=>$,bb:()=>m,ch:()=>L,d3:()=>D,dg:()=>j,f_:()=>R,gT:()=>C,hO:()=>F,iR:()=>q,ki:()=>ue,oj:()=>f,pQ:()=>le,qJ:()=>ce,rg:()=>N,sR:()=>Y,vw:()=>K,xd:()=>Me});const C={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},f={SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR_RANGE_START:400,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR_RANGE_START:500,SERVER_ERROR_RANGE_END:599},R=[C.OPENID_SCOPE,C.PROFILE_SCOPE,C.OFFLINE_ACCESS_SCOPE],O=[...R,C.EMAIL_SCOPE],E={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},I={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},v={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},H={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},S={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},V={PLAIN:"plain",S256:"S256"},N={QUERY:"query",FRAGMENT:"fragment"},K={...N,FORM_POST:"form_post"},ce={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},q={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},se={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},D={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},j="appmetadata",Y="client_info",L="1",ne={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400},le={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},pe={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},F={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},m={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},k={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},x={username:"username",password:"password"},$={httpSuccess:200,httpBadRequest:400},ie={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},ue={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},me={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},Me={Jwt:"JWT",Jwk:"JWK",Pop:"pop"}},9312:(Ee,Q,w)=>{w.d(Q,{d:()=>C,i:()=>f});const C=(R,O,E,I,v)=>(...H)=>{E.trace(`Executing function ${O}`);const S=I?.startMeasurement(O,v);try{const V=R(...H);return S?.end({success:!0}),E.trace(`Returning result from ${O}`),V}catch(V){E.trace(`Error occurred in ${O}`);try{E.trace(JSON.stringify(V))}catch{E.trace("Unable to print error message.")}throw S?.end({success:!1}),V}},f=(R,O,E,I,v)=>(...H)=>{E.trace(`Executing function ${O}`);const S=I?.startMeasurement(O,v);return I?.setPreQueueTime(O,v),R(...H).then(V=>(E.trace(`Returning result from ${O}`),S?.end({success:!0}),V)).catch(V=>{E.trace(`Error occurred in ${O}`);try{E.trace(JSON.stringify(V))}catch{E.trace("Unable to print error message.")}throw S?.end({success:!1}),V})}},2007:(Ee,Q,w)=>{w.d(Q,{x:()=>C});class C{static isEmptyObj(R){if(R)try{const O=JSON.parse(R);return 0===Object.keys(O).length}catch{}return!0}static startsWith(R,O){return 0===R.indexOf(O)}static endsWith(R,O){return R.length>=O.length&&R.lastIndexOf(O)===R.length-O.length}static queryStringToObject(R){const O={},E=R.split("&"),I=v=>decodeURIComponent(v.replace(/\+/g," "));return E.forEach(v=>{if(v.trim()){const[H,S]=v.split(/=(.+)/g,2);H&&S&&(O[I(H)]=I(S))}}),O}static trimArrayEntries(R){return R.map(O=>O.trim())}static removeEmptyStringsFromArray(R){return R.filter(O=>!!O)}static jsonParseHelper(R){try{return JSON.parse(R)}catch{return null}}static matchPattern(R,O){return new RegExp(R.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(O)}}},1530:(Ee,Q,w)=>{w.d(Q,{I:()=>C});class C{static nowSeconds(){return Math.round((new Date).getTime()/1e3)}static isTokenExpired(R,O){const E=Number(R)||0;return C.nowSeconds()+O>E}static wasClockTurnedBack(R){return Number(R)>C.nowSeconds()}static delay(R,O){return new Promise(E=>setTimeout(()=>E(O),R))}}},9218:(Ee,Q,w)=>{w.d(Q,{F:()=>O,q:()=>R});var C=w(464),f=w(322);function R(E){return E.startsWith("#/")?E.substring(2):E.startsWith("#")||E.startsWith("?")?E.substring(1):E}function O(E){if(!E||E.indexOf("=")<0)return null;try{const I=R(E),v=Object.fromEntries(new URLSearchParams(I));if(v.code||v.error||v.error_description||v.state)return v}catch{throw(0,C.zP)(f.b4)}return null}},5861:(Ee,Q,w)=>{function C(R,O,E,I,v,H,S){try{var V=R[H](S),N=V.value}catch(K){return void E(K)}V.done?O(N):Promise.resolve(N).then(I,v)}function f(R){return function(){var O=this,E=arguments;return new Promise(function(I,v){var H=R.apply(O,E);function S(N){C(H,I,v,S,V,"next",N)}function V(N){C(H,I,v,S,V,"throw",N)}S(void 0)})}}w.d(Q,{Z:()=>f})}},Ee=>{Ee(Ee.s=2514)}]);