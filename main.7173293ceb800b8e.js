"use strict";(self.webpackChunkPass=self.webpackChunkPass||[]).push([[179],{3193:(Ee,Q,w)=>{function v(e){return"function"==typeof e}function f(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const R=f(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function O(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class E{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(v(r))try{r()}catch(i){t=i instanceof R?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{H(i)}catch(s){t=t??[],s instanceof R?t=[...t,...s.errors]:t.push(s)}}if(t)throw new R(t)}}add(t){var n;if(t&&t!==this)if(this.closed)H(t);else{if(t instanceof E){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&O(n,t)}remove(t){const{_finalizers:n}=this;n&&O(n,t),t instanceof E&&t._removeParent(this)}}E.EMPTY=(()=>{const e=new E;return e.closed=!0,e})();const I=E.EMPTY;function C(e){return e instanceof E||e&&"closed"in e&&v(e.remove)&&v(e.add)&&v(e.unsubscribe)}function H(e){v(e)?e():e.unsubscribe()}const S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},V={setTimeout(e,t,...n){const{delegate:r}=V;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=V;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function N(e){V.setTimeout(()=>{const{onUnhandledError:t}=S;if(!t)throw e;t(e)})}function K(){}const ce=D("C",void 0,void 0);function D(e,t,n){return{kind:e,value:t,error:n}}let b=null;function j(e){if(S.useDeprecatedSynchronousErrorHandling){const t=!b;if(t&&(b={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=b;if(b=null,n)throw r}}else e()}class L extends E{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,C(t)&&t.add(this)):this.destination=$}static create(t,n,r){return new F(t,n,r)}next(t){this.isStopped?x(function se(e){return D("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?x(function q(e){return D("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?x(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ne=Function.prototype.bind;function le(e,t){return ne.call(e,t)}class pe{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){m(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){m(r)}else m(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){m(n)}}}class F extends L{constructor(t,n,r){let o;if(super(),v(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&S.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&le(t.next,i),error:t.error&&le(t.error,i),complete:t.complete&&le(t.complete,i)}):o=t}this.destination=new pe(o)}}function m(e){S.useDeprecatedSynchronousErrorHandling?function J(e){S.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=e)}(e):N(e)}function x(e,t){const{onStoppedNotification:n}=S;n&&V.setTimeout(()=>n(e,t))}const $={closed:!0,next:K,error:function k(e){throw e},complete:K},ie="function"==typeof Symbol&&Symbol.observable||"@@observable";function ue(e){return e}function Re(e){return 0===e.length?ue:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let Y=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function He(e){return e&&e instanceof L||function rt(e){return e&&v(e.next)&&v(e.error)&&v(e.complete)}(e)&&C(e)}(n)?n:new F(n,r,o);return j(()=>{const{operator:s,source:l}=this;i.add(s?s.call(i,l):l?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=nt(r))((o,i)=>{const s=new F({next:l=>{try{n(l)}catch(d){i(d),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ie](){return this}pipe(...n){return Re(n)(this)}toPromise(n){return new(n=nt(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function nt(e){var t;return null!==(t=e??S.Promise)&&void 0!==t?t:Promise}const Te=f(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let lt=(()=>{class e extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Pt(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Te}next(n){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?I:(this.currentObservers=null,i.push(n),new E(()=>{this.currentObservers=null,O(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new Y;return n.source=this,n}}return e.create=(t,n)=>new Pt(t,n),e})();class Pt extends lt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:I}}function wt(e){return v(e?.lift)}function qe(e){return t=>{if(wt(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pe(e,t,n,r,o){return new yn(e,t,n,r,o)}class yn extends L{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(l){try{n(l)}catch(d){t.error(d)}}:super._next,this._error=o?function(l){try{o(l)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function we(e,t){return qe((n,r)=>{let o=0;n.subscribe(Pe(r,i=>{r.next(e.call(t,i,o++))}))})}function Kt(e){return this instanceof Kt?(this.v=e,this):new Kt(e)}function va(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function ya(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(l,d){!function o(i,s,l,d){Promise.resolve(d).then(function(h){i({value:h,done:l})},s)}(l,d,(s=e[i](s)).done,s.value)})}}}const Hi=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ia(e){return v(e?.then)}function Oo(e){return v(e[ie])}function gr(e){return Symbol.asyncIterator&&v(e?.[Symbol.asyncIterator])}function Aa(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const wa=function Ta(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bi(e){return v(e?.[wa])}function Sa(e){return function Fi(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(M){r[M]&&(o[M]=function(P){return new Promise(function(B,W){i.push([M,P,B,W])>1||l(M,P)})})}function l(M,P){try{!function d(M){M.value instanceof Kt?Promise.resolve(M.value.v).then(h,g):_(i[0][2],M)}(r[M](P))}catch(B){_(i[0][3],B)}}function h(M){l("next",M)}function g(M){l("throw",M)}function _(M,P){M(P),i.shift(),i.length&&l(i[0][0],i[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Kt(n.read());if(o)return yield Kt(void 0);yield yield Kt(r)}}finally{n.releaseLock()}})}function Da(e){return v(e?.getReader)}function Wt(e){if(e instanceof Y)return e;if(null!=e){if(Oo(e))return function Wl(e){return new Y(t=>{const n=e[ie]();if(v(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Hi(e))return function ql(e){return new Y(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Ia(e))return function Zl(e){return new Y(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,N)})}(e);if(gr(e))return ba(e);if(Bi(e))return function Yl(e){return new Y(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Da(e))return function Vn(e){return ba(Sa(e))}(e)}throw Aa(e)}function ba(e){return new Y(t=>{(function zr(e,t){var n,r,o,i;return function Li(e,t,n,r){return new(n||(n=Promise))(function(i,s){function l(g){try{h(r.next(g))}catch(_){s(_)}}function d(g){try{h(r.throw(g))}catch(_){s(_)}}function h(g){g.done?i(g.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(g.value).then(l,d)}h((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=va(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function vn(e,t,n,r=0,o=!1){const i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Ct(e,t,n=1/0){return v(t)?Ct((r,o)=>we((i,s)=>t(r,i,o,s))(Wt(e(r,o))),n):("number"==typeof t&&(n=t),qe((r,o)=>function Vi(e,t,n,r,o,i,s,l){const d=[];let h=0,g=0,_=!1;const M=()=>{_&&!d.length&&!h&&t.complete()},P=W=>h<r?B(W):d.push(W),B=W=>{i&&t.next(W),h++;let te=!1;Wt(n(W,g++)).subscribe(Pe(t,oe=>{o?.(oe),i?P(oe):t.next(oe)},()=>{te=!0},void 0,()=>{if(te)try{for(h--;d.length&&h<r;){const oe=d.shift();s?vn(t,s,()=>B(oe)):B(oe)}M()}catch(oe){t.error(oe)}}))};return e.subscribe(Pe(t,P,()=>{_=!0,M()})),()=>{l?.()}}(r,o,e,n)))}function mr(e=1/0){return Ct(ue,e)}const nn=new Y(e=>e.complete());function Po(e){return e&&v(e.schedule)}function Gr(e){return e[e.length-1]}function $i(e){return v(Gr(e))?e.pop():void 0}function uo(e){return Po(Gr(e))?e.pop():void 0}function ji(e,t=0){return qe((n,r)=>{n.subscribe(Pe(r,o=>vn(r,e,()=>r.next(o),t),()=>vn(r,e,()=>r.complete(),t),o=>vn(r,e,()=>r.error(o),t)))})}function Ma(e,t=0){return qe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function No(e,t){if(!e)throw new Error("Iterable cannot be null");return new Y(n=>{vn(n,t,()=>{const r=e[Symbol.asyncIterator]();vn(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function ze(e,t){return t?function tu(e,t){if(null!=e){if(Oo(e))return function Ra(e,t){return Wt(e).pipe(Ma(t),ji(t))}(e,t);if(Hi(e))return function zi(e,t){return new Y(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Ia(e))return function Jl(e,t){return Wt(e).pipe(Ma(t),ji(t))}(e,t);if(gr(e))return No(e,t);if(Bi(e))return function Xl(e,t){return new Y(n=>{let r;return vn(n,t,()=>{r=e[wa](),vn(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>v(r?.return)&&r.return()})}(e,t);if(Da(e))return function eu(e,t){return No(Sa(e),t)}(e,t)}throw Aa(e)}(e,t):Wt(e)}function Gi(...e){const t=uo(e),n=function Ql(e,t){return"number"==typeof Gr(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Wt(r[0]):mr(n)(ze(r,t)):nn}function Ki(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new F({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function et(e){for(let t in e)if(e[t]===et)return t;throw Error("Could not find renamed property on target object.")}function Wi(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ot(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ot).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ho(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const re=et({__forward_ref__:et});function a(e){return e.__forward_ref__=a,e.toString=function(){return ot(this())},e}function c(e){return u(e)?e():e}function u(e){return"function"==typeof e&&e.hasOwnProperty(re)&&e.__forward_ref__===a}function p(e){return e&&!!e.\u0275providers}const A="https://g.co/ng/security#xss";class T extends Error{constructor(t,n){super(z(t,n)),this.code=t}}function z(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function U(e){return"string"==typeof e?e:null==e?"":String(e)}function ut(e,t){throw new T(-201,!1)}function Mn(e,t){null==e&&function Je(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ie(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function rn(e){return{providers:e.providers||[],imports:e.imports||[]}}function ka(e){return lp(e,Oa)||lp(e,dp)}function lp(e,t){return e.hasOwnProperty(t)?e[t]:null}function up(e){return e&&(e.hasOwnProperty(ru)||e.hasOwnProperty(kA))?e[ru]:null}const Oa=et({\u0275prov:et}),ru=et({\u0275inj:et}),dp=et({ngInjectableDef:et}),kA=et({ngInjectorDef:et});var be=(()=>((be=be||{})[be.Default=0]="Default",be[be.Host=1]="Host",be[be.Self=2]="Self",be[be.SkipSelf=4]="SkipSelf",be[be.Optional=8]="Optional",be))();let ou;function Rn(e){const t=ou;return ou=e,t}function hp(e,t,n){const r=ka(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&be.Optional?null:void 0!==t?t:void ut(ot(e))}const at=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Zi={},iu="__NG_DI_FLAG__",Pa="ngTempTokenPath",PA="ngTokenPath",NA=/\n/gm,xA="\u0275",fp="__source";let Yi;function Lo(e){const t=Yi;return Yi=e,t}function LA(e,t=be.Default){if(void 0===Yi)throw new T(-203,!1);return null===Yi?hp(e,void 0,t):Yi.get(e,t&be.Optional?null:void 0,t)}function me(e,t=be.Default){return(function OA(){return ou}()||LA)(c(e),t)}function je(e,t=be.Default){return me(e,Na(t))}function Na(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function su(e){const t=[];for(let n=0;n<e.length;n++){const r=c(e[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let o,i=be.Default;for(let s=0;s<r.length;s++){const l=r[s],d=FA(l);"number"==typeof d?-1===d?o=l.token:i|=d:o=l}t.push(me(o,i))}else t.push(me(r))}return t}function Qi(e,t){return e[iu]=t,e.prototype[iu]=t,e}function FA(e){return e[iu]}function _r(e){return{toString:e}.toString()}var er=(()=>((er=er||{})[er.OnPush=0]="OnPush",er[er.Default=1]="Default",er))(),tr=(()=>{return(e=tr||(tr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",tr;var e})();const vr={},Ze=[],xa=et({\u0275cmp:et}),au=et({\u0275dir:et}),cu=et({\u0275pipe:et}),gp=et({\u0275mod:et}),Cr=et({\u0275fac:et}),Ji=et({__NG_ELEMENT_ID__:et});let BA=0;function Er(e){return _r(()=>{const t=yp(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===er.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||tr.Emulated,id:"c"+BA++,styles:e.styles||Ze,_:null,schemas:e.schemas||null,tView:null};_p(n);const r=e.dependencies;return n.directiveDefs=La(r,!1),n.pipeDefs=La(r,!0),n})}function $A(e){return Xe(e)||Bt(e)}function jA(e){return null!==e}function Cn(e){return _r(()=>({type:e.type,bootstrap:e.bootstrap||Ze,declarations:e.declarations||Ze,imports:e.imports||Ze,exports:e.exports||Ze,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function mp(e,t){if(null==e)return vr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,t&&(t[o]=i)}return n}function ke(e){return _r(()=>{const t=yp(e);return _p(t),t})}function Xe(e){return e[xa]||null}function Bt(e){return e[au]||null}function sn(e){return e[cu]||null}function En(e,t){const n=e[gp]||null;if(!n&&!0===t)throw new Error(`Type ${ot(e)} does not have '\u0275mod' property.`);return n}function yp(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Ze,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mp(e.inputs,t),outputs:mp(e.outputs)}}function _p(e){e.features?.forEach(t=>t(e))}function La(e,t){if(!e)return null;const n=t?sn:$A;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(jA)}const Ir=0,fe=1,Fe=2,mt=3,$n=4,po=5,Vt=6,Uo=7,Et=8,Fa=9,Ua=10,Be=11,lu=12,Xi=13,vp=14,Ho=15,$t=16,es=17,Bo=18,nr=19,ts=20,Cp=21,ct=22,uu=1,Ep=2,Ha=7,Ba=8,Vo=9,Zt=10;function In(e){return Array.isArray(e)&&"object"==typeof e[uu]}function jn(e){return Array.isArray(e)&&!0===e[uu]}function du(e){return 0!=(4&e.flags)}function ns(e){return e.componentOffset>-1}function Va(e){return 1==(1&e.flags)}function zn(e){return!!e.template}function GA(e){return 0!=(256&e[Fe])}function go(e,t){return e.hasOwnProperty(Cr)?e[Cr]:null}class qA{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function kn(){return Tp}function Tp(e){return e.type.prototype.ngOnChanges&&(e.setInput=YA),ZA}function ZA(){const e=Sp(this),t=e?.current;if(t){const n=e.previous;if(n===vr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function YA(e,t,n,r){const o=this.declaredInputs[n],i=Sp(e)||function QA(e,t){return e[wp]=t}(e,{previous:vr,current:null}),s=i.current||(i.current={}),l=i.previous,d=l[o];s[o]=new qA(d&&d.currentValue,t,l===vr),e[r]=t}kn.ngInherit=!0;const wp="__ngSimpleChanges__";function Sp(e){return e[wp]||null}const On=function(e,t,n){},Dp="svg";function Lt(e){for(;Array.isArray(e);)e=e[Ir];return e}function $a(e,t){return Lt(t[e])}function An(e,t){return Lt(t[e.index])}function Mp(e,t){return e.data[t]}function an(e,t){const n=t[e];return In(n)?n:n[Ir]}function ja(e){return 64==(64&e[Fe])}function Wr(e,t){return null==t?null:e[t]}function Rp(e){e[Bo]=0}function fu(e,t){e[po]+=t;let n=e,r=e[mt];for(;null!==r&&(1===t&&1===n[po]||-1===t&&0===n[po]);)r[po]+=t,n=r,r=r[mt]}const Ne={lFrame:$p(null),bindingsEnabled:!0};function Op(){return Ne.bindingsEnabled}function X(){return Ne.lFrame.lView}function We(){return Ne.lFrame.tView}function Ft(){let e=xp();for(;null!==e&&64===e.type;)e=e.parent;return e}function xp(){return Ne.lFrame.currentTNode}function rr(e,t){const n=Ne.lFrame;n.currentTNode=e,n.isParent=t}function pu(){return Ne.lFrame.isParent}function jo(){return Ne.lFrame.bindingIndex++}function uT(e,t){const n=Ne.lFrame;n.bindingIndex=n.bindingRootIndex=e,mu(t)}function mu(e){Ne.lFrame.currentDirectiveIndex=e}function _u(e){Ne.lFrame.currentQueryIndex=e}function hT(e){const t=e[fe];return 2===t.type?t.declTNode:1===t.type?e[Vt]:null}function Bp(e,t,n){if(n&be.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||n&be.Host||(o=hT(i),null===o||(i=i[Ho],10&o.type))););if(null===o)return!1;t=o,e=i}const r=Ne.lFrame=Vp();return r.currentTNode=t,r.lView=e,!0}function vu(e){const t=Vp(),n=e[fe];Ne.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Vp(){const e=Ne.lFrame,t=null===e?null:e.child;return null===t?$p(e):t}function $p(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function jp(){const e=Ne.lFrame;return Ne.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const zp=jp;function Cu(){const e=jp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qt(){return Ne.lFrame.selectedIndex}function mo(e){Ne.lFrame.selectedIndex=e}function ht(){const e=Ne.lFrame;return Mp(e.tView,e.selectedIndex)}function za(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:g}=i;s&&(e.contentHooks??(e.contentHooks=[])).push(-n,s),l&&((e.contentHooks??(e.contentHooks=[])).push(n,l),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,l)),d&&(e.viewHooks??(e.viewHooks=[])).push(-n,d),h&&((e.viewHooks??(e.viewHooks=[])).push(n,h),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,h)),null!=g&&(e.destroyHooks??(e.destroyHooks=[])).push(n,g)}}function Ga(e,t,n){Wp(e,t,3,n)}function Ka(e,t,n,r){(3&e[Fe])===n&&Wp(e,t,n,r)}function Eu(e,t){let n=e[Fe];(3&n)===t&&(n&=2047,n+=1,e[Fe]=n)}function Wp(e,t,n,r){const i=r??-1,s=t.length-1;let l=0;for(let d=void 0!==r?65535&e[Bo]:0;d<s;d++)if("number"==typeof t[d+1]){if(l=t[d],null!=r&&l>=r)break}else t[d]<0&&(e[Bo]+=65536),(l<i||-1==i)&&(vT(e,n,t,d),e[Bo]=(4294901760&e[Bo])+d+2),d++}function vT(e,t,n,r){const o=n[r]<0,i=n[r+1],l=e[o?-n[r]:n[r]];if(o){if(e[Fe]>>11<e[Bo]>>16&&(3&e[Fe])===t){e[Fe]+=2048,On(4,l,i);try{i.call(l)}finally{On(5,l,i)}}}else{On(4,l,i);try{i.call(l)}finally{On(5,l,i)}}}const zo=-1;class os{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Au(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],s=n[r++],l=n[r++];e.setAttribute(t,s,l,i)}else{const i=o,s=n[++r];Zp(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function qp(e){return 3===e||4===e||6===e}function Zp(e){return 64===e.charCodeAt(0)}function is(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Yp(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Yp(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const l=e[i++];if("number"==typeof l){if(l===t){s=-1;break}if(l>t){s=i-1;break}}}for(;i<e.length;){const l=e[i];if("number"==typeof l)break;if(l===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}function Qp(e){return e!==zo}function Wa(e){return 32767&e}function qa(e,t){let n=function AT(e){return e>>16}(e),r=t;for(;n>0;)r=r[Ho],n--;return r}let Tu=!0;function Za(e){const t=Tu;return Tu=e,t}const Jp=255,Xp=5;let TT=0;const or={};function Ya(e,t){const n=eg(e,t);if(-1!==n)return n;const r=t[fe];r.firstCreatePass&&(e.injectorIndex=t.length,wu(r.data,e),wu(t,null),wu(r.blueprint,null));const o=Su(e,t),i=e.injectorIndex;if(Qp(o)){const s=Wa(o),l=qa(o,t),d=l[fe].data;for(let h=0;h<8;h++)t[i+h]=l[s+h]|d[s+h]}return t[i+8]=o,i}function wu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function eg(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Su(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=ag(o),null===r)return zo;if(n++,o=o[Ho],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return zo}function Du(e,t,n){!function wT(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ji)&&(r=n[Ji]),null==r&&(r=n[Ji]=TT++);const o=r&Jp;t.data[e+(o>>Xp)]|=1<<o}(e,t,n)}function tg(e,t,n){if(n&be.Optional||void 0!==e)return e;ut()}function ng(e,t,n,r){if(n&be.Optional&&void 0===r&&(r=null),!(n&(be.Self|be.Host))){const o=e[Fa],i=Rn(void 0);try{return o?o.get(t,r,n&be.Optional):hp(t,r,n&be.Optional)}finally{Rn(i)}}return tg(r,0,n)}function rg(e,t,n,r=be.Default,o){if(null!==e){if(1024&t[Fe]){const s=function RT(e,t,n,r,o){let i=e,s=t;for(;null!==i&&null!==s&&1024&s[Fe]&&!(256&s[Fe]);){const l=og(i,s,n,r|be.Self,or);if(l!==or)return l;let d=i.parent;if(!d){const h=s[Cp];if(h){const g=h.get(n,or,r);if(g!==or)return g}d=ag(s),s=s[Ho]}i=d}return o}(e,t,n,r,or);if(s!==or)return s}const i=og(e,t,n,r,or);if(i!==or)return i}return ng(t,n,r,o)}function og(e,t,n,r,o){const i=function bT(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ji)?e[Ji]:void 0;return"number"==typeof t?t>=0?t&Jp:MT:t}(n);if("function"==typeof i){if(!Bp(t,e,r))return r&be.Host?tg(o,0,r):ng(t,n,r,o);try{const s=i(r);if(null!=s||r&be.Optional)return s;ut()}finally{zp()}}else if("number"==typeof i){let s=null,l=eg(e,t),d=zo,h=r&be.Host?t[$t][Vt]:null;for((-1===l||r&be.SkipSelf)&&(d=-1===l?Su(e,t):t[l+8],d!==zo&&sg(r,!1)?(s=t[fe],l=Wa(d),t=qa(d,t)):l=-1);-1!==l;){const g=t[fe];if(ig(i,l,g.data)){const _=DT(l,t,n,s,r,h);if(_!==or)return _}d=t[l+8],d!==zo&&sg(r,t[fe].data[l+8]===h)&&ig(i,l,t)?(s=g,l=Wa(d),t=qa(d,t)):l=-1}}return o}function DT(e,t,n,r,o,i){const s=t[fe],l=s.data[e+8],g=function Qa(e,t,n,r,o){const i=e.providerIndexes,s=t.data,l=1048575&i,d=e.directiveStart,g=i>>20,M=o?l+g:e.directiveEnd;for(let P=r?l:l+g;P<M;P++){const B=s[P];if(P<d&&n===B||P>=d&&B.type===n)return P}if(o){const P=s[d];if(P&&zn(P)&&P.type===n)return d}return null}(l,s,n,null==r?ns(l)&&Tu:r!=s&&0!=(3&l.type),o&be.Host&&i===l);return null!==g?yo(t,s,g,l):or}function yo(e,t,n,r){let o=e[n];const i=t.data;if(function CT(e){return e instanceof os}(o)){const s=o;s.resolving&&function ve(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new T(-200,`Circular dependency in DI detected for ${e}${n}`)}(function G(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():U(e)}(i[n]));const l=Za(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?Rn(s.injectImpl):null;Bp(e,r,be.Default);try{o=e[n]=s.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function _T(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const s=Tp(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,s)}o&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,o),i&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t)}finally{null!==d&&Rn(d),Za(l),s.resolving=!1,zp()}}return o}function ig(e,t,n){return!!(n[t+(e>>Xp)]&1<<e)}function sg(e,t){return!(e&be.Self||e&be.Host&&t)}class Go{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return rg(this._tNode,this._lView,t,Na(r),n)}}function MT(){return new Go(Ft(),X())}function Ut(e){return _r(()=>{const t=e.prototype.constructor,n=t[Cr]||bu(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[Cr]||bu(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function bu(e){return u(e)?()=>{const t=bu(c(e));return t&&t()}:go(e)}function ag(e){const t=e[fe],n=t.type;return 2===n?t.declTNode:1===n?e[Vt]:null}const Wo="__parameters__";function Zo(e,t,n){return _r(()=>{const r=function Mu(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return l.annotation=s,l;function l(d,h,g){const _=d.hasOwnProperty(Wo)?d[Wo]:Object.defineProperty(d,Wo,{value:[]})[Wo];for(;_.length<=g;)_.push(null);return(_[g]=_[g]||[]).push(s),d}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class Ce{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _o(e,t){e.forEach(n=>Array.isArray(n)?_o(n,t):t(n))}function lg(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Xa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Tn(e,t,n){let r=Yo(e,t);return r>=0?e[1|r]=n:(r=~r,function NT(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function ku(e,t){const n=Yo(e,t);if(n>=0)return e[1|n]}function Yo(e,t){return function ug(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const ls=Qi(Zo("Optional"),8),us=Qi(Zo("SkipSelf"),4);var cn=(()=>((cn=cn||{})[cn.Important=1]="Important",cn[cn.DashCase=2]="DashCase",cn))();const Fu=new Map;let nw=0;const Hu="__ngContext__";function jt(e,t){In(t)?(e[Hu]=t[ts],function ow(e){Fu.set(e[ts],e)}(t)):e[Hu]=t}let Bu;function Vu(e,t){return Bu(e,t)}function ps(e){const t=e[mt];return jn(t)?t[mt]:t}function $u(e){return Rg(e[Xi])}function ju(e){return Rg(e[$n])}function Rg(e){for(;null!==e&&!jn(e);)e=e[$n];return e}function Jo(e,t,n,r,o){if(null!=r){let i,s=!1;jn(r)?i=r:In(r)&&(s=!0,r=r[Ir]);const l=Lt(r);0===e&&null!==n?null==o?Lg(t,n,l):vo(t,n,l,o||null,!0):1===e&&null!==n?vo(t,n,l,o||null,!0):2===e?function Yu(e,t,n){const r=rc(e,t);r&&function Tw(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,l,s):3===e&&t.destroyNode(l),null!=i&&function Dw(e,t,n,r,o){const i=n[Ha];i!==Lt(n)&&Jo(t,e,r,i,o);for(let l=Zt;l<n.length;l++){const d=n[l];gs(d[fe],d,e,t,r,i)}}(t,e,i,n,o)}}function Gu(e,t,n){return e.createElement(t,n)}function Og(e,t){const n=e[Vo],r=n.indexOf(t),o=t[mt];512&t[Fe]&&(t[Fe]&=-513,fu(o,-1)),n.splice(r,1)}function Ku(e,t){if(e.length<=Zt)return;const n=Zt+t,r=e[n];if(r){const o=r[es];null!==o&&o!==e&&Og(o,r),t>0&&(e[n-1][$n]=r[$n]);const i=Xa(e,Zt+t);!function mw(e,t){gs(e,t,t[Be],2,null,null),t[Ir]=null,t[Vt]=null}(r[fe],r);const s=i[nr];null!==s&&s.detachView(i[fe]),r[mt]=null,r[$n]=null,r[Fe]&=-65}return r}function Pg(e,t){if(!(128&t[Fe])){const n=t[Be];n.destroyNode&&gs(e,t,n,3,null,null),function vw(e){let t=e[Xi];if(!t)return Wu(e[fe],e);for(;t;){let n=null;if(In(t))n=t[Xi];else{const r=t[Zt];r&&(n=r)}if(!n){for(;t&&!t[$n]&&t!==e;)In(t)&&Wu(t[fe],t),t=t[mt];null===t&&(t=e),In(t)&&Wu(t[fe],t),n=t&&t[$n]}t=n}}(t)}}function Wu(e,t){if(!(128&t[Fe])){t[Fe]&=-65,t[Fe]|=128,function Aw(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof os)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const l=o[i[s]],d=i[s+1];On(4,l,d);try{d.call(l)}finally{On(5,l,d)}}else{On(4,o,i);try{i.call(o)}finally{On(5,o,i)}}}}}(e,t),function Iw(e,t){const n=e.cleanup,r=t[Uo];let o=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=n[i+1]];n[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();t[Uo]=null}}(e,t),1===t[fe].type&&t[Be].destroy();const n=t[es];if(null!==n&&jn(t[mt])){n!==t[mt]&&Og(n,t);const r=t[nr];null!==r&&r.detachView(e)}!function iw(e){Fu.delete(e[ts])}(t)}}function Ng(e,t,n){return function xg(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Ir];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=e.data[r.directiveStart+o];if(i===tr.None||i===tr.Emulated)return null}return An(r,n)}}(e,t.parent,n)}function vo(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Lg(e,t,n){e.appendChild(t,n)}function Fg(e,t,n,r,o){null!==r?vo(e,t,n,r,o):Lg(e,t,n)}function rc(e,t){return e.parentNode(t)}let qu,Xu,ac,Bg=function Hg(e,t,n){return 40&e.type?An(e,n):null};function oc(e,t,n,r){const o=Ng(e,r,t),i=t[Be],l=function Ug(e,t,n){return Bg(e,t,n)}(r.parent||t[Vt],r,t);if(null!=o)if(Array.isArray(n))for(let d=0;d<n.length;d++)Fg(i,o,n[d],l,!1);else Fg(i,o,n,l,!1);void 0!==qu&&qu(i,r,t,n,o)}function ic(e,t){if(null!==t){const n=t.type;if(3&n)return An(t,e);if(4&n)return Zu(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ic(e,r);{const o=e[t.index];return jn(o)?Zu(-1,o):Lt(o)}}if(32&n)return Vu(t,e)()||Lt(e[t.index]);{const r=$g(e,t);return null!==r?Array.isArray(r)?r[0]:ic(ps(e[$t]),r):ic(e,t.next)}}return null}function $g(e,t){return null!==t?e[$t][Vt].projection[t.projection]:null}function Zu(e,t){const n=Zt+e+1;if(n<t.length){const r=t[n],o=r[fe].firstChild;if(null!==o)return ic(r,o)}return t[Ha]}function Qu(e,t,n,r,o,i,s){for(;null!=n;){const l=r[n.index],d=n.type;if(s&&0===t&&(l&&jt(Lt(l),r),n.flags|=2),32!=(32&n.flags))if(8&d)Qu(e,t,n.child,r,o,i,!1),Jo(t,e,o,l,i);else if(32&d){const h=Vu(n,r);let g;for(;g=h();)Jo(t,e,o,g,i);Jo(t,e,o,l,i)}else 16&d?jg(e,t,r,n,o,i):Jo(t,e,o,l,i);n=s?n.projectionNext:n.next}}function gs(e,t,n,r,o,i){Qu(n,r,e.firstChild,t,o,i,!1)}function jg(e,t,n,r,o,i){const s=n[$t],d=s[Vt].projection[r.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++)Jo(t,e,o,d[h],i);else Qu(e,t,d,s[mt],o,i,!0)}function zg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Gg(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&Au(e,t,r),null!==o&&zg(e,t,o),null!==i&&function Mw(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}function Zg(e){return function ed(){if(void 0===ac&&(ac=null,at.trustedTypes))try{ac=at.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ac}()?.createScriptURL(e)||e}class Yg{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${A})`}}function qr(e){return e instanceof Yg?e.changingThisBreaksApplicationSecurity:e}function ms(e,t){const n=function Hw(e){return e instanceof Yg&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${A})`)}return n===t}const jw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var St=(()=>((St=St||{})[St.NONE=0]="NONE",St[St.HTML=1]="HTML",St[St.STYLE=2]="STYLE",St[St.SCRIPT=3]="SCRIPT",St[St.URL=4]="URL",St[St.RESOURCE_URL=5]="RESOURCE_URL",St))();function rm(e){const t=_s();return t?t.sanitize(St.URL,e)||"":ms(e,"URL")?qr(e):function td(e){return(e=String(e)).match(jw)?e:"unsafe:"+e}(U(e))}function om(e){const t=_s();if(t)return Zg(t.sanitize(St.RESOURCE_URL,e)||"");if(ms(e,"ResourceURL"))return Zg(qr(e));throw new T(904,!1)}function _s(){const e=X();return e&&e[lu]}const lc=new Ce("ENVIRONMENT_INITIALIZER"),sm=new Ce("INJECTOR",-1),am=new Ce("INJECTOR_DEF_TYPES");class cm{get(t,n=Zi){if(n===Zi){const r=new Error(`NullInjectorError: No provider for ${ot(t)}!`);throw r.name="NullInjectorError",r}return n}}function nS(...e){return{\u0275providers:lm(0,e),\u0275fromNgModule:!0}}function lm(e,...t){const n=[],r=new Set;let o;return _o(t,i=>{const s=i;id(s,n,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&um(o,n),n}function um(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];sd(o,i=>{t.push(i)})}}function id(e,t,n,r){if(!(e=c(e)))return!1;let o=null,i=up(e);const s=!i&&Xe(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const d=e.ngModule;if(i=up(d),!i)return!1;o=d}const l=r.has(o);if(s){if(l)return!1;if(r.add(o),s.dependencies){const d="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const h of d)id(h,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!l){let h;r.add(o);try{_o(i.imports,g=>{id(g,t,n,r)&&(h||(h=[]),h.push(g))})}finally{}void 0!==h&&um(h,t)}if(!l){const h=go(o)||(()=>new o);t.push({provide:o,useFactory:h,deps:Ze},{provide:am,useValue:o,multi:!0},{provide:lc,useValue:()=>me(o),multi:!0})}const d=i.providers;null==d||l||sd(d,g=>{t.push(g)})}}return o!==e&&void 0!==e.providers}function sd(e,t){for(let n of e)p(n)&&(n=n.\u0275providers),Array.isArray(n)?sd(n,t):t(n)}const rS=et({provide:String,useValue:et});function ad(e){return null!==e&&"object"==typeof e&&rS in e}function Co(e){return"function"==typeof e}const cd=new Ce("Set Injector scope."),uc={},iS={};let ld;function dc(){return void 0===ld&&(ld=new cm),ld}class Sr{}class fm extends Sr{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dd(t,s=>this.processProvider(s)),this.records.set(sm,ei(void 0,this)),o.has("environment")&&this.records.set(Sr,ei(void 0,this));const i=this.records.get(cd);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(am.multi,Ze,be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Lo(this),r=Rn(void 0);try{return t()}finally{Lo(n),Rn(r)}}get(t,n=Zi,r=be.Default){this.assertNotDestroyed(),r=Na(r);const o=Lo(this),i=Rn(void 0);try{if(!(r&be.SkipSelf)){let l=this.records.get(t);if(void 0===l){const d=function uS(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ce}(t)&&ka(t);l=d&&this.injectableDefInScope(d)?ei(ud(t),uc):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&be.Self?dc():this.parent).get(t,n=r&be.Optional&&n===Zi?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Pa]=s[Pa]||[]).unshift(ot(t)),o)throw s;return function UA(e,t,n,r){const o=e[Pa];throw t[fp]&&o.unshift(t[fp]),e.message=function HA(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==xA?e.slice(2):e;let o=ot(t);if(Array.isArray(t))o=t.map(ot).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let l=t[s];i.push(s+":"+("string"==typeof l?JSON.stringify(l):ot(l)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(NA,"\n  ")}`}("\n"+e.message,o,n,r),e[PA]=o,e[Pa]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{Rn(i),Lo(o)}}resolveInjectorInitializers(){const t=Lo(this),n=Rn(void 0);try{const r=this.get(lc.multi,Ze,be.Self);for(const o of r)o()}finally{Lo(t),Rn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ot(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(t){let n=Co(t=c(t))?t:c(t&&t.provide);const r=function aS(e){return ad(e)?ei(void 0,e.useValue):ei(pm(e),uc)}(t);if(Co(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=ei(void 0,uc,!0),o.factory=()=>su(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===uc&&(n.value=iS,n.value=n.factory()),"object"==typeof n.value&&n.value&&function lS(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=c(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function ud(e){const t=ka(e),n=null!==t?t.factory:go(e);if(null!==n)return n;if(e instanceof Ce)throw new T(204,!1);if(e instanceof Function)return function sS(e){const t=e.length;if(t>0)throw function cs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new T(204,!1);const n=function RA(e){return e&&(e[Oa]||e[dp])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new T(204,!1)}function pm(e,t,n){let r;if(Co(e)){const o=c(e);return go(o)||ud(o)}if(ad(e))r=()=>c(e.useValue);else if(function hm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...su(e.deps||[]));else if(function dm(e){return!(!e||!e.useExisting)}(e))r=()=>me(c(e.useExisting));else{const o=c(e&&(e.useClass||e.provide));if(!function cS(e){return!!e.deps}(e))return go(o)||ud(o);r=()=>new o(...su(e.deps))}return r}function ei(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function dd(e,t){for(const n of e)Array.isArray(n)?dd(n,t):n&&p(n)?dd(n.\u0275providers,t):t(n)}class dS{}class gm{}class fS{resolveComponentFactory(t){throw function hS(e){const t=Error(`No component factory found for ${ot(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let vs=(()=>{class e{}return e.NULL=new fS,e})();function pS(){return ti(Ft(),X())}function ti(e,t){return new wn(An(e,t))}let wn=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=pS,e})();class ym{}let Dr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function mS(){const e=X(),n=an(Ft().index,e);return(In(n)?n:e)[Be]}(),e})(),yS=(()=>{class e{}return e.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>null}),e})();class Cs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const _S=new Cs("15.2.10"),hd={},fd="ngOriginalError";function pd(e){return e[fd]}class ni{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&pd(t);for(;n&&pd(n);)n=pd(n);return n||null}}function _m(e){return e.ownerDocument.defaultView}function br(e){return e instanceof Function?e():e}function Cm(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}const Em="ng-template";function bS(e,t,n){let r=0,o=!0;for(;r<e.length;){let i=e[r++];if("string"==typeof i&&o){const s=e[r++];if(n&&"class"===i&&-1!==Cm(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function Im(e){return 4===e.type&&e.value!==Em}function MS(e,t,n){return t===(4!==e.type||n?e.value:Em)}function RS(e,t,n){let r=4;const o=e.attrs||[],i=function PS(e){for(let t=0;t<e.length;t++)if(qp(e[t]))return t;return e.length}(o);let s=!1;for(let l=0;l<t.length;l++){const d=t[l];if("number"!=typeof d){if(!s)if(4&r){if(r=2|1&r,""!==d&&!MS(e,d,n)||""===d&&1===t.length){if(Gn(r))return!1;s=!0}}else{const h=8&r?d:t[++l];if(8&r&&null!==e.attrs){if(!bS(e.attrs,h,n)){if(Gn(r))return!1;s=!0}continue}const _=kS(8&r?"class":d,o,Im(e),n);if(-1===_){if(Gn(r))return!1;s=!0;continue}if(""!==h){let M;M=_>i?"":o[_+1].toLowerCase();const P=8&r?M:null;if(P&&-1!==Cm(P,h,0)||2&r&&h!==M){if(Gn(r))return!1;s=!0}}}}else{if(!s&&!Gn(r)&&!Gn(d))return!1;if(s&&Gn(d))continue;s=!1,r=d|1&r}}return Gn(r)||s}function Gn(e){return 0==(1&e)}function kS(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let l=t[++o];for(;"string"==typeof l;)l=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function NS(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Am(e,t,n=!1){for(let r=0;r<t.length;r++)if(RS(e,t[r],n))return!0;return!1}function Tm(e,t){return e?":not("+t.trim()+")":t}function LS(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const l=e[++n];o+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Gn(s)&&(t+=Tm(i,o),o=""),r=s,i=i||!Gn(r);n++}return""!==o&&(t+=Tm(i,o)),t}const xe={};function Ye(e){wm(We(),X(),Qt()+e,!1)}function wm(e,t,n,r){if(!r)if(3==(3&t[Fe])){const i=e.preOrderCheckHooks;null!==i&&Ga(t,i,n)}else{const i=e.preOrderHooks;null!==i&&Ka(t,i,0,n)}mo(n)}function Mm(e,t=null,n=null,r){const o=Rm(e,t,n,r);return o.resolveInjectorInitializers(),o}function Rm(e,t=null,n=null,r,o=new Set){const i=[n||Ze,nS(e)];return r=r||("object"==typeof e?void 0:ot(e)),new fm(i,t||dc(),r||null,o)}let Kn=(()=>{class e{static create(n,r){if(Array.isArray(n))return Mm({name:""},r,n,"");{const o=n.name??"";return Mm({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=Zi,e.NULL=new cm,e.\u0275prov=Ie({token:e,providedIn:"any",factory:()=>me(sm)}),e.__NG_ELEMENT_ID__=-1,e})();function ee(e,t=be.Default){const n=X();return null===n?me(e,t):rg(Ft(),n,c(e),t)}function Um(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r+1];if(-1!==i){const s=e.data[i];_u(n[r]),s.contentQueries(2,t[i],i)}}}function fc(e,t,n,r,o,i,s,l,d,h,g){const _=t.blueprint.slice();return _[Ir]=o,_[Fe]=76|r,(null!==g||e&&1024&e[Fe])&&(_[Fe]|=1024),Rp(_),_[mt]=_[Ho]=e,_[Et]=n,_[Ua]=s||e&&e[Ua],_[Be]=l||e&&e[Be],_[lu]=d||e&&e[lu]||null,_[Fa]=h||e&&e[Fa]||null,_[Vt]=i,_[ts]=function rw(){return nw++}(),_[Cp]=g,_[$t]=2==t.type?e[$t]:_,_}function ii(e,t,n,r,o){let i=e.data[t];if(null===i)i=function vd(e,t,n,r,o){const i=xp(),s=pu(),d=e.data[t]=function cD(e,t,n,r,o,i){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=d),null!==i&&(s?null==i.child&&null!==d.parent&&(i.child=d):null===i.next&&(i.next=d,d.prev=i)),d}(e,t,n,r,o),function lT(){return Ne.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function rs(){const e=Ne.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return rr(i,!0),i}function Es(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Cd(e,t,n){vu(t);try{const r=e.viewQuery;null!==r&&Md(1,r,n);const o=e.template;null!==o&&Hm(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Um(e,t),e.staticViewQueries&&Md(2,e.viewQuery,n);const i=e.components;null!==i&&function iD(e,t){for(let n=0;n<t.length;n++)bD(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Fe]&=-5,Cu()}}function pc(e,t,n,r){const o=t[Fe];if(128!=(128&o)){vu(t);try{Rp(t),function Fp(e){return Ne.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Hm(e,t,n,2,r);const s=3==(3&o);if(s){const h=e.preOrderCheckHooks;null!==h&&Ga(t,h,null)}else{const h=e.preOrderHooks;null!==h&&Ka(t,h,0,null),Eu(t,0)}if(function SD(e){for(let t=$u(e);null!==t;t=ju(t)){if(!t[Ep])continue;const n=t[Vo];for(let r=0;r<n.length;r++){const o=n[r];512&o[Fe]||fu(o[mt],1),o[Fe]|=512}}}(t),function wD(e){for(let t=$u(e);null!==t;t=ju(t))for(let n=Zt;n<t.length;n++){const r=t[n],o=r[fe];ja(r)&&pc(o,r,o.template,r[Et])}}(t),null!==e.contentQueries&&Um(e,t),s){const h=e.contentCheckHooks;null!==h&&Ga(t,h)}else{const h=e.contentHooks;null!==h&&Ka(t,h,1),Eu(t,1)}!function rD(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)mo(~o);else{const i=o,s=n[++r],l=n[++r];uT(s,i),l(2,t[i])}}}finally{mo(-1)}}(e,t);const l=e.components;null!==l&&function oD(e,t){for(let n=0;n<t.length;n++)DD(e,t[n])}(t,l);const d=e.viewQuery;if(null!==d&&Md(2,d,r),s){const h=e.viewCheckHooks;null!==h&&Ga(t,h)}else{const h=e.viewHooks;null!==h&&Ka(t,h,2),Eu(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Fe]&=-41,512&t[Fe]&&(t[Fe]&=-513,fu(t[mt],-1))}finally{Cu()}}}function Hm(e,t,n,r,o){const i=Qt(),s=2&r;try{mo(-1),s&&t.length>ct&&wm(e,t,ct,!1),On(s?2:0,o),n(r,o)}finally{mo(i),On(s?3:1,o)}}function Ed(e,t,n){if(du(t)){const o=t.directiveEnd;for(let i=t.directiveStart;i<o;i++){const s=e.data[i];s.contentQueries&&s.contentQueries(1,n[i],i)}}}function Id(e,t,n){Op()&&(function gD(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;ns(n)&&function ID(e,t,n){const r=An(t,e),o=Bm(n),i=e[Ua],s=gc(e,fc(e,o,null,n.onPush?32:16,r,t,i,i.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Ya(n,t),jt(r,t);const s=n.initialInputs;for(let l=o;l<i;l++){const d=e.data[l],h=yo(t,e,l,n);jt(h,t),null!==s&&AD(0,l-o,h,d,0,s),zn(d)&&(an(n.index,t)[Et]=yo(t,e,l,n))}}(e,t,n,An(n,t)),64==(64&n.flags)&&Gm(e,t,n))}function Ad(e,t,n=An){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],l=-1===s?n(t,e):e[s];e[o++]=l}}}function Bm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Td(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Td(e,t,n,r,o,i,s,l,d,h){const g=ct+r,_=g+o,M=function sD(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:xe);return n}(g,_),P="function"==typeof h?h():h;return M[fe]={type:e,blueprint:M,template:n,queries:null,viewQuery:l,declTNode:t,data:M.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:d,consts:P,incompleteFirstPass:!1}}function $m(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const i=e[o];null===r?jm(n,t,o,i):r.hasOwnProperty(o)&&jm(n,t,r[o],i)}return n}function jm(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function wd(e,t,n,r){if(Op()){const o=null===r?null:{"":-1},i=function yD(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const s=n[i];if(Am(t,s.selectors,!1))if(r||(r=[]),zn(s))if(null!==s.findHostDirectiveDefs){const l=[];o=o||new Map,s.findHostDirectiveDefs(s,l,o),r.unshift(...l,s),Sd(e,t,l.length)}else r.unshift(s),Sd(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(e,n);let s,l;null===i?s=l=null:[s,l]=i,null!==s&&zm(e,t,n,s,o,l),o&&function _D(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new T(-301,!1);r.push(t[o],i)}}}(n,r,o)}n.mergedAttrs=is(n.mergedAttrs,n.attrs)}function zm(e,t,n,r,o,i){for(let h=0;h<r.length;h++)Du(Ya(n,t),e,r[h].type);!function CD(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let h=0;h<r.length;h++){const g=r[h];g.providersResolver&&g.providersResolver(g)}let s=!1,l=!1,d=Es(e,t,r.length,null);for(let h=0;h<r.length;h++){const g=r[h];n.mergedAttrs=is(n.mergedAttrs,g.hostAttrs),ED(e,n,t,d,g),vD(d,g,o),null!==g.contentQueries&&(n.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(n.flags|=64);const _=g.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),s=!0),!l&&(_.ngOnChanges||_.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),l=!0),d++}!function lD(e,t,n){const o=t.directiveEnd,i=e.data,s=t.attrs,l=[];let d=null,h=null;for(let g=t.directiveStart;g<o;g++){const _=i[g],M=n?n.get(_):null,B=M?M.outputs:null;d=$m(_.inputs,g,d,M?M.inputs:null),h=$m(_.outputs,g,h,B);const W=null===d||null===s||Im(t)?null:TD(d,g,s);l.push(W)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=8),d.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=l,t.inputs=d,t.outputs=h}(e,n,i)}function Gm(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=function dT(){return Ne.lFrame.currentDirectiveIndex}();try{mo(i);for(let l=r;l<o;l++){const d=e.data[l],h=t[l];mu(l),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&mD(d,h)}}finally{mo(-1),mu(s)}}function mD(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Sd(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function vD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;zn(t)&&(n[""]=e)}}function ED(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=go(o.type)),s=new os(i,zn(o),ee);e.blueprint[r]=s,n[r]=s,function fD(e,t,n,r,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const l=~t.index;(function pD(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=l&&s.push(l),s.push(n,r,i)}}(e,t,r,Es(e,n,o.hostVars,xe),o)}function ir(e,t,n,r,o,i){const s=An(e,t);!function Dd(e,t,n,r,o,i,s){if(null==i)e.removeAttribute(t,o,n);else{const l=null==s?U(i):s(i,r||"",o);e.setAttribute(t,o,l,n)}}(t[Be],s,i,e.value,n,r,o)}function AD(e,t,n,r,o,i){const s=i[t];if(null!==s){const l=r.setInput;for(let d=0;d<s.length;){const h=s[d++],g=s[d++],_=s[d++];null!==l?r.setInput(n,_,h,g):n[g]=_}}}function TD(e,t,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const s=e[i];for(let l=0;l<s.length;l+=2)if(s[l]===t){r.push(i,s[l+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Km(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function DD(e,t){const n=an(t,e);if(ja(n)){const r=n[fe];48&n[Fe]?pc(r,n,r.template,n[Et]):n[po]>0&&bd(n)}}function bd(e){for(let r=$u(e);null!==r;r=ju(r))for(let o=Zt;o<r.length;o++){const i=r[o];if(ja(i))if(512&i[Fe]){const s=i[fe];pc(s,i,s.template,i[Et])}else i[po]>0&&bd(i)}const n=e[fe].components;if(null!==n)for(let r=0;r<n.length;r++){const o=an(n[r],e);ja(o)&&o[po]>0&&bd(o)}}function bD(e,t){const n=an(t,e),r=n[fe];(function MD(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Cd(r,n,n[Et])}function gc(e,t){return e[Xi]?e[vp][$n]=t:e[Xi]=t,e[vp]=t,t}function mc(e){for(;e;){e[Fe]|=32;const t=ps(e);if(GA(e)&&!t)return e;e=t}return null}function yc(e,t,n,r=!0){const o=t[Ua];o.begin&&o.begin();try{pc(e,t,e.template,n)}catch(s){throw r&&Ym(t,s),s}finally{o.end&&o.end()}}function Md(e,t,n){_u(0),t(e,n)}function Wm(e){return e[Uo]||(e[Uo]=[])}function qm(e){return e.cleanup||(e.cleanup=[])}function Ym(e,t){const n=e[Fa],r=n?n.get(ni,null):null;r&&r.handleError(t)}function Rd(e,t,n,r,o){for(let i=0;i<n.length;){const s=n[i++],l=n[i++],d=t[s],h=e.data[s];null!==h.setInput?h.setInput(d,o,r,l):d[l]=o}}function _c(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const l=t[s];"number"==typeof l?i=l:1==i?o=ho(o,l):2==i&&(r=ho(r,l+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function vc(e,t,n,r,o=!1){for(;null!==n;){const i=t[n.index];if(null!==i&&r.push(Lt(i)),jn(i))for(let l=Zt;l<i.length;l++){const d=i[l],h=d[fe].firstChild;null!==h&&vc(d[fe],d,h,r)}const s=n.type;if(8&s)vc(e,t,n.child,r);else if(32&s){const l=Vu(n,t);let d;for(;d=l();)r.push(d)}else if(16&s){const l=$g(t,n);if(Array.isArray(l))r.push(...l);else{const d=ps(t[$t]);vc(d[fe],d,l,r,!0)}}n=o?n.projectionNext:n.next}return r}class Is{get rootNodes(){const t=this._lView,n=t[fe];return vc(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Et]}set context(t){this._lView[Et]=t}get destroyed(){return 128==(128&this._lView[Fe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[mt];if(jn(t)){const n=t[Ba],r=n?n.indexOf(this):-1;r>-1&&(Ku(t,r),Xa(n,r))}this._attachedToViewContainer=!1}Pg(this._lView[fe],this._lView)}onDestroy(t){!function Vm(e,t,n,r){const o=Wm(t);null===n?o.push(r):(o.push(n),e.firstCreatePass&&qm(e).push(r,o.length-1))}(this._lView[fe],this._lView,null,t)}markForCheck(){mc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fe]&=-65}reattach(){this._lView[Fe]|=64}detectChanges(){yc(this._lView[fe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _w(e,t){gs(e,t,t[Be],2,null,null)}(this._lView[fe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t}}class RD extends Is{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;yc(t[fe],t,t[Et],!1)}checkNoChanges(){}get context(){return null}}class Qm extends vs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Xe(t);return new As(n,this.ngModule)}}function Jm(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class OD{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Na(r);const o=this.injector.get(t,hd,r);return o!==hd||n===hd?o:this.parentInjector.get(t,n,r)}}class As extends gm{get inputs(){return Jm(this.componentDef.inputs)}get outputs(){return Jm(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function FS(e){return e.map(LS).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let i=(o=o||this.ngModule)instanceof Sr?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new OD(t,i):t,l=s.get(ym,null);if(null===l)throw new T(407,!1);const d=s.get(yS,null),h=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?function aD(e,t,n){return e.selectRootElement(t,n===tr.ShadowDom)}(h,r,this.componentDef.encapsulation):Gu(h,g,function kD(e){const t=e.toLowerCase();return"svg"===t?Dp:"math"===t?"math":null}(g)),M=this.componentDef.onPush?288:272,P=Td(0,null,null,1,0,null,null,null,null,null),B=fc(null,P,null,M,null,null,l,h,d,s,null);let W,te;vu(B);try{const oe=this.componentDef;let he,Z=null;oe.findHostDirectiveDefs?(he=[],Z=new Map,oe.findHostDirectiveDefs(oe,he,Z),he.push(oe)):he=[oe];const Se=function ND(e,t){const n=e[fe],r=ct;return e[r]=t,ii(n,r,2,"#host",null)}(B,_),Qe=function xD(e,t,n,r,o,i,s,l){const d=o[fe];!function LD(e,t,n,r){for(const o of e)t.mergedAttrs=is(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(_c(t,t.mergedAttrs,!0),null!==n&&Gg(r,n,t))}(r,e,t,s);const h=i.createRenderer(t,n),g=fc(o,Bm(n),null,n.onPush?32:16,o[e.index],e,i,h,l||null,null,null);return d.firstCreatePass&&Sd(d,e,r.length-1),gc(o,g),o[e.index]=g}(Se,_,oe,he,B,l,h);te=Mp(P,ct),_&&function UD(e,t,n,r){if(r)Au(e,n,["ng-version",_S.full]);else{const{attrs:o,classes:i}=function US(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Gn(o))break;o=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Au(e,n,o),i&&i.length>0&&zg(e,n,i.join(" "))}}(h,oe,_,r),void 0!==n&&function HD(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(te,this.ngContentSelectors,n),W=function FD(e,t,n,r,o,i){const s=Ft(),l=o[fe],d=An(s,o);zm(l,o,s,n,null,r);for(let g=0;g<n.length;g++)jt(yo(o,l,s.directiveStart+g,s),o);Gm(l,o,s),d&&jt(d,o);const h=yo(o,l,s.directiveStart+s.componentOffset,s);if(e[Et]=o[Et]=h,null!==i)for(const g of i)g(h,t);return Ed(l,s,e),h}(Qe,oe,he,Z,B,[BD]),Cd(P,B,null)}finally{Cu()}return new PD(this.componentType,W,ti(te,B),B,te)}}class PD extends dS{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=n,this.hostView=this.changeDetectorRef=new RD(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){const i=this._rootLView;Rd(i[fe],i,o,t,n),mc(an(this._tNode.index,i))}}get injector(){return new Go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function BD(){const e=Ft();za(X()[fe],e)}function tt(e){let t=function Xm(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(zn(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new T(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const s=e;s.inputs=kd(e.inputs),s.declaredInputs=kd(e.declaredInputs),s.outputs=kd(e.outputs);const l=o.hostBindings;l&&zD(e,l);const d=o.viewQuery,h=o.contentQueries;if(d&&$D(e,d),h&&jD(e,h),Wi(e.inputs,o.inputs),Wi(e.declaredInputs,o.declaredInputs),Wi(e.outputs,o.outputs),zn(o)&&o.data.animation){const g=e.data;g.animation=(g.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const l=i[s];l&&l.ngInherit&&l(e),l===tt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function VD(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=is(o.hostAttrs,n=is(n,o.hostAttrs))}}(r)}function kd(e){return e===vr?{}:e===Ze?[]:e}function $D(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function jD(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function zD(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function zt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ar(e,t,n,r){const o=X();return zt(o,jo(),t)&&(We(),ir(ht(),o,e,t,n,r)),ar}function Zr(e,t,n,r,o,i,s,l){const d=X(),h=We(),g=e+ct,_=h.firstCreatePass?function eb(e,t,n,r,o,i,s,l,d){const h=t.consts,g=ii(t,e,4,s||null,Wr(h,l));wd(t,n,g,Wr(h,d)),za(t,g);const _=g.tView=Td(2,g,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,g),_.queries=t.queries.embeddedTView(g)),g}(g,h,d,t,n,r,o,i,s):h.data[g];rr(_,!1);const M=d[Be].createComment("");oc(h,d,M,_),jt(M,d),gc(d,d[g]=Km(M,d,M,_)),Va(_)&&Id(h,d,_),null!=s&&Ad(d,_,l)}function Dt(e,t,n){const r=X();return zt(r,jo(),t)&&function Sn(e,t,n,r,o,i,s,l){const d=An(t,n);let g,h=t.inputs;!l&&null!=h&&(g=h[r])?(Rd(e,n,g,r,o),ns(t)&&function dD(e,t){const n=an(t,e);16&n[Fe]||(n[Fe]|=32)}(n,t.index)):3&t.type&&(r=function uD(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=s?s(o,t.value||"",r):o,i.setProperty(d,r,o))}(We(),ht(),r,e,t,r[Be],n,!1),Dt}function Pd(e,t,n,r,o){const s=o?"class":"style";Rd(e,n,t.inputs[s],s,r)}function ae(e,t,n,r){const o=X(),i=We(),s=ct+e,l=o[Be],d=i.firstCreatePass?function rb(e,t,n,r,o,i){const s=t.consts,d=ii(t,e,2,r,Wr(s,o));return wd(t,n,d,Wr(s,i)),null!==d.attrs&&_c(d,d.attrs,!1),null!==d.mergedAttrs&&_c(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(s,i,o,t,n,r):i.data[s],h=o[s]=Gu(l,t,function yT(){return Ne.lFrame.currentNamespace}()),g=Va(d);return rr(d,!0),Gg(l,h,d),32!=(32&d.flags)&&oc(i,o,h,d),0===function rT(){return Ne.lFrame.elementDepthCount}()&&jt(h,o),function oT(){Ne.lFrame.elementDepthCount++}(),g&&(Id(i,o,d),Ed(i,d,o)),null!==r&&Ad(o,d),ae}function ge(){let e=Ft();pu()?function gu(){Ne.lFrame.isParent=!1}():(e=e.parent,rr(e,!1));const t=e;!function iT(){Ne.lFrame.elementDepthCount--}();const n=We();return n.firstCreatePass&&(za(n,e),du(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ET(e){return 0!=(8&e.flags)}(t)&&Pd(n,t,X(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function IT(e){return 0!=(16&e.flags)}(t)&&Pd(n,t,X(),t.stylesWithoutHost,!1),ge}function ft(e,t,n,r){return ae(e,t,n,r),ge(),ft}function ws(e){return!!e&&"function"==typeof e.then}const Ld=function py(e){return!!e&&"function"==typeof e.subscribe};function it(e,t,n,r){const o=X(),i=We(),s=Ft();return function my(e,t,n,r,o,i,s){const l=Va(r),h=e.firstCreatePass&&qm(e),g=t[Et],_=Wm(t);let M=!0;if(3&r.type||s){const W=An(r,t),te=s?s(W):W,oe=_.length,he=s?Se=>s(Lt(Se[r.index])):r.index;let Z=null;if(!s&&l&&(Z=function ib(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const l=t[Uo],d=o[i+2];return l.length>d?l[d]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,r.index)),null!==Z)(Z.__ngLastListenerFn__||Z).__ngNextListenerFn__=i,Z.__ngLastListenerFn__=i,M=!1;else{i=_y(r,t,g,i,!1);const Se=n.listen(te,o,i);_.push(i,Se),h&&h.push(o,he,oe,oe+1)}}else i=_y(r,t,g,i,!1);const P=r.outputs;let B;if(M&&null!==P&&(B=P[o])){const W=B.length;if(W)for(let te=0;te<W;te+=2){const Qe=t[B[te]][B[te+1]].subscribe(i),Tt=_.length;_.push(i,Qe),h&&h.push(o,r.index,Tt,-(Tt+1))}}}(i,o,o[Be],s,e,t,r),it}function yy(e,t,n,r){try{return On(6,t,n),!1!==n(r)}catch(o){return Ym(e,o),!1}finally{On(7,t,n)}}function _y(e,t,n,r,o){return function i(s){if(s===Function)return r;mc(e.componentOffset>-1?an(e.index,t):t);let d=yy(t,n,r,s),h=i.__ngNextListenerFn__;for(;h;)d=yy(t,n,h,s)&&d,h=h.__ngNextListenerFn__;return o&&!1===d&&(s.preventDefault(),s.returnValue=!1),d}}function gi(e=1){return function fT(e){return(Ne.lFrame.contextLView=function pT(e,t){for(;e>0;)t=t[Ho],e--;return t}(e,Ne.lFrame.contextLView))[Et]}(e)}function Ic(e,t){return e<<17|t<<2}function Yr(e){return e>>17&32767}function Ud(e){return 2|e}function Io(e){return(131068&e)>>2}function Hd(e,t){return-131069&e|t<<2}function Bd(e){return 1|e}function by(e,t,n,r,o){const i=e[n+1],s=null===t;let l=r?Yr(i):Io(i),d=!1;for(;0!==l&&(!1===d||s);){const g=e[l+1];pb(e[l],t)&&(d=!0,e[l+1]=r?Bd(g):Ud(g)),l=r?Yr(g):Io(g)}d&&(e[n+1]=r?Ud(i):Bd(i))}function pb(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Yo(e,t)>=0}function Ac(e,t){return function Wn(e,t,n,r){const o=X(),i=We(),s=function Tr(e){const t=Ne.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);i.firstUpdatePass&&function Fy(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[Qt()],s=function Ly(e,t){return t>=e.expandoStartIndex}(e,n);(function Vy(e,t){return 0!=(e.flags&(t?8:16))})(i,r)&&null===t&&!s&&(t=!1),t=function Ab(e,t,n,r){const o=function yu(e){const t=Ne.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Ss(n=Vd(null,e,t,n,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=Vd(o,e,t,n,r),null===i){let d=function Tb(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Io(r))return e[Yr(r)]}(e,t,r);void 0!==d&&Array.isArray(d)&&(d=Vd(null,e,t,d[1],r),d=Ss(d,t.attrs,r),function wb(e,t,n,r){e[Yr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,d))}else i=function Sb(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=Ss(r,e[i].hostAttrs,n);return Ss(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function hb(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,l=Yr(s),d=Io(s);e[r]=n;let g,h=!1;if(Array.isArray(n)?(g=n[1],(null===g||Yo(n,g)>0)&&(h=!0)):g=n,o)if(0!==d){const M=Yr(e[l+1]);e[r+1]=Ic(M,l),0!==M&&(e[M+1]=Hd(e[M+1],r)),e[l+1]=function ub(e,t){return 131071&e|t<<17}(e[l+1],r)}else e[r+1]=Ic(l,0),0!==l&&(e[l+1]=Hd(e[l+1],r)),l=r;else e[r+1]=Ic(d,0),0===l?l=r:e[d+1]=Hd(e[d+1],r),d=r;h&&(e[r+1]=Ud(e[r+1])),by(e,g,r,!0),by(e,g,r,!1),function fb(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Yo(i,t)>=0&&(n[r+1]=Bd(n[r+1]))}(t,g,e,r,i),s=Ic(l,d),i?t.classBindings=s:t.styleBindings=s}(o,i,t,n,s,r)}}(i,e,s,r),t!==xe&&zt(o,s,t)&&function Hy(e,t,n,r,o,i,s,l){if(!(3&t.type))return;const d=e.data,h=d[l+1],g=function db(e){return 1==(1&e)}(h)?By(d,t,n,o,Io(h),s):void 0;Tc(g)||(Tc(i)||function lb(e){return 2==(2&e)}(h)&&(i=By(d,null,n,o,l,s)),function bw(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:cn.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=cn.Important),e.setStyle(n,r,o,i))}}(r,s,$a(Qt(),n),o,i))}(i,i.data[Qt()],o,o[Be],e,o[s+1]=function Rb(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ot(qr(e)))),e}(t,n),r,s)}(e,t,null,!0),Ac}function Vd(e,t,n,r,o){let i=null;const s=n.directiveEnd;let l=n.directiveStylingLast;for(-1===l?l=n.directiveStart:l++;l<s&&(i=t[l],r=Ss(r,i.hostAttrs,o),i!==e);)l++;return null!==e&&(n.directiveStylingLast=l),r}function Ss(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Tn(e,s,!!n||t[++i]))}return void 0===e?null:e}function By(e,t,n,r,o,i){const s=null===t;let l;for(;o>0;){const d=e[o],h=Array.isArray(d),g=h?d[1]:d,_=null===g;let M=n[o+1];M===xe&&(M=_?Ze:void 0);let P=_?ku(M,r):g===r?M:void 0;if(h&&!Tc(P)&&(P=ku(d,r)),Tc(P)&&(l=P,s))return l;const B=e[o+1];o=s?Yr(B):Io(B)}if(null!==t){let d=i?t.residualClasses:t.residualStyles;null!=d&&(l=ku(d,r))}return l}function Tc(e){return void 0!==e}function Ae(e,t=""){const n=X(),r=We(),o=e+ct,i=r.firstCreatePass?ii(r,o,1,t,null):r.data[o],s=n[o]=function zu(e,t){return e.createText(t)}(n[Be],t);oc(r,n,s,i),rr(i,!1)}function un(e){return wc("",e,""),un}function wc(e,t,n){const r=X(),o=function ai(e,t,n,r){return zt(e,jo(),n)?t+U(n)+r:xe}(r,e,t,n);return o!==xe&&function Mr(e,t,n){const r=$a(t,e);!function kg(e,t,n){e.setValue(t,n)}(e[Be],r,n)}(r,Qt(),o),wc}const _i="en-US";let l_=_i;function zd(e,t,n,r,o){if(e=c(e),Array.isArray(e))for(let i=0;i<e.length;i++)zd(e[i],t,n,r,o);else{const i=We(),s=X();let l=Co(e)?e:c(e.provide),d=pm(e);const h=Ft(),g=1048575&h.providerIndexes,_=h.directiveStart,M=h.providerIndexes>>20;if(Co(e)||!e.multi){const P=new os(d,o,ee),B=Kd(l,t,o?g:g+M,_);-1===B?(Du(Ya(h,s),i,l),Gd(i,e,t.length),t.push(l),h.directiveStart++,h.directiveEnd++,o&&(h.providerIndexes+=1048576),n.push(P),s.push(P)):(n[B]=P,s[B]=P)}else{const P=Kd(l,t,g+M,_),B=Kd(l,t,g,g+M),te=B>=0&&n[B];if(o&&!te||!o&&!(P>=0&&n[P])){Du(Ya(h,s),i,l);const oe=function qM(e,t,n,r,o){const i=new os(e,n,ee);return i.multi=[],i.index=t,i.componentProviders=0,N_(i,o,r&&!n),i}(o?WM:KM,n.length,o,r,d);!o&&te&&(n[B].providerFactory=oe),Gd(i,e,t.length,0),t.push(l),h.directiveStart++,h.directiveEnd++,o&&(h.providerIndexes+=1048576),n.push(oe),s.push(oe)}else Gd(i,e,P>-1?P:B,N_(n[o?B:P],d,!o&&r));!o&&r&&te&&n[B].componentProviders++}}}function Gd(e,t,n,r){const o=Co(t),i=function oS(e){return!!e.useClass}(t);if(o||i){const d=(i?c(t.useClass):t).prototype.ngOnDestroy;if(d){const h=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const g=h.indexOf(n);-1===g?h.push(n,[r,d]):h[g+1].push(r,d)}else h.push(n,d)}}}function N_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Kd(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function KM(e,t,n,r){return Wd(this.multi,[])}function WM(e,t,n,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,l=yo(n,n[fe],this.providerFactory.index,r);i=l.slice(0,s),Wd(o,i);for(let d=s;d<l.length;d++)i.push(l[d])}else i=[],Wd(o,i);return i}function Wd(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function dt(e,t=[]){return n=>{n.providersResolver=(r,o)=>function GM(e,t,n){const r=We();if(r.firstCreatePass){const o=zn(e);zd(n,r.data,r.blueprint,o,!0),zd(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class vi{}class x_{}class L_ extends vi{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qm(this);const r=En(t);this._bootstrapComponents=br(r.bootstrap),this._r3Injector=Rm(t,n,[{provide:vi,useValue:this},{provide:vs,useValue:this.componentFactoryResolver}],ot(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class qd extends x_{constructor(t){super(),this.moduleType=t}create(t){return new L_(this.moduleType,t)}}class YM extends vi{constructor(t,n,r){super(),this.componentFactoryResolver=new Qm(this),this.instance=null;const o=new fm([...t,{provide:vi,useValue:this},{provide:vs,useValue:this.componentFactoryResolver}],n||dc(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Rc(e,t,n=null){return new YM(e,t,n).injector}let QM=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=lm(0,n.type),o=r.length>0?Rc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,o)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Ie({token:e,providedIn:"environment",factory:()=>new e(me(Sr))}),e})();function F_(e){e.getStandaloneInjector=t=>t.get(QM).getOrCreateStandaloneInjector(e)}function Yd(e){return t=>{setTimeout(e,void 0,t)}}const _t=class AR extends lt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&"object"==typeof t){const d=t;o=d.next?.bind(d),i=d.error?.bind(d),s=d.complete?.bind(d)}this.__isAsync&&(i=Yd(i),o&&(o=Yd(o)),s&&(s=Yd(s)));const l=super.subscribe({next:o,error:i,complete:s});return t instanceof E&&t.add(l),l}};let Rr=(()=>{class e{}return e.__NG_ELEMENT_ID__=DR,e})();const wR=Rr,SR=class extends wR{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tView,o=fc(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);o[es]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[nr];return null!==s&&(o[nr]=s.createEmbeddedView(r)),Cd(r,o,t),new Is(o)}};function DR(){return function kc(e,t){return 4&e.type?new SR(t,e,ti(e,t)):null}(Ft(),X())}let Zn=(()=>{class e{}return e.__NG_ELEMENT_ID__=bR,e})();function bR(){return function Q_(e,t){let n;const r=t[e.index];if(jn(r))n=r;else{let o;if(8&e.type)o=Lt(r);else{const i=t[Be];o=i.createComment("");const s=An(e,t);vo(i,rc(i,s),o,function ww(e,t){return e.nextSibling(t)}(i,s),!1)}t[e.index]=n=Km(r,t,o,e),gc(t,n)}return new Z_(n,e,t)}(Ft(),X())}const MR=Zn,Z_=class extends MR{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ti(this._hostTNode,this._hostLView)}get injector(){return new Go(this._hostTNode,this._hostLView)}get parentInjector(){const t=Su(this._hostTNode,this._hostLView);if(Qp(t)){const n=qa(t,this._hostLView),r=Wa(t);return new Go(n[fe].data[r+8],n)}return new Go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Y_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=t.createEmbeddedView(n||{},i);return this.insert(s,o),s}createComponent(t,n,r,o,i){const s=t&&!function as(e){return"function"==typeof e}(t);let l;if(s)l=n;else{const _=n||{};l=_.index,r=_.injector,o=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef}const d=s?t:new As(Xe(t)),h=r||this.parentInjector;if(!i&&null==d.ngModule){const M=(s?h:this.parentInjector).get(Sr,null);M&&(i=M)}const g=d.create(h,o,void 0,i);return this.insert(g.hostView,l),g}insert(t,n){const r=t._lView,o=r[fe];if(function nT(e){return jn(e[mt])}(r)){const g=this.indexOf(t);if(-1!==g)this.detach(g);else{const _=r[mt],M=new Z_(_,_[Vt],_[mt]);M.detach(M.indexOf(t))}}const i=this._adjustIndex(n),s=this._lContainer;!function Cw(e,t,n,r){const o=Zt+r,i=n.length;r>0&&(n[o-1][$n]=t),r<i-Zt?(t[$n]=n[o],lg(n,Zt+r,t)):(n.push(t),t[$n]=null),t[mt]=n;const s=t[es];null!==s&&n!==s&&function Ew(e,t){const n=e[Vo];t[$t]!==t[mt][mt][$t]&&(e[Ep]=!0),null===n?e[Vo]=[t]:n.push(t)}(s,t);const l=t[nr];null!==l&&l.insertView(e),t[Fe]|=64}(o,r,s,i);const l=Zu(i,s),d=r[Be],h=rc(d,s[Ha]);return null!==h&&function yw(e,t,n,r,o,i){r[Ir]=o,r[Vt]=t,gs(e,r,n,1,o,i)}(o,s[Vt],d,r,h,l),t.attachToViewContainerRef(),lg(Jd(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Y_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Ku(this._lContainer,n);r&&(Xa(Jd(this._lContainer),n),Pg(r[fe],r))}detach(t){const n=this._adjustIndex(t,-1),r=Ku(this._lContainer,n);return r&&null!=Xa(Jd(this._lContainer),n)?new Is(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Y_(e){return e[Ba]}function Jd(e){return e[Ba]||(e[Ba]=[])}function Pc(...e){}const xs=new Ce("Application Initializer");let Nc=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Pc,this.reject=Pc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(ws(i))n.push(i);else if(Ld(i)){const s=new Promise((l,d)=>{i.subscribe({complete:l,error:d})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(me(xs,8))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ls=new Ce("AppId",{providedIn:"root",factory:function Av(){return`${lh()}${lh()}${lh()}`}});function lh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tv=new Ce("Platform Initializer"),xc=new Ce("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let r0=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const kr=new Ce("LocaleId",{providedIn:"root",factory:()=>je(kr,be.Optional|be.SkipSelf)||function o0(){return typeof $localize<"u"&&$localize.locale||_i}()});class a0{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let wv=(()=>{class e{compileModuleSync(n){return new qd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=br(En(n).declarations).reduce((s,l)=>{const d=Xe(l);return d&&s.push(new As(d)),s},[]);return new a0(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const u0=(()=>Promise.resolve(0))();function uh(e){typeof Zone>"u"?u0.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class vt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _t(!1),this.onMicrotaskEmpty=new _t(!1),this.onStable=new _t(!1),this.onError=new _t(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function d0(){let e=at.requestAnimationFrame,t=at.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function p0(e){const t=()=>{!function f0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(at,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,hh(e),e.isCheckStableRunning=!0,dh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),hh(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,l)=>{try{return bv(e),n.invokeTask(o,i,s,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),Mv(e)}},onInvoke:(n,r,o,i,s,l,d)=>{try{return bv(e),n.invoke(o,i,s,l,d)}finally{e.shouldCoalesceRunChangeDetection&&t(),Mv(e)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,hh(e),dh(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vt.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(vt.isInAngularZone())throw new T(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,h0,Pc,Pc);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const h0={};function dh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function hh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function bv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Mv(e){e._nesting--,dh(e)}class g0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _t,this.onMicrotaskEmpty=new _t,this.onStable=new _t,this.onError=new _t}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const Rv=new Ce(""),Lc=new Ce("");let gh,fh=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gh||(function m0(e){gh=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vt.assertNotInAngularZone(),uh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uh(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(me(vt),me(ph),me(Lc))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),ph=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return gh?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Or=!1;let Qr=null;const kv=new Ce("AllowMultipleToken"),mh=new Ce("PlatformDestroyListeners"),Ov=new Ce("appBootstrapListener");class Pv{constructor(t,n){this.name=t,this.token=n}}function xv(e,t,n=[]){const r=`Platform: ${t}`,o=new Ce(r);return(i=[])=>{let s=yh();if(!s||s.injector.get(kv,!1)){const l=[...n,...i,{provide:o,useValue:!0}];e?e(l):function v0(e){if(Qr&&!Qr.get(kv,!1))throw new T(400,!1);Qr=e;const t=e.get(Fv);(function Nv(e){const t=e.get(Tv,null);t&&t.forEach(n=>n())})(e)}(function Lv(e=[],t){return Kn.create({name:t,providers:[{provide:cd,useValue:"platform"},{provide:mh,useValue:new Set([()=>Qr=null])},...e]})}(l,r))}return function E0(e){const t=yh();if(!t)throw new T(401,!1);return t}()}}function yh(){return Qr?.get(Fv)??null}let Fv=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function Hv(e,t){let n;return n="noop"===e?new g0:("zone.js"===e?void 0:e)||new vt(t),n}(r?.ngZone,function Uv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:vt,useValue:o}];return o.run(()=>{const s=Kn.create({providers:i,parent:this.injector,name:n.moduleType.name}),l=n.create(s),d=l.injector.get(ni,null);if(!d)throw new T(402,!1);return o.runOutsideAngular(()=>{const h=o.onError.subscribe({next:g=>{d.handleError(g)}});l.onDestroy(()=>{Fc(this._modules,l),h.unsubscribe()})}),function Bv(e,t,n){try{const r=n();return ws(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(d,o,()=>{const h=l.injector.get(Nc);return h.runInitializers(),h.donePromise.then(()=>(function u_(e){Mn(e,"Expected localeId to be defined"),"string"==typeof e&&(l_=e.toLowerCase().replace(/_/g,"-"))}(l.injector.get(kr,_i)||_i),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const o=Vv({},r);return function y0(e,t,n){const r=new qd(n);return Promise.resolve(r)}(0,0,n).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(n){const r=n.injector.get(Fs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(mh,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(me(Kn))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Vv(e,t){return Array.isArray(t)?t.reduce(Vv,e):{...e,...t}}let Fs=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,o){this._zone=n,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new Y(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),s=new Y(l=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{vt.assertNotInAngularZone(),uh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{vt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{d.unsubscribe(),h.unsubscribe()}});this.isStable=Gi(i,s.pipe(function nu(e={}){const{connector:t=(()=>new lt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,l,d,h=0,g=!1,_=!1;const M=()=>{l?.unsubscribe(),l=void 0},P=()=>{M(),s=d=void 0,g=_=!1},B=()=>{const W=s;P(),W?.unsubscribe()};return qe((W,te)=>{h++,!_&&!g&&M();const oe=d=d??t();te.add(()=>{h--,0===h&&!_&&!g&&(l=Ki(B,o))}),oe.subscribe(te),!s&&h>0&&(s=new F({next:he=>oe.next(he),error:he=>{_=!0,M(),l=Ki(P,n,he),oe.error(he)},complete:()=>{g=!0,M(),l=Ki(P,r),oe.complete()}}),Wt(W).subscribe(s))})(i)}}()))}bootstrap(n,r){const o=n instanceof gm;if(!this._injector.get(Nc).done){!o&&function Fo(e){const t=Xe(e)||Bt(e)||sn(e);return null!==t&&t.standalone}(n);throw new T(405,Or)}let s;s=o?n:this._injector.get(vs).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const l=function _0(e){return e.isBoundToModule}(s)?void 0:this._injector.get(vi),h=s.create(Kn.NULL,[],r||s.selector,l),g=h.location.nativeElement,_=h.injector.get(Rv,null);return _?.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),Fc(this.components,h),_?.unregisterApplication(g)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Fc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Ov,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Fc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(me(vt),me(Sr),me(ni))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Fc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Uc=(()=>{class e{}return e.__NG_ELEMENT_ID__=T0,e})();function T0(e){return function w0(e,t,n){if(ns(e)&&!n){const r=an(e.index,t);return new Is(r,r)}return 47&e.type?new Is(t[$t],t):null}(Ft(),X(),16==(16&e))}const U0=xv(null,"core",[]);let H0=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(me(Fs))},e.\u0275mod=Cn({type:e}),e.\u0275inj=rn({}),e})();function Ii(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Ih=null;function Pr(){return Ih}class $0{}const dn=new Ce("DocumentToken");let Ah=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return function j0(){return me(Jv)}()},providedIn:"platform"}),e})();const z0=new Ce("Location Initialized");let Jv=(()=>{class e extends Ah{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pr().getBaseHref(this._doc)}onPopState(n){const r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){Xv()?this._history.pushState(n,r,o):this._location.hash=o}replaceState(n,r,o){Xv()?this._history.replaceState(n,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(me(dn))},e.\u0275prov=Ie({token:e,factory:function(){return function G0(){return new Jv(me(dn))}()},providedIn:"platform"}),e})();function Xv(){return!!window.history.pushState}function Th(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function eC(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Nr(e){return e&&"?"!==e[0]?"?"+e:e}let wo=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return je(nC)},providedIn:"root"}),e})();const tC=new Ce("appBaseHref");let nC=(()=>{class e extends wo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??je(dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Th(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Nr(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+Nr(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+Nr(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(me(Ah),me(tC,8))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),K0=(()=>{class e extends wo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Th(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Nr(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Nr(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(me(Ah),me(tC,8))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),Hs=(()=>{class e{constructor(n){this._subject=new _t,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Z0(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(eC(rC(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Nr(r))}normalize(n){return e.stripTrailingSlash(function q0(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,rC(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nr(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}}return e.normalizeQueryParams=Nr,e.joinWithSlash=Th,e.stripTrailingSlash=eC,e.\u0275fac=function(n){return new(n||e)(me(wo))},e.\u0275prov=Ie({token:e,factory:function(){return function W0(){return new Hs(me(wo))}()},providedIn:"root"}),e})();function rC(e){return e.replace(/\/index.html$/,"")}let Qc=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new Uk,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){mC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){mC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(ee(Zn),ee(Rr))},e.\u0275dir=ke({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Uk{constructor(){this.$implicit=null,this.ngIf=null}}function mC(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ot(t)}'.`)}let vC=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=rn({}),e})();const CC="browser";function EC(e){return e===CC}let hO=(()=>{class e{}return e.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>new fO(me(dn),window)}),e})();class fO{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function pO(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=IC(this.window.history)||IC(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function IC(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class $O extends $0{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Vh extends $O{static makeCurrent(){!function V0(e){Ih||(Ih=e)}(new Vh)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function jO(){return js=js||document.querySelector("base"),js?js.getAttribute("href"):null}();return null==n?null:function zO(e){el=el||document.createElement("a"),el.setAttribute("href",e);const t=el.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){js=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Ok(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,t)}}let el,js=null;const DC=new Ce("TRANSITION_ID"),KO=[{provide:xs,useFactory:function GO(e,t,n){return()=>{n.get(Nc).donePromise.then(()=>{const r=Pr(),o=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[DC,dn,Kn],multi:!0}];let qO=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();const tl=new Ce("EventManagerPlugins");let nl=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}addGlobalEventListener(n,r,o){return this._findPluginFor(r).addGlobalEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(me(tl),me(vt))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();class bC{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const o=Pr().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${n}`);return this.addEventListener(o,n,r)}}let MC=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const o=this.usageCount;let i=o.get(n)??0;return i+=r,i>0?o.set(n,i):o.delete(n),i}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),zs=(()=>{class e extends MC{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(i=>i.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const o=this.doc.createElement("style");o.textContent=r,n.appendChild(o);const i=this.styleRef.get(r);i?i.push(o):this.styleRef.set(r,[o])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(me(dn))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();const $h={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jh=/%COMP%/g,OC=new Ce("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function PC(e,t){return t.flat(100).map(n=>n.replace(jh,e))}function NC(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let zh=(()=>{class e{constructor(n,r,o,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=i,this.rendererByCompId=new Map,this.defaultRenderer=new Gh(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(n,r);return o instanceof FC?o.applyToHost(n):o instanceof Kh&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestory;switch(r.encapsulation){case tr.Emulated:i=new FC(s,l,r,this.appId,d);break;case tr.ShadowDom:return new tP(s,l,n,r);default:i=new Kh(s,l,r,d)}i.onDestroy=()=>o.delete(r.id),o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(me(nl),me(zs),me(Ls),me(OC))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();class Gh{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS($h[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(LC(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(LC(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const i=$h[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=$h[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(cn.DashCase|cn.Important)?t.style.setProperty(n,r,o&cn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&cn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,NC(r)):this.eventManager.addEventListener(t,n,NC(r))}}function LC(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class tP extends Gh{constructor(t,n,r,o){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=PC(o.id,o.styles);for(const s of i){const l=document.createElement("style");l.textContent=s,this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Kh extends Gh{constructor(t,n,r,o,i=r.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=PC(i,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class FC extends Kh{constructor(t,n,r,o,i){const s=o+"-"+r.id;super(t,n,r,i,s),this.contentAttr=function JO(e){return"_ngcontent-%COMP%".replace(jh,e)}(s),this.hostAttr=function XO(e){return"_nghost-%COMP%".replace(jh,e)}(s)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let nP=(()=>{class e extends bC{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}}return e.\u0275fac=function(n){return new(n||e)(me(dn))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();const UC=["alt","control","meta","shift"],rP={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oP={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let iP=(()=>{class e extends bC{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const i=e.parseEventName(r),s=e.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pr().onAndCancel(n,i.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=e._normalizeKey(r.pop());let s="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),s="code."),UC.forEach(h=>{const g=r.indexOf(h);g>-1&&(r.splice(g,1),s+=h+".")}),s+=i,0!=r.length||0===i.length)return null;const d={};return d.domEventName=o,d.fullKey=s,d}static matchEventFullKeyCode(n,r){let o=rP[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),UC.forEach(s=>{s!==o&&(0,oP[s])(n)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(me(dn))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();const lP=xv(U0,"browser",[{provide:xc,useValue:CC},{provide:Tv,useValue:function sP(){Vh.makeCurrent()},multi:!0},{provide:dn,useFactory:function cP(){return function Pw(e){Xu=e}(document),document},deps:[]}]),VC=new Ce(""),$C=[{provide:Lc,useClass:class WO{addToWindow(t){at.getAngularTestability=(r,o=!0)=>{const i=t.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},at.getAllAngularTestabilities=()=>t.getAllTestabilities(),at.getAllAngularRootElements=()=>t.getAllRootElements(),at.frameworkStabilizers||(at.frameworkStabilizers=[]),at.frameworkStabilizers.push(r=>{const o=at.getAllAngularTestabilities();let i=o.length,s=!1;const l=function(d){s=s||d,i--,0==i&&r(s)};o.forEach(function(d){d.whenStable(l)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Pr().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:Rv,useClass:fh,deps:[vt,ph,Lc]},{provide:fh,useClass:fh,deps:[vt,ph,Lc]}],jC=[{provide:cd,useValue:"root"},{provide:ni,useFactory:function aP(){return new ni},deps:[]},{provide:tl,useClass:nP,multi:!0,deps:[dn,vt,xc]},{provide:tl,useClass:iP,multi:!0,deps:[dn]},{provide:zh,useClass:zh,deps:[nl,zs,Ls,OC]},{provide:ym,useExisting:zh},{provide:MC,useExisting:zs},{provide:zs,useClass:zs,deps:[dn]},{provide:nl,useClass:nl,deps:[tl,vt]},{provide:class gO{},useClass:qO,deps:[]},[]];let uP=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Ls,useValue:n.appId},{provide:DC,useExisting:Ls},KO]}}}return e.\u0275fac=function(n){return new(n||e)(me(VC,12))},e.\u0275mod=Cn({type:e}),e.\u0275inj=rn({providers:[...jC,...$C],imports:[vC,H0]}),e})(),zC=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(me(dn))},e.\u0275prov=Ie({token:e,factory:function(n){let r=null;return r=n?new n:function hP(){return new zC(me(dn))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;var Xr=w(5861);function _e(...e){return ze(e,uo(e))}class _P extends E{constructor(t,n){super()}schedule(t,n=0){return this}}const rl={setInterval(e,t,...n){const{delegate:r}=rl;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=rl;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},Zh={now:()=>(Zh.delegate||Date).now(),delegate:void 0};class Gs{constructor(t,n=Gs.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Gs.now=Zh.now;const WC=new class CP extends Gs{constructor(t,n=Gs.now){super(t,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class vP extends _P{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return rl.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;rl.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,O(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),EP=WC;function Ks(...e){return function IP(){return mr(1)}()(ze(e,uo(e)))}function fn(e){return e<=0?()=>nn:qe((t,n)=>{let r=0;t.subscribe(Pe(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function qC(e){return we(()=>e)}function ZC(e,t){return t?n=>Ks(t.pipe(fn(1),function AP(){return qe((e,t)=>{e.subscribe(Pe(t,K))})}()),n.pipe(ZC(e))):Ct((n,r)=>e(n,r).pipe(fn(1),qC(n)))}function YC(e,t=WC){const n=function wP(e=0,t,n=EP){let r=-1;return null!=t&&(Po(t)?n=t:r=t),new Y(o=>{let i=function TP(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}(e,t);return ZC(()=>n)}function Nt(e,t,n){const r=v(e)||t||n?{next:e,error:t,complete:n}:e;return r?qe((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let l=!0;o.subscribe(Pe(i,d=>{var h;null===(h=r.next)||void 0===h||h.call(r,d),i.next(d)},()=>{var d;l=!1,null===(d=r.complete)||void 0===d||d.call(r),i.complete()},d=>{var h;l=!1,null===(h=r.error)||void 0===h||h.call(r,d),i.error(d)},()=>{var d,h;l&&(null===(d=r.unsubscribe)||void 0===d||d.call(r)),null===(h=r.finalize)||void 0===h||h.call(r)}))}):ue}var gt=w(8468),pn=w(6521);class SP{static getInteractionStatusFromEvent(t,n){switch(t.eventType){case pn.t.LOGIN_START:return gt.$H.Login;case pn.t.SSO_SILENT_START:return gt.$H.SsoSilent;case pn.t.ACQUIRE_TOKEN_START:if(t.interactionType===gt.s_.Redirect||t.interactionType===gt.s_.Popup)return gt.$H.AcquireToken;break;case pn.t.HANDLE_REDIRECT_START:return gt.$H.HandleRedirect;case pn.t.LOGOUT_START:return gt.$H.Logout;case pn.t.SSO_SILENT_SUCCESS:case pn.t.SSO_SILENT_FAILURE:if(n&&n!==gt.$H.SsoSilent)break;return gt.$H.None;case pn.t.LOGOUT_END:if(n&&n!==gt.$H.Logout)break;return gt.$H.None;case pn.t.HANDLE_REDIRECT_END:if(n&&n!==gt.$H.HandleRedirect)break;return gt.$H.None;case pn.t.LOGIN_SUCCESS:case pn.t.LOGIN_FAILURE:case pn.t.ACQUIRE_TOKEN_SUCCESS:case pn.t.ACQUIRE_TOKEN_FAILURE:case pn.t.RESTORE_FROM_BFCACHE:if(t.interactionType===gt.s_.Redirect||t.interactionType===gt.s_.Popup){if(n&&n!==gt.$H.Login&&n!==gt.$H.AcquireToken)break;return gt.$H.None}}return null}}var DP=w(6290),bP=w(3886),MP=w(6644);class RP extends lt{constructor(t=1/0,n=1/0,r=Zh){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=n.now();let l=0;for(let d=1;d<r.length&&r[d]<=s;d+=2)l=d;l&&r.splice(0,l+1)}}}class Fn extends lt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Lr(e,t){return v(t)?Ct(e,t,1):Ct(e,1)}function Fr(e){return qe((t,n)=>{let i,r=null,o=!1;r=t.subscribe(Pe(n,void 0,void 0,s=>{i=Wt(e(s,Fr(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}const ol=f(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:kP}=Array,{getPrototypeOf:OP,prototype:PP,keys:NP}=Object;function QC(e){if(1===e.length){const t=e[0];if(kP(t))return{args:t,keys:null};if(function xP(e){return e&&"object"==typeof e&&OP(e)===PP}(t)){const n=NP(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:LP}=Array;function Yh(e){return we(t=>function FP(e,t){return LP(t)?e(...t):e(t)}(e,t))}function JC(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function XC(...e){const t=uo(e),n=$i(e),{args:r,keys:o}=QC(e);if(0===r.length)return ze([],t);const i=new Y(function UP(e,t,n=ue){return r=>{eE(t,()=>{const{length:o}=e,i=new Array(o);let s=o,l=o;for(let d=0;d<o;d++)eE(t,()=>{const h=ze(e[d],t);let g=!1;h.subscribe(Pe(r,_=>{i[d]=_,g||(g=!0,l--),l||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,o?s=>JC(o,s):ue));return n?i.pipe(Yh(n)):i}function eE(e,t,n){e?vn(n,e,t):t()}function il(e){return new Y(t=>{Wt(e()).subscribe(t)})}function Ai(e,t){const n=v(e)?e:()=>e,r=o=>o.error(n());return new Y(t?o=>t.schedule(r,0,o):r)}function Qh(){return qe((e,t)=>{let n=null;e._refCount++;const r=Pe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class Jh extends Y{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,wt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new E;const n=this.getSubject();t.add(this.source.subscribe(Pe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=E.EMPTY)}return t}refCount(){return Qh()(this)}}function gn(e,t){return qe((n,r)=>{let o=null,i=0,s=!1;const l=()=>s&&!o&&r.complete();n.subscribe(Pe(r,d=>{o?.unsubscribe();let h=0;const g=i++;Wt(e(d,g)).subscribe(o=Pe(r,_=>r.next(t?t(d,_,g,h++):_),()=>{o=null,l()}))},()=>{s=!0,l()}))})}function mn(e,t){return qe((n,r)=>{let o=0;n.subscribe(Pe(r,i=>e.call(t,i,o++)&&r.next(i)))})}function sl(e){return qe((t,n)=>{let r=!1;t.subscribe(Pe(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function tE(e=BP){return qe((t,n)=>{let r=!1;t.subscribe(Pe(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function BP(){return new ol}function eo(e,t){const n=arguments.length>=2;return r=>r.pipe(e?mn((o,i)=>e(o,i,r)):ue,fn(1),n?sl(t):tE(()=>new ol))}function nE(e,t){return qe(function VP(e,t,n,r,o){return(i,s)=>{let l=n,d=t,h=0;i.subscribe(Pe(s,g=>{const _=h++;d=l?e(d,g,_):(l=!0,g),r&&s.next(d)},o&&(()=>{l&&s.next(d),s.complete()})))}}(e,t,arguments.length>=2,!0))}function Xh(e){return e<=0?()=>nn:qe((t,n)=>{let r=[];t.subscribe(Pe(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function rE(e,t){const n=arguments.length>=2;return r=>r.pipe(e?mn((o,i)=>e(o,i,r)):ue,Xh(1),n?sl(t):tE(()=>new ol))}function ef(e){return qe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Le="primary",Ws=Symbol("RouteTitle");class jP{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ti(e){return new jP(e)}function zP(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],l=e[i];if(s.startsWith(":"))o[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function ur(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!oE(e[o],t[o]))return!1;return!0}function oE(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}return e===t}function iE(e){return Array.prototype.concat.apply([],e)}function sE(e){return e.length>0?e[e.length-1]:null}function Ht(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function to(e){return Ld(e)?e:ws(e)?ze(Promise.resolve(e)):_e(e)}const al=!1,KP={exact:function lE(e,t,n){if(!So(e.segments,t.segments)||!cl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!lE(e.children[r],t.children[r],n))return!1;return!0},subset:uE},aE={exact:function WP(e,t){return ur(e,t)},subset:function qP(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>oE(e[n],t[n]))},ignored:()=>!0};function cE(e,t,n){return KP[n.paths](e.root,t.root,n.matrixParams)&&aE[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function uE(e,t,n){return dE(e,t,t.segments,n)}function dE(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!So(o,n)||t.hasChildren()||!cl(o,n,r))}if(e.segments.length===n.length){if(!So(e.segments,n)||!cl(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!uE(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!(So(e.segments,o)&&cl(e.segments,o,r)&&e.children[Le])&&dE(e.children[Le],t,i,r)}}function cl(e,t,n){return t.every((r,o)=>aE[n](e[o].parameters,r.parameters))}class no{constructor(t=new Ve([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ti(this.queryParams)),this._queryParamMap}toString(){return QP.serialize(this)}}class Ve{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Ht(n,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ll(this)}}class qs{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ti(this.parameters)),this._parameterMap}toString(){return pE(this)}}function So(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Zs=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return new tf},providedIn:"root"}),e})();class tf{parse(t){const n=new sN(t);return new no(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Ys(t.root,!0)}`,r=function eN(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(o=>`${ul(n)}=${ul(o)}`).join("&"):`${ul(n)}=${ul(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function JP(e){return encodeURI(e)}(t.fragment)}`:""}`}}const QP=new tf;function ll(e){return e.segments.map(t=>pE(t)).join("/")}function Ys(e,t){if(!e.hasChildren())return ll(e);if(t){const n=e.children[Le]?Ys(e.children[Le],!1):"",r=[];return Ht(e.children,(o,i)=>{i!==Le&&r.push(`${i}:${Ys(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function YP(e,t){let n=[];return Ht(e.children,(r,o)=>{o===Le&&(n=n.concat(t(r,o)))}),Ht(e.children,(r,o)=>{o!==Le&&(n=n.concat(t(r,o)))}),n}(e,(r,o)=>o===Le?[Ys(e.children[Le],!1)]:[`${o}:${Ys(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Le]?`${ll(e)}/${n[0]}`:`${ll(e)}/(${n.join("//")})`}}function hE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ul(e){return hE(e).replace(/%3B/gi,";")}function nf(e){return hE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dl(e){return decodeURIComponent(e)}function fE(e){return dl(e.replace(/\+/g,"%20"))}function pE(e){return`${nf(e.path)}${function XP(e){return Object.keys(e).map(t=>`;${nf(t)}=${nf(e[t])}`).join("")}(e.parameters)}`}const tN=/^[^\/()?;=#]+/;function hl(e){const t=e.match(tN);return t?t[0]:""}const nN=/^[^=?&#]+/,oN=/^[^&#]+/;class sN{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ve([],{}):new Ve([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Le]=new Ve(t,n)),r}parseSegment(){const t=hl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new T(4009,al);return this.capture(t),new qs(dl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=hl(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=hl(this.remaining);o&&(r=o,this.capture(r))}t[dl(n)]=dl(r)}parseQueryParam(t){const n=function rN(e){const t=e.match(nN);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function iN(e){const t=e.match(oN);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=fE(n),i=fE(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=hl(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new T(4010,al);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Le);const s=this.parseChildren();n[i]=1===Object.keys(s).length?s[Le]:new Ve([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new T(4011,al)}}function rf(e){return e.segments.length>0?new Ve([],{[Le]:e}):e}function fl(e){const t={};for(const r of Object.keys(e.children)){const i=fl(e.children[r]);(i.segments.length>0||i.hasChildren())&&(t[r]=i)}return function aN(e){if(1===e.numberOfChildren&&e.children[Le]){const t=e.children[Le];return new Ve(e.segments.concat(t.segments),t.children)}return e}(new Ve(e.segments,t))}function Do(e){return e instanceof no}const sf=!1;function cN(e,t,n,r,o){if(0===n.length)return wi(t.root,t.root,t.root,r,o);const i=function vE(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new _E(!0,0,e);let t=0,n=!1;const r=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const l={};return Ht(i.outlets,(d,h)=>{l[h]="string"==typeof d?d.split("/"):d}),[...o,{outlets:l}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((l,d)=>{0==d&&"."===l||(0==d&&""===l?n=!0:".."===l?t++:""!=l&&o.push(l))}),o):[...o,i]},[]);return new _E(n,t,r)}(n);return i.toRoot()?wi(t.root,t.root,new Ve([],{}),r,o):function s(d){const h=function uN(e,t,n,r){if(e.isAbsolute)return new Si(t.root,!0,0);if(-1===r)return new Si(n,n===t.root,0);return function CE(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new T(4005,sf&&"Invalid number of '../'");o=r.segments.length}return new Si(r,!1,o-i)}(n,r+(Qs(e.commands[0])?0:1),e.numberOfDoubleDots)}(i,t,e.snapshot?._urlSegment,d),g=h.processChildren?Di(h.segmentGroup,h.index,i.commands):af(h.segmentGroup,h.index,i.commands);return wi(t.root,h.segmentGroup,g,r,o)}(e.snapshot?._lastPathIndex)}function Qs(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Js(e){return"object"==typeof e&&null!=e&&e.outlets}function wi(e,t,n,r,o){let s,i={};r&&Ht(r,(d,h)=>{i[h]=Array.isArray(d)?d.map(g=>`${g}`):`${d}`}),s=e===t?n:yE(e,t,n);const l=rf(fl(s));return new no(l,i,o)}function yE(e,t,n){const r={};return Ht(e.children,(o,i)=>{r[i]=o===t?n:yE(o,t,n)}),new Ve(e.segments,r)}class _E{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Qs(r[0]))throw new T(4003,sf&&"Root segment cannot have matrix parameters");const o=r.find(Js);if(o&&o!==sE(r))throw new T(4004,sf&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Si{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function af(e,t,n){if(e||(e=new Ve([],{})),0===e.segments.length&&e.hasChildren())return Di(e,t,n);const r=function hN(e,t,n){let r=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;const s=e.segments[o],l=n[r];if(Js(l))break;const d=`${l}`,h=r<n.length-1?n[r+1]:null;if(o>0&&void 0===d)break;if(d&&h&&"object"==typeof h&&void 0===h.outlets){if(!IE(d,h,s))return i;r+=2}else{if(!IE(d,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const i=new Ve(e.segments.slice(0,r.pathIndex),{});return i.children[Le]=new Ve(e.segments.slice(r.pathIndex),e.children),Di(i,0,o)}return r.match&&0===o.length?new Ve(e.segments,{}):r.match&&!e.hasChildren()?cf(e,t,n):r.match?Di(e,0,o):cf(e,t,n)}function Di(e,t,n){if(0===n.length)return new Ve(e.segments,{});{const r=function dN(e){return Js(e[0])?e[0].outlets:{[Le]:e}}(n),o={};if(!r[Le]&&e.children[Le]&&1===e.numberOfChildren&&0===e.children[Le].segments.length){const i=Di(e.children[Le],t,n);return new Ve(e.segments,i.children)}return Ht(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=af(e.children[s],t,i))}),Ht(e.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Ve(e.segments,o)}}function cf(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const i=n[o];if(Js(i)){const d=fN(i.outlets);return new Ve(r,d)}if(0===o&&Qs(n[0])){r.push(new qs(e.segments[t].path,EE(n[0]))),o++;continue}const s=Js(i)?i.outlets[Le]:`${i}`,l=o<n.length-1?n[o+1]:null;s&&l&&Qs(l)?(r.push(new qs(s,EE(l))),o+=2):(r.push(new qs(s,{})),o++)}return new Ve(r,{})}function fN(e){const t={};return Ht(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=cf(new Ve([],{}),0,n))}),t}function EE(e){const t={};return Ht(e,(n,r)=>t[r]=`${n}`),t}function IE(e,t,n){return e==n.path&&ur(t,n.parameters)}const Xs="imperative";class dr{constructor(t,n){this.id=t,this.url=n}}class lf extends dr{constructor(t,n,r="imperative",o=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bo extends dr{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pl extends dr{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gl extends dr{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=16}}class uf extends dr{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pN extends dr{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gN extends dr{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mN extends dr{constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yN extends dr{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _N extends dr{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vN{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class CN{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class EN{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IN{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AN{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TN{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AE{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let DN=(()=>{class e{createUrlTree(n,r,o,i,s,l){return cN(n||r.root,o,i,s,l)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),MN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(t){return DN.\u0275fac(t)},providedIn:"root"}),e})();class TE{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=df(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=df(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=hf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return hf(t,this._root).map(n=>n.value)}}function df(e,t){if(e===t.value)return t;for(const n of t.children){const r=df(e,n);if(r)return r}return null}function hf(e,t){if(e===t.value)return[t];for(const n of t.children){const r=hf(e,n);if(r.length)return r.unshift(t),r}return[]}class Ur{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function bi(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class wE extends TE{constructor(t,n){super(t),this.snapshot=n,ff(this,t)}toString(){return this.snapshot.toString()}}function SE(e,t){const n=function RN(e,t){const s=new ml([],{},{},"",{},Le,t,null,e.root,-1,{});return new bE("",new Ur(s,[]))}(e,t),r=new Fn([new qs("",{})]),o=new Fn({}),i=new Fn({}),s=new Fn({}),l=new Fn(""),d=new Mi(r,o,s,l,i,Le,t,n.root);return d.snapshot=n.root,new wE(new Ur(d,[]),n)}class Mi{constructor(t,n,r,o,i,s,l,d){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=l,this.title=this.data?.pipe(we(h=>h[Ws]))??_e(void 0),this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(t=>Ti(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(t=>Ti(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DE(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const o=n[r],i=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function kN(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ml{get title(){return this.data?.[Ws]}constructor(t,n,r,o,i,s,l,d,h,g,_){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=l,this.routeConfig=d,this._urlSegment=h,this._lastPathIndex=g,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ti(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ti(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bE extends TE{constructor(t,n){super(n),this.url=t,ff(this,n)}toString(){return ME(this._root)}}function ff(e,t){t.value._routerState=e,t.children.forEach(n=>ff(e,n))}function ME(e){const t=e.children.length>0?` { ${e.children.map(ME).join(", ")} } `:"";return`${e.value}${t}`}function pf(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ur(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),ur(t.params,n.params)||e.params.next(n.params),function GP(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ur(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),ur(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function gf(e,t){const n=ur(e.params,t.params)&&function ZP(e,t){return So(e,t)&&e.every((n,r)=>ur(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||gf(e.parent,t.parent))}function ea(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function PN(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return ea(e,r,o);return ea(e,r)})}(e,t,n);return new Ur(r,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(l=>ea(e,l)),s}}const r=function NN(e){return new Mi(new Fn(e.url),new Fn(e.params),new Fn(e.queryParams),new Fn(e.fragment),new Fn(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>ea(e,i));return new Ur(r,o)}}const mf="ngNavigationCancelingError";function RE(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Do(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=kE(!1,0,t);return o.url=n,o.navigationBehaviorOptions=r,o}function kE(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[mf]=!0,r.cancellationCode=t,n&&(r.url=n),r}function OE(e){return PE(e)&&Do(e.url)}function PE(e){return e&&e[mf]}class xN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ta,this.attachRef=null}}let ta=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new xN,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const yl=!1;let yf=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Le,this.activateEvents=new _t,this.deactivateEvents=new _t,this.attachEvents=new _t,this.detachEvents=new _t,this.parentContexts=je(ta),this.location=je(Zn),this.changeDetector=je(Uc),this.environmentInjector=je(Sr)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,yl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,yl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,yl);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,yl);this._activatedRoute=n;const o=this.location,s=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new LN(n,l,o.injector);if(r&&function FN(e){return!!e.resolveComponentFactory}(r)){const h=r.resolveComponentFactory(s);this.activated=o.createComponent(h,o.length,d)}else this.activated=o.createComponent(s,{index:o.length,injector:d,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=ke({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kn]}),e})();class LN{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Mi?this.route:t===ta?this.childContexts:this.parent.get(t,n)}}let _f=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Er({type:e,selectors:[["ng-component"]],standalone:!0,features:[F_],decls:1,vars:0,template:function(n,r){1&n&&ft(0,"router-outlet")},dependencies:[yf],encapsulation:2}),e})();function NE(e,t){return e.providers&&!e._injector&&(e._injector=Rc(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Cf(e){const t=e.children&&e.children.map(Cf),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Le&&(n.component=_f),n}function Un(e){return e.outlet||Le}function xE(e,t){const n=e.filter(r=>Un(r)===t);return n.push(...e.filter(r=>Un(r)!==t)),n}function na(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class $N{constructor(t,n,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),pf(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=bi(n);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Ht(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=bi(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:l})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=bi(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const o=bi(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new TN(i.value.snapshot))}),t.children.length&&this.forwardEvent(new IN(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(pf(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),pf(l.route.value),this.activateChildRoutes(t,null,s.children)}else{const l=na(o.snapshot),d=l?.get(vs)??null;s.attachRef=null,s.route=o,s.resolver=d,s.injector=l,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class LE{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class _l{constructor(t,n){this.component=t,this.route=n}}function jN(e,t,n){const r=e._root;return ra(r,t?t._root:null,n,[r.value])}function Ri(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function MA(e){return null!==ka(e)}(e)?t.get(e):e:r}function ra(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=bi(t);return e.children.forEach(s=>{(function GN(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,l=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const d=function KN(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!So(e.url,t.url);case"pathParamsOrQueryParamsChange":return!So(e.url,t.url)||!ur(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gf(e,t)||!ur(e.queryParams,t.queryParams);default:return!gf(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);d?o.canActivateChecks.push(new LE(r)):(i.data=s.data,i._resolvedData=s._resolvedData),ra(e,t,i.component?l?l.children:null:n,r,o),d&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new _l(l.outlet.component,s))}else s&&oa(t,l,o),o.canActivateChecks.push(new LE(r)),ra(e,null,i.component?l?l.children:null:n,r,o)})(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Ht(i,(s,l)=>oa(s,n.getContext(l),o)),o}function oa(e,t,n){const r=bi(e),o=e.value;Ht(r,(i,s)=>{oa(i,o.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new _l(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function ia(e){return"function"==typeof e}function Ef(e){return e instanceof ol||"EmptyError"===e?.name}const vl=Symbol("INITIAL_VALUE");function ki(){return gn(e=>XC(e.map(t=>t.pipe(fn(1),function HP(...e){const t=uo(e);return qe((n,r)=>{(t?Ks(e,n,t):Ks(e,n)).subscribe(r)})}(vl)))).pipe(we(t=>{for(const n of t)if(!0!==n){if(n===vl)return vl;if(!1===n||n instanceof no)return n}return!0}),mn(t=>t!==vl),fn(1)))}function FE(e){return function ye(...e){return Re(e)}(Nt(t=>{if(Do(t))throw RE(0,t)}),we(t=>!0===t))}const If={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UE(e,t,n,r,o){const i=Af(e,t,n);return i.matched?function lx(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?_e(o.map(s=>{const l=Ri(s,e);return to(function JN(e){return e&&ia(e.canMatch)}(l)?l.canMatch(t,n):e.runInContext(()=>l(t,n)))})).pipe(ki(),FE()):_e(!0)}(r=NE(t,r),t,n).pipe(we(s=>!0===s?i:{...If})):_e(i)}function Af(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...If}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||zP)(n,e,t);if(!o)return{...If};const i={};Ht(o.posParams,(l,d)=>{i[d]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Cl(e,t,n,r){if(n.length>0&&function hx(e,t,n){return n.some(r=>El(e,t,r)&&Un(r)!==Le)}(e,n,r)){const i=new Ve(t,function dx(e,t,n,r){const o={};o[Le]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const i of n)if(""===i.path&&Un(i)!==Le){const s=new Ve([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,o[Un(i)]=s}return o}(e,t,r,new Ve(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function fx(e,t,n){return n.some(r=>El(e,t,r))}(e,n,r)){const i=new Ve(e.segments,function ux(e,t,n,r,o){const i={};for(const s of r)if(El(e,n,s)&&!o[Un(s)]){const l=new Ve([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,i[Un(s)]=l}return{...o,...i}}(e,t,n,r,e.children));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}const o=new Ve(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function El(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function HE(e,t,n,r){return!!(Un(e)===r||r!==Le&&El(t,n,e))&&("**"===e.path||Af(t,e,n).matched)}function BE(e,t,n){return 0===t.length&&!e.children[n]}const Il=!1;class Al{constructor(t){this.segmentGroup=t||null}}class VE{constructor(t){this.urlTree=t}}function sa(e){return Ai(new Al(e))}function $E(e){return Ai(new VE(e))}class yx{constructor(t,n,r,o,i){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const t=Cl(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ve(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Le).pipe(we(i=>this.createUrlTree(fl(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fr(i=>{if(i instanceof VE)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Al?this.noMatchError(i):i}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Le).pipe(we(o=>this.createUrlTree(fl(o),t.queryParams,t.fragment))).pipe(Fr(o=>{throw o instanceof Al?this.noMatchError(o):o}))}noMatchError(t){return new T(4002,Il)}createUrlTree(t,n,r){const o=rf(t);return new no(o,n,r)}expandSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(we(i=>new Ve([],i))):this.expandSegment(t,r,n,r.segments,o,!0)}expandChildren(t,n,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return ze(o).pipe(Lr(i=>{const s=r.children[i],l=xE(n,i);return this.expandSegmentGroup(t,l,s,i).pipe(we(d=>({segment:d,outlet:i})))}),nE((i,s)=>(i[s.outlet]=s.segment,i),{}),rE())}expandSegment(t,n,r,o,i,s){return ze(r).pipe(Lr(l=>this.expandSegmentAgainstRoute(t,n,r,l,o,i,s).pipe(Fr(h=>{if(h instanceof Al)return _e(null);throw h}))),eo(l=>!!l),Fr((l,d)=>{if(Ef(l))return BE(n,o,i)?_e(new Ve([],{})):sa(n);throw l}))}expandSegmentAgainstRoute(t,n,r,o,i,s,l){return HE(o,n,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,n,o,i,s):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s):sa(n):sa(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?$E(i):this.lineralizeSegments(r,i).pipe(Ct(s=>{const l=new Ve(s,{});return this.expandSegment(t,l,n,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s){const{matched:l,consumedSegments:d,remainingSegments:h,positionalParamSegments:g}=Af(n,o,i);if(!l)return sa(n);const _=this.applyRedirectCommands(d,o.redirectTo,g);return o.redirectTo.startsWith("/")?$E(_):this.lineralizeSegments(o,_).pipe(Ct(M=>this.expandSegment(t,n,r,M.concat(h),s,!1)))}matchSegmentAgainstRoute(t,n,r,o,i){return"**"===r.path?(t=NE(r,t),r.loadChildren?(r._loadedRoutes?_e({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(we(l=>(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,new Ve(o,{})))):_e(new Ve(o,{}))):UE(n,r,o,t).pipe(gn(({matched:s,consumedSegments:l,remainingSegments:d})=>s?this.getChildConfig(t=r._injector??t,r,o).pipe(Ct(g=>{const _=g.injector??t,M=g.routes,{segmentGroup:P,slicedSegments:B}=Cl(n,l,d,M),W=new Ve(P.segments,P.children);if(0===B.length&&W.hasChildren())return this.expandChildren(_,M,W).pipe(we(Z=>new Ve(l,Z)));if(0===M.length&&0===B.length)return _e(new Ve(l,{}));const te=Un(r)===i;return this.expandSegment(_,W,M,B,te?Le:i,!0).pipe(we(he=>new Ve(l.concat(he.segments),he.children)))})):sa(n)))}getChildConfig(t,n,r){return n.children?_e({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?_e({routes:n._loadedRoutes,injector:n._loadedInjector}):function cx(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?_e(!0):_e(o.map(s=>{const l=Ri(s,e);return to(function qN(e){return e&&ia(e.canLoad)}(l)?l.canLoad(t,n):e.runInContext(()=>l(t,n)))})).pipe(ki(),FE())}(t,n,r).pipe(Ct(o=>o?this.configLoader.loadChildren(t,n).pipe(Nt(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):function gx(e){return Ai(kE(Il,3))}())):_e({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return _e(r);if(o.numberOfChildren>1||!o.children[Le])return t.redirectTo,Ai(new T(4e3,Il));o=o.children[Le]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,o){const i=this.createSegmentGroup(t,n.root,r,o);return new no(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Ht(t,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const l=o.substring(1);r[i]=n[l]}else r[i]=o}),r}createSegmentGroup(t,n,r,o){const i=this.createSegments(t,n.segments,r,o);let s={};return Ht(n.children,(l,d)=>{s[d]=this.createSegmentGroup(t,l,r,o)}),new Ve(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new T(4001,Il);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}class vx{}class Ix{constructor(t,n,r,o,i,s,l){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=l}recognize(){const t=Cl(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Le).pipe(we(n=>{if(null===n)return null;const r=new ml([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Le,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ur(r,n),i=new bE(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(t){const n=t.value,r=DE(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,o)}processChildren(t,n,r){return ze(Object.keys(r.children)).pipe(Lr(o=>{const i=r.children[o],s=xE(n,o);return this.processSegmentGroup(t,s,i,o)}),nE((o,i)=>o&&i?(o.push(...i),o):null),function $P(e,t=!1){return qe((n,r)=>{let o=0;n.subscribe(Pe(r,i=>{const s=e(i,o++);(s||t)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),sl(null),rE(),we(o=>{if(null===o)return null;const i=zE(o);return function Ax(e){e.sort((t,n)=>t.value.outlet===Le?-1:n.value.outlet===Le?1:t.value.outlet.localeCompare(n.value.outlet))}(i),i}))}processSegment(t,n,r,o,i){return ze(n).pipe(Lr(s=>this.processSegmentAgainstRoute(s._injector??t,s,r,o,i)),eo(s=>!!s),Fr(s=>{if(Ef(s))return BE(r,o,i)?_e([]):_e(null);throw s}))}processSegmentAgainstRoute(t,n,r,o,i){if(n.redirectTo||!HE(n,r,o,i))return _e(null);let s;if("**"===n.path){const l=o.length>0?sE(o).parameters:{},d=KE(r)+o.length;s=_e({snapshot:new ml(o,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WE(n),Un(n),n.component??n._loadedComponent??null,n,GE(r),d,qE(n)),consumedSegments:[],remainingSegments:[]})}else s=UE(r,n,o,t).pipe(we(({matched:l,consumedSegments:d,remainingSegments:h,parameters:g})=>{if(!l)return null;const _=KE(r)+d.length;return{snapshot:new ml(d,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WE(n),Un(n),n.component??n._loadedComponent??null,n,GE(r),_,qE(n)),consumedSegments:d,remainingSegments:h}}));return s.pipe(gn(l=>{if(null===l)return _e(null);const{snapshot:d,consumedSegments:h,remainingSegments:g}=l;t=n._injector??t;const _=n._loadedInjector??t,M=function Tx(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:P,slicedSegments:B}=Cl(r,h,g,M.filter(te=>void 0===te.redirectTo));if(0===B.length&&P.hasChildren())return this.processChildren(_,M,P).pipe(we(te=>null===te?null:[new Ur(d,te)]));if(0===M.length&&0===B.length)return _e([new Ur(d,[])]);const W=Un(n)===i;return this.processSegment(_,M,P,B,W?Le:i).pipe(we(te=>null===te?null:[new Ur(d,te)]))}))}}function wx(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function zE(e){const t=[],n=new Set;for(const r of e){if(!wx(r)){t.push(r);continue}const o=t.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=zE(r.children);t.push(new Ur(r.value,o))}return t.filter(r=>!n.has(r))}function GE(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function KE(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function WE(e){return e.data||{}}function qE(e){return e.resolve||{}}function ZE(e){return"string"==typeof e.title||null===e.title}function Tf(e){return gn(t=>{const n=e(t);return n?ze(n).pipe(we(()=>t)):_e(t)})}const Oi=new Ce("ROUTES");let wf=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=je(wv)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return _e(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=to(n.loadComponent()).pipe(we(QE),Nt(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),ef(()=>{this.componentLoaders.delete(n)})),o=new Jh(r,()=>new lt).pipe(Qh());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return _e({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(we(l=>{this.onLoadEndListener&&this.onLoadEndListener(r);let d,h,g=!1;Array.isArray(l)?h=l:(d=l.create(n).injector,h=iE(d.get(Oi,[],be.Self|be.Optional)));return{routes:h.map(Cf),injector:d}}),ef(()=>{this.childrenLoaders.delete(r)})),s=new Jh(i,()=>new lt).pipe(Qh());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return to(n()).pipe(we(QE),Ct(r=>r instanceof x_||Array.isArray(r)?_e(r):ze(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function QE(e){return function Px(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let wl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new lt,this.configLoader=je(wf),this.environmentInjector=je(Sr),this.urlSerializer=je(Zs),this.rootContexts=je(ta),this.navigationId=0,this.afterPreactivation=()=>_e(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new CN(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new vN(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Fn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xs,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mn(r=>0!==r.id),we(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),gn(r=>{let o=!1,i=!1;return _e(r).pipe(Nt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),gn(s=>{const l=n.browserUrlTree.toString(),d=!n.navigated||s.extractedUrl.toString()!==l||l!==n.currentUrlTree.toString();if(!d&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new gl(s.id,n.serializeUrl(r.rawUrl),g,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),nn}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return JE(s.source)&&(n.browserUrlTree=s.extractedUrl),_e(s).pipe(gn(g=>{const _=this.transitions?.getValue();return this.events.next(new lf(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?nn:Promise.resolve(g)}),function _x(e,t,n,r){return gn(o=>function mx(e,t,n,r,o){return new yx(e,t,n,r,o).apply()}(e,t,n,o.extractedUrl,r).pipe(we(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Nt(g=>{this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects},r.urlAfterRedirects=g.urlAfterRedirects}),function Dx(e,t,n,r,o){return Ct(i=>function Ex(e,t,n,r,o,i,s="emptyOnly"){return new Ix(e,t,n,r,o,s,i).recognize().pipe(gn(l=>null===l?function Cx(e){return new Y(t=>t.error(e))}(new vx):_e(l)))}(e,t,n,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(we(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Nt(g=>{if(r.targetSnapshot=g.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!g.extras.skipLocationChange){const M=n.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);n.setBrowserUrl(M,g)}n.browserUrlTree=g.urlAfterRedirects}const _=new pN(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:g,extractedUrl:_,source:M,restoredState:P,extras:B}=s,W=new lf(g,this.urlSerializer.serialize(_),M,P);this.events.next(W);const te=SE(_,this.rootComponentType).snapshot;return _e(r={...s,targetSnapshot:te,urlAfterRedirects:_,extras:{...B,skipLocationChange:!1,replaceUrl:!1}})}{const g="";return this.events.next(new gl(s.id,n.serializeUrl(r.extractedUrl),g,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),nn}}),Nt(s=>{const l=new gN(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),we(s=>r={...s,guards:jN(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function ex(e,t){return Ct(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?_e({...n,guardsResult:!0}):function tx(e,t,n,r){return ze(e).pipe(Ct(o=>function ax(e,t,n,r,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?_e(i.map(l=>{const d=na(t)??o,h=Ri(l,d);return to(function QN(e){return e&&ia(e.canDeactivate)}(h)?h.canDeactivate(e,t,n,r):d.runInContext(()=>h(e,t,n,r))).pipe(eo())})).pipe(ki()):_e(!0)}(o.component,o.route,n,t,r)),eo(o=>!0!==o,!0))}(s,r,o,e).pipe(Ct(l=>l&&function WN(e){return"boolean"==typeof e}(l)?function nx(e,t,n,r){return ze(t).pipe(Lr(o=>Ks(function ox(e,t){return null!==e&&t&&t(new EN(e)),_e(!0)}(o.route.parent,r),function rx(e,t){return null!==e&&t&&t(new AN(e)),_e(!0)}(o.route,r),function sx(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function zN(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>il(()=>_e(s.guards.map(d=>{const h=na(s.node)??n,g=Ri(d,h);return to(function YN(e){return e&&ia(e.canActivateChild)}(g)?g.canActivateChild(r,e):h.runInContext(()=>g(r,e))).pipe(eo())})).pipe(ki())));return _e(i).pipe(ki())}(e,o.path,n),function ix(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return _e(!0);const o=r.map(i=>il(()=>{const s=na(t)??n,l=Ri(i,s);return to(function ZN(e){return e&&ia(e.canActivate)}(l)?l.canActivate(t,e):s.runInContext(()=>l(t,e))).pipe(eo())}));return _e(o).pipe(ki())}(e,o.route,n))),eo(o=>!0!==o,!0))}(r,i,e,t):_e(l)),we(l=>({...n,guardsResult:l})))})}(this.environmentInjector,s=>this.events.next(s)),Nt(s=>{if(r.guardsResult=s.guardsResult,Do(s.guardsResult))throw RE(0,s.guardsResult);const l=new mN(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(l)}),mn(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Tf(s=>{if(s.guards.canActivateChecks.length)return _e(s).pipe(Nt(l=>{const d=new yN(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),gn(l=>{let d=!1;return _e(l).pipe(function bx(e,t){return Ct(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return _e(n);let i=0;return ze(o).pipe(Lr(s=>function Mx(e,t,n,r){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!ZE(o)&&(i[Ws]=o.title),function Rx(e,t,n,r){const o=function kx(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===o.length)return _e({});const i={};return ze(o).pipe(Ct(s=>function Ox(e,t,n,r){const o=na(t)??r,i=Ri(e,o);return to(i.resolve?i.resolve(t,n):o.runInContext(()=>i(t,n)))}(e[s],t,n,r).pipe(eo(),Nt(l=>{i[s]=l}))),Xh(1),qC(i),Fr(s=>Ef(s)?nn:Ai(s)))}(i,e,t,r).pipe(we(s=>(e._resolvedData=s,e.data=DE(e,n).resolve,o&&ZE(o)&&(e.data[Ws]=o.title),null)))}(s.route,r,e,t)),Nt(()=>i++),Xh(1),Ct(s=>i===o.length?_e(n):nn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Nt({next:()=>d=!0,complete:()=>{d||(n.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),Nt(l=>{const d=new _N(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Tf(s=>{const l=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Nt(g=>{d.component=g}),we(()=>{})));for(const g of d.children)h.push(...l(g));return h};return XC(l(s.targetSnapshot.root)).pipe(sl(),fn(1))}),Tf(()=>this.afterPreactivation()),we(s=>{const l=function ON(e,t,n){const r=ea(e,t._root,n?n._root:void 0);return new wE(r,t)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:l}}),Nt(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((e,t,n)=>we(r=>(new $N(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s)),fn(1),Nt({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new bo(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),ef(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Fr(s=>{if(i=!0,PE(s)){OE(s)||(n.navigated=!0,n.restoreHistory(r,!0));const l=new pl(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(l),OE(s)){const d=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),h={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||JE(r.source)};n.scheduleNavigation(d,Xs,null,h,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const l=new uf(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(l);try{r.resolve(n.errorHandler(s))}catch(d){r.reject(d)}}return nn}))}))}cancelNavigationTransition(n,r,o){const i=new pl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function JE(e){return e!==Xs}let XE=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Le);return r}getResolvedTitleForRoute(n){return n.data[Ws]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return je(Nx)},providedIn:"root"}),e})(),Nx=(()=>{class e extends XE{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(me(zC))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xx=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return je(Fx)},providedIn:"root"}),e})();class Lx{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Fx=(()=>{class e extends Lx{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Ut(e)))(r||e)}}(),e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Sl=new Ce("",{providedIn:"root",factory:()=>({})});let Hx=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return je(Bx)},providedIn:"root"}),e})(),Bx=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Vx(e){throw e}function $x(e,t,n){return t.parse("/")}const jx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xt=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=je(r0),this.isNgZoneEnabled=!1,this.options=je(Sl,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Vx,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$x,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=je(Hx),this.routeReuseStrategy=je(xx),this.urlCreationStrategy=je(MN),this.titleStrategy=je(XE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=iE(je(Oi,{optional:!0})??[]),this.navigationTransitions=je(wl),this.urlSerializer=je(Zs),this.location=je(Hs),this.isNgZoneEnabled=je(vt)instanceof vt&&vt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new no,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=SE(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xs,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const d={...o};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(i.state=d)}const l=this.parseUrl(n);this.scheduleNavigation(l,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(Cf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:l,preserveFragment:d}=r,h=d?this.currentUrlTree.fragment:s;let g=null;switch(l){case"merge":g={...this.currentUrlTree.queryParams,...i};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=i||null}return null!==g&&(g=this.removeEmptyProps(g)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,n,g,h??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=Do(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Xs,null,r)}navigate(n,r={skipLocationChange:!1}){return function Gx(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new T(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return r}isActive(n,r){let o;if(o=!0===r?{...jx}:!1===r?{...zx}:r,Do(n))return cE(this.currentUrlTree,n,o);const i=this.parseUrl(n);return cE(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.keys(n).reduce((r,o)=>{const i=n[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let l,d,h,g;return s?(l=s.resolve,d=s.reject,h=s.promise):h=new Promise((_,M)=>{l=_,d=M}),g="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:g,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:l,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(_=>Promise.reject(_))}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",s)}else{const i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(o,"",i)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-(this.browserPageId??this.currentPageId);0!==i?this.location.historyGo(i):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),aa=(()=>{class e{constructor(n,r,o,i,s,l){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new lt;const d=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===d||"area"===d,this.isAnchorElement?this.subscription=n.events.subscribe(h=>{h instanceof bo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Ii(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Ii(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Ii(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,o,i,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||o||i||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function im(e,t,n){return function tS(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?om:rm}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const o=this.renderer,i=this.el.nativeElement;null!==r?o.setAttribute(i,n,r):o.removeAttribute(i,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(n){return new(n||e)(ee(xt),ee(Mi),function Ja(e){return function ST(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(qp(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(Ft(),e)}("tabindex"),ee(Dr),ee(wn),ee(wo))},e.\u0275dir=ke({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&it("click",function(i){return r.onClick(i.button,i.ctrlKey,i.shiftKey,i.altKey,i.metaKey)}),2&n&&ar("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[kn]}),e})();class eI{}let qx=(()=>{class e{constructor(n,r,o,i,s){this.router=n,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(mn(n=>n instanceof bo),Lr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=Rc(i.providers,n,`Route: ${i.path}`));const s=i._injector??n,l=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(l,i.children??i._loadedRoutes))}return ze(o).pipe(mr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):_e(null);const i=o.pipe(Ct(s=>null===s?_e(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?ze([i,this.loader.loadComponent(r)]).pipe(mr()):i})}}return e.\u0275fac=function(n){return new(n||e)(me(xt),me(wv),me(Sr),me(eI),me(wf))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Df=new Ce("");let tI=(()=>{class e{constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof lf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof bo&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof AE&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new AE(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function Fm(){throw new Error("invalid")}()},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();var Dn=(()=>((Dn=Dn||{})[Dn.COMPLETE=0]="COMPLETE",Dn[Dn.FAILED=1]="FAILED",Dn[Dn.REDIRECTING=2]="REDIRECTING",Dn))();const Pi=!1;function ro(e,t){return{\u0275kind:e,\u0275providers:t}}const bf=new Ce("",{providedIn:"root",factory:()=>!1});function rI(){const e=je(Kn);return t=>{const n=e.get(Fs);if(t!==n.components[0])return;const r=e.get(xt),o=e.get(oI);1===e.get(Mf)&&r.initialNavigation(),e.get(iI,null,be.Optional)?.setUpPreloading(),e.get(Df,null,be.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const oI=new Ce(Pi?"bootstrap done indicator":"",{factory:()=>new lt}),Mf=new Ce(Pi?"initial navigation":"",{providedIn:"root",factory:()=>1});function Xx(){let e=[];return e=Pi?[{provide:lc,multi:!0,useFactory:()=>{const t=je(xt);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function wN(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],ro(1,e)}const iI=new Ce(Pi?"router preloader":"");function eL(e){return ro(0,[{provide:iI,useExisting:qx},{provide:eI,useExisting:e}])}const ca=!1,sI=new Ce(ca?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),tL=[Hs,{provide:Zs,useClass:tf},xt,ta,{provide:Mi,useFactory:function nI(e){return e.routerState.root},deps:[xt]},wf,ca?{provide:bf,useValue:!0}:[]];function nL(){return new Pv("Router",xt)}let aI=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[tL,ca&&r?.enableTracing?Xx().\u0275providers:[],{provide:Oi,multi:!0,useValue:n},{provide:sI,useFactory:sL,deps:[[xt,new ls,new us]]},{provide:Sl,useValue:r||{}},r?.useHash?{provide:wo,useClass:K0}:{provide:wo,useClass:nC},{provide:Df,useFactory:()=>{const e=je(hO),t=je(vt),n=je(Sl),r=je(wl),o=je(Zs);return n.scrollOffset&&e.setOffset(n.scrollOffset),new tI(o,r,e,t,n)}},r?.preloadingStrategy?eL(r.preloadingStrategy).\u0275providers:[],{provide:Pv,multi:!0,useFactory:nL},r?.initialNavigation?aL(r):[],[{provide:cI,useFactory:rI},{provide:Ov,multi:!0,useExisting:cI}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Oi,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(me(sI,8))},e.\u0275mod=Cn({type:e}),e.\u0275inj=rn({imports:[_f]}),e})();function sL(e){if(ca&&e)throw new T(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function aL(e){return["disabled"===e.initialNavigation?ro(3,[{provide:xs,multi:!0,useFactory:()=>{const t=je(xt);return()=>{t.setUpLocationChangeListener()}}},{provide:Mf,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ro(2,[{provide:Mf,useValue:0},{provide:xs,multi:!0,deps:[Kn],useFactory:t=>{const n=t.get(z0,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const o=t.get(xt),i=t.get(oI);(function Zx(e,t){e.events.pipe(mn(n=>n instanceof bo||n instanceof pl||n instanceof uf||n instanceof gl),we(n=>n instanceof bo||n instanceof gl?Dn.COMPLETE:n instanceof pl&&(0===n.code||1===n.code)?Dn.REDIRECTING:Dn.FAILED),mn(n=>n!==Dn.REDIRECTING),fn(1)).subscribe(()=>{t()})})(o,()=>{r(!0)}),t.get(wl).afterPreactivation=()=>(r(!0),i.closed?_e(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const cI=new Ce(ca?"Router Initializer":""),lI="@azure/msal-angular",Rf="3.0.9",Dl=new Ce("MSAL_INSTANCE"),uI=new Ce("MSAL_GUARD_CONFIG"),lL=new Ce("MSAL_INTERCEPTOR_CONFIG"),uL=new Ce("MSAL_BROADCAST_CONFIG");let oo=(()=>{class e{constructor(n,r){this.instance=n,this.location=r;const o=this.location.path(!0).split("#").pop();o&&(this.redirectHash=`#${o}`),this.instance.initializeWrapperLibrary(gt.lA.Angular,Rf)}initialize(){return ze(this.instance.initialize())}acquireTokenPopup(n){return ze(this.instance.acquireTokenPopup(n))}acquireTokenRedirect(n){return ze(this.instance.acquireTokenRedirect(n))}acquireTokenSilent(n){return ze(this.instance.acquireTokenSilent(n))}handleRedirectObservable(n){return ze(this.instance.initialize().then(()=>this.instance.handleRedirectPromise(n||this.redirectHash)))}loginPopup(n){return ze(this.instance.loginPopup(n))}loginRedirect(n){return ze(this.instance.loginRedirect(n))}logout(n){return ze(this.instance.logout(n))}logoutRedirect(n){return ze(this.instance.logoutRedirect(n))}logoutPopup(n){return ze(this.instance.logoutPopup(n))}ssoSilent(n){return ze(this.instance.ssoSilent(n))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(lI,Rf)),this.logger}setLogger(n){this.logger=n.clone(lI,Rf),this.instance.setLogger(n)}}return e.\u0275fac=function(n){return new(n||e)(me(Dl),me(Hs))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),dI=(()=>{class e{constructor(n,r,o){this.msalInstance=n,this.authService=r,this.msalBroadcastConfig=o,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.authService.getLogger().verbose(`BroadcastService - eventsToReplay set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new RP(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new lt,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new Fn(gt.$H.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(i=>{this._msalSubject.next(i);const s=SP.getInteractionStatusFromEvent(i,this._inProgress.value);null!==s&&(this.authService.getLogger().verbose(`BroadcastService - ${i.eventType} results in setting inProgress from ${this._inProgress.value} to ${s}`),this._inProgress.next(s))})}}return e.\u0275fac=function(n){return new(n||e)(me(Dl),me(oo),me(uL,8))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),dL=(()=>{class e{constructor(n,r,o,i,s){this.msalGuardConfig=n,this.msalBroadcastService=r,this.authService=o,this.location=i,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(n){return this.router.parseUrl(n)}getDestinationUrl(n){this.authService.getLogger().verbose("Guard - getting destination url");const r=document.getElementsByTagName("base"),o=this.location.normalize(r.length?r[0].href:window.location.origin),i=this.location.prepareExternalUrl(n);return i.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${o}/${i}`):`${o}${n}`}loginInteractively(n){const r="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,n):{...this.msalGuardConfig.authRequest};if(this.msalGuardConfig.interactionType===gt.s_.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(r).pipe(we(i=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(i.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");const o=this.getDestinationUrl(n.url);return this.authService.loginRedirect({redirectStartPage:o,...r}).pipe(we(()=>!1))}activateHelper(n){if(this.msalGuardConfig.interactionType!==gt.s_.Popup&&this.msalGuardConfig.interactionType!==gt.s_.Redirect)throw new DP.WK("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),!(typeof window<"u"))return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),_e(!0);if(bP.G.hashContainsKnownProperties(window.location.hash)&&MP.zd()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),_e(!1);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));const r=this.location.path(!0);return this.authService.initialize().pipe(Lr(()=>this.authService.handleRedirectObservable()),Lr(()=>{if(!this.authService.instance.getAllAccounts().length)return n?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(n)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),_e(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),n){const o=this.includesCode(n.url),i=!!n.root&&!!n.root.fragment&&this.includesCode(`#${n.root.fragment}`),s=0===this.location.prepareExternalUrl(n.url).indexOf("#");if(o&&(i||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),r.indexOf("#")>-1?_e(this.parseUrl(this.location.path())):_e(this.parseUrl(""))}return _e(!0)}),Fr(o=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${o.message}`),this.loginFailedRoute&&n?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),_e(this.loginFailedRoute)):_e(!1))))}includesCode(n){return n.lastIndexOf("/code")>-1&&n.lastIndexOf("/code")===n.length-5||n.indexOf("#code=")>-1||n.indexOf("&code=")>-1}canActivate(n,r){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(r)}canActivateChild(n,r){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(r)}canMatch(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return e.\u0275fac=function(n){return new(n||e)(me(uI),me(dI),me(oo),me(Hs),me(xt))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),hL=(()=>{class e{static forRoot(n,r,o){return{ngModule:e,providers:[{provide:Dl,useValue:n},{provide:uI,useValue:r},{provide:lL,useValue:o},oo]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=rn({providers:[dL,dI],imports:[vC]}),e})(),bl=(()=>{class e{login(n,r){return console.log(n),console.log(r),this.isUserLoggedIn="123456789"==n&&"987654321"==r,localStorage.setItem("isUserLoggedIn",this.isUserLoggedIn?"true":"false"),_e(this.isUserLoggedIn).pipe(YC(1e3),Nt(o=>{console.log("Is User Authentication is successful: "+o)}))}logout(){this.isUserLoggedIn=!1,localStorage.removeItem("isUserLoggedIn"),this.msalService.logout()}getemail(){this.msalService.instance.getActiveAccount()}constructor(n){this.msalService=n,this.isUserLoggedIn=!1}static#e=this.\u0275fac=function(r){return new(r||e)(me(oo))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fL(e,t){1&e&&(ae(0,"nav",1)(1,"div",2)(2,"button",3),ft(3,"span",4),ge(),ae(4,"a",5),Ae(5,"Digital Bus Pass"),ge(),ae(6,"span",6),function Gp(){Ne.lFrame.currentNamespace=Dp}(),ae(7,"svg",7),ft(8,"path",8),ge()(),function Kp(){!function mT(){Ne.lFrame.currentNamespace=null}()}(),ae(9,"div",9)(10,"ul",10)(11,"li",11)(12,"a",12),Ae(13,"Home"),ge()(),ae(14,"li",11)(15,"a",13),Ae(16,"Admin"),ge()(),ae(17,"li",11)(18,"a",14),Ae(19,"Logout"),ge()()()()()())}let pL=(()=>{class e{get isUser(){let n=localStorage.getItem("isUserLoggedIn");return console.log("StoreData: "+n),this.isUserLoggedIn=null!=n&&"true"==n,this.isUserLoggedIn}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Er({type:e,selectors:[["menu-root"]],decls:1,vars:1,consts:[["class","navbar navbar-dark sticky-top navbar-expand-lg","style","background: rgb(84, 28, 151)",4,"ngIf"],[1,"navbar","navbar-dark","sticky-top","navbar-expand-lg",2,"background","rgb(84, 28, 151)"],[1,"container-fluid",2,"background","rgb(84, 28, 151)"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarTogglerDemo01","aria-controls","navbarTogglerDemo01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","btnnb","text-white"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand","text-white"],[1,"me-2"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-bell-fill",2,"color","white"],["d","M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"],["id","navbarTogglerDemo01",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/home","href","#",1,"nav-link","text-white"],["routerLink","/admin","href","#",1,"nav-link","text-white"],["routerLink","/logout","href","#",1,"nav-link","text-white"]],template:function(r,o){1&r&&Zr(0,fL,20,0,"nav",0),2&r&&Dt("ngIf",o.isUser)},dependencies:[Qc,aa]})}return e})();function gL(e,t){if(1&e){const n=function fy(){return X()}();ae(0,"button",6),it("click",function(){return function Pp(e){return Ne.lFrame.contextLView=e,e[Et]}(n),function Np(e){return Ne.lFrame.contextLView=null,e}(gi(2).addToHomeScreen())}),Ae(1,"Install"),ge()}}function mL(e,t){if(1&e&&(ae(0,"div",3)(1,"div",4),Zr(2,gL,2,0,"button",5),ge()()),2&e){const n=gi();Ye(2),Dt("ngIf",n.showInstallBtn)}}function yL(e,t){1&e&&(ae(0,"footer",7)(1,"div",8),ft(2,"img",9),ge()())}let _L=(()=>{class e{get isUser(){let n=localStorage.getItem("isUserLoggedIn");return console.log("StoreData: "+n),this.isUserLoggedIn=null!=n&&"true"==n,this.isUserLoggedIn}constructor(n,r,o){this.authService=n,this.msalservice=r,this.router=o,this.title="eTMS",this.showInstallBtn=!1}beforeinstallprompt(n){n.preventDefault(),this.deferredPrompt=n,this.showInstallBtn=!0}addToHomeScreen(){this.showInstallBtn=!1,this.deferredPrompt.prompt()}ngOnInit(){var n=this;return(0,Xr.Z)(function*(){yield n.msalservice.instance.initialize(),yield n.msalservice.instance.handleRedirectPromise().then(r=>{if(null!=r&&null!=r.account){n.msalservice.instance.setActiveAccount(r.account),console.log(r.account),localStorage.setItem("isUserLoggedIn","true"),n.router.navigate(["/home"]);let o=localStorage.getItem("isUserLoggedIn");console.log("StoreData: "+o),n.isUserLoggedIn=null!=o&&"true"==o}})})()}SSOLogin(){this.msalservice.loginRedirect()}static#e=this.\u0275fac=function(r){return new(r||e)(ee(bl),ee(oo),ee(xt))};static#t=this.\u0275cmp=Er({type:e,selectors:[["app-root"]],hostBindings:function(r,o){1&r&&it("beforeinstallprompt",function(s){return o.beforeinstallprompt(s)},0,_m)},decls:9,vars:2,consts:[[1,"container"],["class","row",4,"ngIf"],["class","footer mt-15",4,"ngIf"],[1,"row"],[1,"col","d-flex","justify-content-center","align-item-center"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"footer","mt-15"],[1,"footer","text-center",2,"width","100%","padding-bottom","10px"],["height","50px","src","https://tcs.com/content/dam/tcs/images/Newtcslogo/tcs-logo-tata-blue-1x-dec2021.png","alt","Alternate Text"]],template:function(r,o){1&r&&(ft(0,"menu-root"),ae(1,"div",0),ft(2,"router-outlet"),ge(),ft(3,"br")(4,"br")(5,"br")(6,"br"),Zr(7,mL,3,1,"div",1),Zr(8,yL,3,0,"footer",2)),2&r&&(Ye(7),Dt("ngIf",o.isUserLoggedIn),Ye(1),Dt("ngIf",o.isUserLoggedIn))},dependencies:[Qc,yf,pL],styles:['.navbar-inverse[_ngcontent-%COMP%]   .navbar-toggle[_ngcontent-%COMP%] {\n    background-color: #541c97;\n  }\n\n  .navbar-inverse[_ngcontent-%COMP%]   .navbar-toggle[_ngcontent-%COMP%]:focus, .navbar-inverse[_ngcontent-%COMP%]   .navbar-toggle[_ngcontent-%COMP%]:hover {\n    background-color: #541c97;\n  }\n\n  .footer[_ngcontent-%COMP%] {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    color: white;\n    text-align: center;\n  }\n\n  .navbar-toggle[_ngcontent-%COMP%] {\n    border: 0px solid transparent;\n  }\n\n  .body[_ngcontent-%COMP%] {\n    font-size: 16px;\n  }\n\n  .btnnb[_ngcontent-%COMP%] {\n    border: none;\n  }\n\n  .navbar-toggler[_ngcontent-%COMP%]:focus {\n    box-shadow: none;\n  }\n\n  .glyphicon-bell[_ngcontent-%COMP%] {\n    content: "\\e123";\n  }\n\n  .fa-bell[_ngcontent-%COMP%] {\n    content: "\\f0f3";\n  }\n\n  .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .icons[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {\n    color: white;\n  }']})}return e})();class Ml{constructor(t,n,r,o,i,s,l,d,h,g){this.StartDate=t,this.EndDate=n,this.Source=r,this.Destination=o,this.RouteType=i,this.Name=s,this.EmployeeId=l,this.From=d,this.To=h,this.PickUpDrop=g}}let hI=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(ee(Dr),ee(wn))},e.\u0275dir=ke({type:e}),e})(),Mo=(()=>{class e extends hI{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Ut(e)))(r||e)}}(),e.\u0275dir=ke({type:e,features:[tt]}),e})();const hr=new Ce("NgValueAccessor"),EL={provide:hr,useExisting:a(()=>la),multi:!0},AL=new Ce("CompositionEventMode");let la=(()=>{class e extends hI{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function IL(){const e=Pr()?Pr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(ee(Dr),ee(wn),ee(AL,8))},e.\u0275dir=ke({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&it("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[dt([EL]),tt]}),e})();const TL=!1;const Gt=new Ce("NgValidators"),so=new Ce("NgAsyncValidators");function yI(e){return function io(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}(e.value)?{required:!0}:null}function Rl(e){return null}function AI(e){return null!=e}function TI(e){const t=ws(e)?ze(e):e;if(TL&&!Ld(t)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof e&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new T(-1101,n)}return t}function wI(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function SI(e,t){return t.map(n=>n(e))}function DI(e){return e.map(t=>function SL(e){return!e.validate}(t)?t:n=>t.validate(n))}function kf(e){return null!=e?function bI(e){if(!e)return null;const t=e.filter(AI);return 0==t.length?null:function(n){return wI(SI(n,t))}}(DI(e)):null}function Of(e){return null!=e?function MI(e){if(!e)return null;const t=e.filter(AI);return 0==t.length?null:function(n){return function vL(...e){const t=$i(e),{args:n,keys:r}=QC(e),o=new Y(i=>{const{length:s}=n;if(!s)return void i.complete();const l=new Array(s);let d=s,h=s;for(let g=0;g<s;g++){let _=!1;Wt(n[g]).subscribe(Pe(i,M=>{_||(_=!0,h--),l[g]=M},()=>d--,void 0,()=>{(!d||!_)&&(h||i.next(r?JC(r,l):l),i.complete())}))}});return t?o.pipe(Yh(t)):o}(SI(n,t).map(TI)).pipe(we(wI))}}(DI(e)):null}function RI(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function kI(e){return e._rawValidators}function OI(e){return e._rawAsyncValidators}function Pf(e){return e?Array.isArray(e)?e:[e]:[]}function kl(e,t){return Array.isArray(e)?e.includes(t):e===t}function PI(e,t){const n=Pf(t);return Pf(e).forEach(o=>{kl(n,o)||n.push(o)}),n}function NI(e,t){return Pf(t).filter(n=>!kl(e,n))}class xI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=kf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Of(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class en extends xI{get formDirective(){return null}get path(){return null}}class ao extends xI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class LI{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Nf=(()=>{class e extends LI{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(ee(ao,2))},e.\u0275dir=ke({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Ac("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[tt]}),e})(),xf=(()=>{class e extends LI{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(ee(en,10))},e.\u0275dir=ke({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Ac("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[tt]}),e})();function FI(e,t){return e?`with name: '${t}'`:`at index: ${t}`}const Uf=!1,ua="VALID",Pl="INVALID",Ni="PENDING",da="DISABLED";function Hf(e){return(Nl(e)?e.validators:e)||null}function Bf(e,t){return(Nl(t)?t.asyncValidators:e)||null}function Nl(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function UI(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new T(1e3,Uf?function RL(e){return`\n    There are no form controls registered with this ${e?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!r[n])throw new T(1001,Uf?function kL(e,t){return`Cannot find form control ${FI(e,t)}`}(t,n):"")}function HI(e,t,n){e._forEachChild((r,o)=>{if(void 0===n[o])throw new T(1002,Uf?function OL(e,t){return`Must supply a value for form control ${FI(e,t)}`}(t,o):"")})}class xl{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ua}get invalid(){return this.status===Pl}get pending(){return this.status==Ni}get disabled(){return this.status===da}get enabled(){return this.status!==da}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(PI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(PI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(NI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(NI(t,this._rawAsyncValidators))}hasValidator(t){return kl(this._rawValidators,t)}hasAsyncValidator(t){return kl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ni,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=da,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ua,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ua||this.status===Ni)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?da:ua}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ni,this._hasOwnPendingAsyncValidator=!0;const n=TI(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new _t,this.statusChanges=new _t}_calculateStatus(){return this._allControlsDisabled()?da:this.errors?Pl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ni)?Ni:this._anyControlsHaveStatus(Pl)?Pl:ua}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Nl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function PL(e){return Array.isArray(e)?kf(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function NL(e){return Array.isArray(e)?Of(e):e||null}(this._rawAsyncValidators)}}class ha extends xl{constructor(t,n,r){super(Hf(n),Bf(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){HI(this,!0,t),Object.keys(t).forEach(r=>{UI(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class BI extends ha{}const Ro=new Ce("CallSetDisabledState",{providedIn:"root",factory:()=>fa}),fa="always";function Ll(e,t){return[...t.path,e]}function pa(e,t,n=fa){Vf(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function LL(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&VI(e,t)})}(e,t),function UL(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function FL(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&VI(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function xL(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Fl(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Hl(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Ul(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Vf(e,t){const n=kI(e);null!==t.validator?e.setValidators(RI(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=OI(e);null!==t.asyncValidator?e.setAsyncValidators(RI(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();Ul(t._rawValidators,o),Ul(t._rawAsyncValidators,o)}function Hl(e,t){let n=!1;if(null!==e){if(null!==t.validator){const o=kI(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=OI(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return Ul(t._rawValidators,r),Ul(t._rawAsyncValidators,r),n}function VI(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function $I(e,t){Vf(e,t)}function jf(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function jI(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function zf(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(i=>{i.constructor===la?n=i:function VL(e){return Object.getPrototypeOf(e.constructor)===Mo}(i)?r=i:o=i}),o||r||n||null}const jL={provide:en,useExisting:a(()=>Bl)},ga=(()=>Promise.resolve())();let Bl=(()=>{class e extends en{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new _t,this.form=new ha({},kf(n),Of(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ga.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),pa(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ga.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ga.then(()=>{const r=this._findContainer(n.path),o=new ha({});$I(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ga.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ga.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,jI(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return e.\u0275fac=function(n){return new(n||e)(ee(Gt,10),ee(so,10),ee(Ro,8))},e.\u0275dir=ke({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&it("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[dt([jL]),tt]}),e})();function zI(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function GI(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Hr=class extends xl{constructor(t=null,n,r){super(Hf(n),Bf(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=GI(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){GI(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},KL={provide:ao,useExisting:a(()=>Gf)},qI=(()=>Promise.resolve())();let Gf=(()=>{class e extends ao{constructor(n,r,o,i,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this.control=new Hr,this._registered=!1,this.update=new _t,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=zf(0,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),jf(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pa(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){qI.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,o=0!==r&&Ii(r);qI.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Ll(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(ee(en,9),ee(Gt,10),ee(so,10),ee(hr,10),ee(Uc,8),ee(Ro,8))},e.\u0275dir=ke({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[dt([KL]),tt,kn]}),e})(),Kf=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=ke({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const WL={provide:hr,useExisting:a(()=>Wf),multi:!0};let Wf=(()=>{class e extends Mo{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Ut(e)))(r||e)}}(),e.\u0275dir=ke({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&it("input",function(i){return r.onChange(i.target.value)})("blur",function(){return r.onTouched()})},features:[dt([WL]),tt]}),e})(),ZI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=rn({}),e})();const qf=new Ce("NgModelWithFormControlWarning"),JL={provide:en,useExisting:a(()=>Vl)};let Vl=(()=>{class e extends en{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _t,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Hl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return pa(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Fl(n.control||null,n,!1),function $L(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,jI(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,o=this.form.get(n.path);r!==o&&(Fl(r||null,n),(e=>e instanceof Hr)(o)&&(pa(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);$I(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function HL(e,t){return Hl(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vf(this.form,this),this._oldForm&&Hl(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(n){return new(n||e)(ee(Gt,10),ee(so,10),ee(Ro,8))},e.\u0275dir=ke({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&it("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[dt([JL]),tt,kn]}),e})();const tF={provide:ao,useExisting:a(()=>Qf)};let Qf=(()=>{class e extends ao{set isDisabled(n){}constructor(n,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new _t,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=zf(0,i)}ngOnChanges(n){this._added||this._setUpControl(),jf(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Ll(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(ee(en,13),ee(Gt,10),ee(so,10),ee(hr,10),ee(qf,8))},e.\u0275dir=ke({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[dt([tF]),tt,kn]}),e})();const nF={provide:hr,useExisting:a(()=>$l),multi:!0};function eA(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let $l=(()=>{class e extends Mo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const o=eA(this._getOptionId(n),n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function rF(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Ut(e)))(r||e)}}(),e.\u0275dir=ke({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&it("change",function(i){return r.onChange(i.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[dt([nF]),tt]}),e})(),tA=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(eA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(ee(wn),ee(Dr),ee($l,9))},e.\u0275dir=ke({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const oF={provide:hr,useExisting:a(()=>Jf),multi:!0};function nA(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Jf=(()=>{class e extends Mo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const o=n.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const o=[],i=r.selectedOptions;if(void 0!==i){const s=i;for(let l=0;l<s.length;l++){const h=this._getOptionValue(s[l].value);o.push(h)}}else{const s=r.options;for(let l=0;l<s.length;l++){const d=s[l];if(d.selected){const h=this._getOptionValue(d.value);o.push(h)}}}this.value=o,n(o)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function iF(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Ut(e)))(r||e)}}(),e.\u0275dir=ke({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&it("change",function(i){return r.onChange(i.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[dt([oF]),tt]}),e})(),rA=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(nA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(nA(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(ee(wn),ee(Dr),ee(Jf,9))},e.\u0275dir=ke({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),ko=(()=>{class e{constructor(){this._validator=Rl}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Rl,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=ke({type:e,features:[kn]}),e})();const cF={provide:Gt,useExisting:a(()=>jl),multi:!0};let jl=(()=>{class e extends ko{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ii,this.createValidator=n=>yI}enabled(n){return n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Ut(e)))(r||e)}}(),e.\u0275dir=ke({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&ar("required",r._enabled?"":null)},inputs:{required:"required"},features:[dt([cF]),tt]}),e})(),fA=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=rn({imports:[ZI]}),e})();class pA extends xl{constructor(t,n,r){super(Hf(n),Bf(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){HI(this,!1,t),t.forEach((r,o)=>{UI(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function gA(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let pF=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,r=null){const o=this._reduceControls(n);let i={};return gA(r)?i=r:null!==r&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new ha(o,i)}record(n,r=null){const o=this._reduceControls(n);return new BI(o,r)}control(n,r,o){let i={};return this.useNonNullable?(gA(r)?i=r:(i.validators=r,i.asyncValidators=o),new Hr(n,{...i,nonNullable:!0})):new Hr(n,r,o)}array(n,r,o){const i=n.map(s=>this._createControl(s));return new pA(i,r,o)}_reduceControls(n){const r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){return n instanceof Hr||n instanceof xl?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),mA=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Ro,useValue:n.callSetDisabledState??fa}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=rn({imports:[fA]}),e})(),yA=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:qf,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ro,useValue:n.callSetDisabledState??fa}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=rn({imports:[fA]}),e})();function gF(e,t){if(1&e&&(ae(0,"div",19)(1,"div",3),Ae(2,"Office In Time -"),ae(3,"span",25),Ae(4),ge()(),ae(5,"div",3),Ae(6,"Office Out Time -"),ae(7,"span",26),Ae(8),ge()()()),2&e){const n=gi();Ye(4),un(n.passdetail.From),Ye(4),un(n.passdetail.To)}}function mF(e,t){if(1&e&&(ae(0,"div",19)(1,"div",3),Ae(2,"Office In Time -"),ae(3,"span",25),Ae(4),ge()()()),2&e){const n=gi();Ye(4),un(n.passdetail.From)}}function yF(e,t){if(1&e&&(ae(0,"div",19)(1,"div",27),Ae(2,"Office Out Time -"),ae(3,"span",26),Ae(4),ge()()()),2&e){const n=gi();Ye(4),un(n.passdetail.To)}}let _F=(()=>{class e{constructor(){this.title="Pass",this.passdetail=new Ml((new Date).toDateString(),(new Date).toDateString(),"VA","TCS Olympus","Both","Test",12345,"07:00","19:00","X to Y Via N ")}ngOnInit(){let n=localStorage.getItem("passdetails");console.log("null"==n),"null"!=n&&null!=n?(console.log("Test"),this.passdetail=JSON.parse(n)):this.passdetail=new Ml((new Date).toDateString(),(new Date).toDateString(),"VA","TCS Olympus","Both","Test",12345,"07:00","19:00","X to Y Via N "),console.log(this.passdetail)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Er({type:e,selectors:[["home-root"]],decls:92,vars:12,consts:[[1,"container","mt-3","divPass"],["id","HeadContainer",1,"text-center",2,"background-color","saddlebrown","border-radius","8px","color","white","padding","5px","font-weight","bold","font-size","18px"],[1,"row","text-center"],[1,"col"],[1,"Source"],[1,"glyphicon","glyphicon-reverse-arrow",2,"font-size","x-large","height","15px","width","20px"],["id","Destination","name","Destination"],["class","row",4,"ngIf"],[1,"container","card","divPass"],[1,"panel","panel-default"],[1,"panel-body"],[2,"width","100%"],[2,"text-align","left"],[2,"text-align","right"],["name","Name","id","EmployeeName"],["id","EmployeeID"],["id","RouteType"],["id","StartDate"],["id","EndDate"],[1,"row"],[1,"col-3"],[1,"col-9","text-start"],["id","PickUpDrop"],[1,"text-center"],[1,"display-4"],["id","FromTime"],["id","ToTime"],[1,"col","d-flex","justify-content-center","align-item-center"]],template:function(r,o){1&r&&(ae(0,"form")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"span",4),Ae(6),ge()()(),ae(7,"div",2)(8,"div",3),ft(9,"span",5),ge()(),ae(10,"div",2)(11,"div",3)(12,"span",6),Ae(13),ge()()(),Zr(14,gF,9,2,"div",7),Zr(15,mF,5,1,"div",7),Zr(16,yF,5,1,"div",7),ge()(),ft(17,"br"),ae(18,"div",8)(19,"div",9)(20,"div",10)(21,"table",11)(22,"tr")(23,"td",12),Ae(24,"Name"),ge(),ae(25,"td",13),Ae(26,"Employee ID"),ge()(),ae(27,"tr")(28,"td",12)(29,"b")(30,"span",14),Ae(31),ge()()(),ae(32,"td",13)(33,"b")(34,"span",15),Ae(35),ge()()()(),ae(36,"tr")(37,"td",12),Ae(38,"\xa0"),ge(),ae(39,"td",13),Ae(40,"\xa0"),ge()(),ae(41,"tr")(42,"td",12),Ae(43,"Bus Stop Name"),ge(),ae(44,"td",13),Ae(45,"Route Type"),ge()(),ae(46,"tr")(47,"td",12)(48,"b")(49,"span",4),Ae(50),ge()()(),ae(51,"td",13)(52,"b")(53,"span",16),Ae(54),ge()()()(),ae(55,"tr")(56,"td",12),Ae(57,"\xa0"),ge(),ae(58,"td",13),Ae(59,"\xa0"),ge()(),ae(60,"tr")(61,"td",12),Ae(62,"Start Date"),ge(),ae(63,"td",13),Ae(64,"End Date"),ge()(),ae(65,"tr")(66,"td",12)(67,"b")(68,"span",17),Ae(69),ge()()(),ae(70,"td",13)(71,"b")(72,"span",18),Ae(73),ge()()()()(),ft(74,"br"),ae(75,"div",19)(76,"div",20),Ae(77," Route "),ge(),ae(78,"div",21)(79,"b",22),Ae(80),ge()()(),ae(81,"div",23),ft(82,"h2",24),ge()()(),ft(83,"br")(84,"br")(85,"br")(86,"br")(87,"br")(88,"br")(89,"br")(90,"br")(91,"br"),ge()()),2&r&&(Ye(6),un(o.passdetail.Source),Ye(7),un(o.passdetail.Destination),Ye(1),Dt("ngIf","Both"==o.passdetail.RouteType),Ye(1),Dt("ngIf","PickUp"==o.passdetail.RouteType),Ye(1),Dt("ngIf","Drop"==o.passdetail.RouteType),Ye(15),un(o.passdetail.Name),Ye(4),un(o.passdetail.EmployeeId),Ye(15),un(o.passdetail.Source),Ye(4),un(o.passdetail.RouteType),Ye(15),un(o.passdetail.StartDate),Ye(4),un(o.passdetail.EndDate),Ye(7),wc("",o.passdetail.PickUpDrop," "))},dependencies:[Qc,Kf,xf,Bl],styles:['.glyphicon-reverse-arrow[_ngcontent-%COMP%]:before {\n        content: "\\21CC";\n    }\n\n    #imgarrow[_ngcontent-%COMP%] {\n        -webkit-filter: invert(1);\n        filter: invert(1);\n    }\n\n    #HeadContainer[_ngcontent-%COMP%] {\n        background-image: linear-gradient(to right, #6666ff 15%, #4d4dff 40%, #751aff);\n    }']})}return e})(),vF=(()=>{class e{constructor(){this.title="Pass",this.passdetail=new Ml((new Date).toDateString(),(new Date).toDateString(),"VA","TCS Olympus","Both","Test",12345,"07:00","19:00","X to Y Via N ")}ngOnInit(){let n=localStorage.getItem("passdetails");console.log("null"==n),"null"!=n&&null!=n?(console.log("Test"),this.passdetail=JSON.parse(n)):this.passdetail=new Ml((new Date).toDateString(),(new Date).toDateString(),"VA","TCS Olympus","Both","Test",12345,"07:00","19:00","X to Y Via N "),console.log(this.passdetail)}SaveData(){console.log(this.passdetail);const n=JSON.stringify(this.passdetail);localStorage.setItem("passdetails",n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Er({type:e,selectors:[["admin-root"]],decls:62,vars:10,consts:[["id","AdminPage",1,"container"],[1,"form-group"],[1,"row"],[1,"col-lg-6"],["type","text","name","passdetails.Source","id","txtSource",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","passdetail.Destination","id","txtDestination",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","txtFromTime",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","txtToTime",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","txtEmployeeID",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","txtEmployeeName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","txtStartDate",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","txtEndDate",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-select",3,"ngModel","ngModelChange"],["type","text","id","txtPickUpDrop",1,"form-control",3,"ngModel","ngModelChange"],["id","simple-color-picker","type","text","value","",1,"form-control"],["type","button","id","btnSave",1,"btn","btn-primary",3,"click"],[1,"container"]],template:function(r,o){1&r&&(ae(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ae(4," Source "),ae(5,"input",4),it("ngModelChange",function(s){return o.passdetail.Source=s}),ge()(),ae(6,"div",3),Ae(7," Destination "),ae(8,"input",5),it("ngModelChange",function(s){return o.passdetail.Destination=s}),ge()()(),ae(9,"div",2)(10,"div",3),Ae(11," Time From "),ae(12,"input",6),it("ngModelChange",function(s){return o.passdetail.From=s}),ge()(),ae(13,"div",3),Ae(14," Time To "),ae(15,"input",7),it("ngModelChange",function(s){return o.passdetail.To=s}),ge()()(),ae(16,"div",2)(17,"div",3),Ae(18," EmpoyeeID "),ae(19,"input",8),it("ngModelChange",function(s){return o.passdetail.EmployeeId=s}),ge()(),ae(20,"div",3),Ae(21," Name "),ae(22,"input",9),it("ngModelChange",function(s){return o.passdetail.Name=s}),ge()()(),ae(23,"div",2)(24,"div",3),Ae(25," Start Date "),ae(26,"input",10),it("ngModelChange",function(s){return o.passdetail.StartDate=s}),ge()(),ae(27,"div",3),Ae(28," End Date "),ae(29,"input",11),it("ngModelChange",function(s){return o.passdetail.EndDate=s}),ge()()(),ae(30,"div",2)(31,"div",3),Ae(32," Route Type "),ae(33,"select",12),it("ngModelChange",function(s){return o.passdetail.RouteType=s}),ae(34,"option"),Ae(35,"Both"),ge(),ae(36,"option"),Ae(37,"Drop"),ge(),ae(38,"option"),Ae(39,"PickUp"),ge()()(),ae(40,"div",3),Ae(41," Pick Up Drop "),ae(42,"input",13),it("ngModelChange",function(s){return o.passdetail.PickUpDrop=s}),ge()()(),ae(43,"div",2)(44,"div",3),Ae(45," Header Color "),ft(46,"input",14),ge(),ft(47,"div",3),ge(),ae(48,"div",2)(49,"div",3),ft(50,"br"),ae(51,"button",15),it("click",function(){return o.SaveData()}),Ae(52,"Save"),ge()()()()(),ae(53,"div",16)(54,"div",2),ft(55,"br"),ge(),ae(56,"div",2),ft(57,"br"),ge(),ae(58,"div",2),ft(59,"br"),ge(),ae(60,"div",2),ft(61,"br"),ge()()),2&r&&(Ye(5),Dt("ngModel",o.passdetail.Source),Ye(3),Dt("ngModel",o.passdetail.Destination),Ye(4),Dt("ngModel",o.passdetail.From),Ye(3),Dt("ngModel",o.passdetail.To),Ye(4),Dt("ngModel",o.passdetail.EmployeeId),Ye(3),Dt("ngModel",o.passdetail.Name),Ye(4),Dt("ngModel",o.passdetail.StartDate),Ye(3),Dt("ngModel",o.passdetail.EndDate),Ye(4),Dt("ngModel",o.passdetail.RouteType),Ye(9),Dt("ngModel",o.passdetail.PickUpDrop))},dependencies:[tA,rA,la,Wf,$l,Nf,Gf]})}return e})(),_A=(()=>{class e{constructor(n,r,o,i){this.authService=n,this.router=r,this.fb=o,this.msalservice=i,this.formData=o.group({userName:new Hr(""),password:new Hr("")})}ngOnInit(){var n=this;return(0,Xr.Z)(function*(){n.formData=n.fb.group({userName:new Hr(""),password:new Hr("")}),yield n.msalservice.instance.initialize(),yield n.msalservice.instance.handleRedirectPromise().then(r=>{null!=r&&null!=r.account&&(n.msalservice.instance.setActiveAccount(r.account),console.log(r.account),localStorage.setItem("isUserLoggedIn","true"),n.router.navigate(["/home"]))})})()}isLoggedIn(){return null!=this.msalservice.instance.getActiveAccount()}SSOLogin(){this.msalservice.loginRedirect()}onClickSubmit(n){this.userName=n.userName,this.password=n.password,console.log("Login page: "+this.userName),console.log("Login page: "+this.password),this.authService.login(this.userName,this.password).subscribe(r=>{console.log("Is Login Success: "+r),r&&this.router.navigate(["/home"])})}static#e=this.\u0275fac=function(r){return new(r||e)(ee(bl),ee(xt),ee(pF),ee(oo))};static#t=this.\u0275cmp=Er({type:e,selectors:[["app-login"]],decls:23,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-lg-12","text-center",2,"padding-top","20px"],[1,"container","box",2,"margin-top","10px","padding-left","0px","padding-right","0px"],[1,"col-12",2,"text-align","center"],[1,"form-signin","card","shadow",3,"formGroup","ngSubmit"],[1,"form-signin-heading"],["for","inputEmail",1,"sr-only"],["type","text","id","username","formControlName","userName","placeholder","Username","required","","autofocus","",1,"form-control"],["for","inputPassword",1,"sr-only"],["type","password","id","inputPassword","formControlName","password","placeholder","Password","required","",1,"form-control"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block"],[1,"col-12","d-flex","justify-content-center","align-items-center"],[1,"card","mt-5"],[1,"card-body"],[1,"btn","btn-lg","btn-primary",3,"click"]],template:function(r,o){1&r&&(ae(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"form",5),it("ngSubmit",function(){return o.onClickSubmit(o.formData.value)}),ae(7,"h2",6),Ae(8,"Please sign in"),ge(),ae(9,"label",7),Ae(10,"Email address"),ge(),ft(11,"input",8),ae(12,"label",9),Ae(13,"Password"),ge(),ft(14,"input",10),ae(15,"button",11),Ae(16,"Sign in"),ge()()()()()()(),ae(17,"div",1)(18,"div",12)(19,"div",13)(20,"div",14)(21,"button",15),it("click",function(){return o.SSOLogin()}),Ae(22,"Microsoft SSO Login"),ge()()()()()()),2&r&&(Ye(6),Dt("formGroup",o.formData))},dependencies:[Kf,la,Nf,xf,jl,Vl,Qf],styles:[".form-signin[_ngcontent-%COMP%]{max-width:330px;padding:15px;margin:0 auto}input[_ngcontent-%COMP%]{margin-bottom:20px}"]})}return e})(),CF=(()=>{class e{constructor(n,r,o){this.authService=n,this.router=r,this.msalservice=o}ngOnInit(){this.authService.logout(),this.router.navigate(["/"])}static#e=this.\u0275fac=function(r){return new(r||e)(ee(bl),ee(xt),ee(oo))};static#t=this.\u0275cmp=Er({type:e,selectors:[["app-logout"]],decls:0,vars:0,template:function(r,o){}})}return e})(),vA=(()=>{class e{constructor(n,r){this.authService=n,this.router=r}canActivate(n,r){return this.checkLogin(r.url)}checkLogin(n){console.log("Url: "+n);let r=localStorage.getItem("isUserLoggedIn");return null==r||"true"!=r?this.router.parseUrl("/login"):"/login"!=n||(this.router.parseUrl("/home"),!1)}static#e=this.\u0275fac=function(r){return new(r||e)(me(bl),me(xt))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const EF=[{path:"login",component:_A},{path:"logout",component:CF},{path:"denied",component:(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Er({type:e,selectors:[["app-accessdenied"]],decls:7,vars:0,consts:[[1,"row","mt-5"],[1,"col-12"],["role","alert",1,"alert","alert-danger"],["routerLink","/login"]],template:function(r,o){1&r&&(ae(0,"div",0)(1,"div",1)(2,"div",2),Ae(3," Access Denied. Please Contact Admin for Access. "),ae(4,"a",3),Ae(5,"Click to Login"),ge(),Ae(6," Again "),ge()()())},dependencies:[aa]})}return e})()},{path:"home",component:_F,canActivate:[vA]},{path:"admin",component:vF,canActivate:[vA]},{path:"",component:_A}];let IF=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Cn({type:e});static#n=this.\u0275inj=rn({imports:[aI.forRoot(EF),aI]})}return e})();var AF=w(2526),TF=w(1216),CA=w(9509);class wF{constructor(t){this.browserEnvironment=typeof window<"u",this.config=(0,TF._7)(t,this.browserEnvironment),this.logger=new AF.Y(this.config.system.loggerOptions,CA.u,CA.i),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}let EA=(()=>{class e extends wF{getModuleName(){return e.MODULE_NAME}getId(){return e.ID}initialize(){var n=this;return(0,Xr.Z)(function*(){return n.available=typeof window<"u",n.available})()}}return e.MODULE_NAME="",e.ID="StandardOperatingContext",e})();function Xf(){return(Xf=(0,Xr.Z)(function*(e){const t=new EA(e);return yield t.initialize(),(yield Promise.resolve().then(w.bind(w,4954))).StandardController.createController(t)})).apply(this,arguments)}var DF=w(4954);class tp{static createPublicClientApplication(t){return(0,Xr.Z)(function*(){const n=yield function SF(e){return Xf.apply(this,arguments)}(t);return new tp(t,n)})()}constructor(t,n){if(n)this.controller=n;else{const r=new EA(t);this.controller=new DF.StandardController(r)}}initialize(){var t=this;return(0,Xr.Z)(function*(){return t.controller.initialize()})()}acquireTokenPopup(t){var n=this;return(0,Xr.Z)(function*(){return n.controller.acquireTokenPopup(t)})()}acquireTokenRedirect(t){return this.controller.acquireTokenRedirect(t)}acquireTokenSilent(t){return this.controller.acquireTokenSilent(t)}acquireTokenByCode(t){return this.controller.acquireTokenByCode(t)}addEventCallback(t){return this.controller.addEventCallback(t)}removeEventCallback(t){return this.controller.removeEventCallback(t)}addPerformanceCallback(t){return this.controller.addPerformanceCallback(t)}removePerformanceCallback(t){return this.controller.removePerformanceCallback(t)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(t){return this.controller.getAccount(t)}getAccountByHomeId(t){return this.controller.getAccountByHomeId(t)}getAccountByLocalId(t){return this.controller.getAccountByLocalId(t)}getAccountByUsername(t){return this.controller.getAccountByUsername(t)}getAllAccounts(t){return this.controller.getAllAccounts(t)}handleRedirectPromise(t){return this.controller.handleRedirectPromise(t)}loginPopup(t){return this.controller.loginPopup(t)}loginRedirect(t){return this.controller.loginRedirect(t)}logout(t){return this.controller.logout(t)}logoutRedirect(t){return this.controller.logoutRedirect(t)}logoutPopup(t){return this.controller.logoutPopup(t)}ssoSilent(t){return this.controller.ssoSilent(t)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(t){this.controller.setLogger(t)}setActiveAccount(t){this.controller.setActiveAccount(t)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(t,n){return this.controller.initializeWrapperLibrary(t,n)}setNavigationClient(t){this.controller.setNavigationClient(t)}getConfiguration(){return this.controller.getConfiguration()}hydrateCache(t,n){var r=this;return(0,Xr.Z)(function*(){return r.controller.hydrateCache(t,n)})()}clearCache(t){return this.controller.clearCache(t)}}const np={production:!0,clientId:"c239cee7-a528-4f5d-a711-06d20ada42a5",redirectUri:"https://probusrodrigues.github.io/"},bF=["addListener","removeListener"],MF=["addEventListener","removeEventListener"],RF=["on","off"];function zl(e,t,n,r){if(v(n)&&(r=n,n=void 0),r)return zl(e,t,n).pipe(Yh(r));const[o,i]=function PF(e){return v(e.addEventListener)&&v(e.removeEventListener)}(e)?MF.map(s=>l=>e[s](t,l,n)):function kF(e){return v(e.addListener)&&v(e.removeListener)}(e)?bF.map(IA(e,t)):function OF(e){return v(e.on)&&v(e.off)}(e)?RF.map(IA(e,t)):[];if(!o&&Hi(e))return Ct(s=>zl(s,t,n))(Wt(e));if(!o)throw new TypeError("Invalid event target");return new Y(s=>{const l=(...d)=>s.next(1<d.length?d:d[0]);return o(l),()=>i(l)})}function IA(e,t){return n=>r=>e[n](t,r)}const co=new Y(K),xF={connector:()=>new lt};function AA(e,t=xF){const{connector:n}=t;return qe((r,o)=>{const i=n();Wt(e(function NF(e){return new Y(t=>e.subscribe(t))}(i))).subscribe(o),o.add(r.subscribe(i))})}const ma="Service workers are disabled or not supported by this browser";class Gl{constructor(t){if(this.serviceWorker=t,t){const r=zl(t,"controllerchange").pipe(we(()=>t.controller)),i=Ks(il(()=>_e(t.controller)),r);this.worker=i.pipe(mn(g=>!!g)),this.registration=this.worker.pipe(gn(()=>t.getRegistration()));const h=zl(t,"message").pipe(we(g=>g.data)).pipe(mn(g=>g&&g.type)).pipe(function FF(e){return e?t=>AA(e)(t):t=>function LF(e,t){const n=v(e)?e:()=>e;return v(t)?AA(t,{connector:n}):r=>new Jh(r,n)}(new lt)(t)}());h.connect(),this.events=h}else this.worker=this.events=this.registration=function UF(e){return il(()=>Ai(new Error(e)))}(ma)}postMessage(t,n){return this.worker.pipe(fn(1),Nt(r=>{r.postMessage({action:t,...n})})).toPromise().then(()=>{})}postMessageWithOperation(t,n,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(t,n);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let n;return n="string"==typeof t?r=>r.type===t:r=>t.includes(r.type),this.events.pipe(mn(n))}nextEventOfType(t){return this.eventsOfType(t).pipe(fn(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(mn(n=>n.nonce===t),fn(1),we(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let HF=(()=>{class e{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new lt,!n.isEnabled)return this.messages=co,this.notificationClicks=co,void(this.subscription=co);this.messages=this.sw.eventsOfType("PUSH").pipe(we(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(we(o=>o.data)),this.pushManager=this.sw.registration.pipe(we(o=>o.pushManager));const r=this.pushManager.pipe(gn(o=>o.getSubscription()));this.subscription=Gi(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ma));const r={userVisibleOnly:!0};let o=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(gn(s=>s.subscribe(r)),fn(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(fn(1),gn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ma))}decodeBase64(n){return atob(n)}}return e.\u0275fac=function(n){return new(n||e)(me(Gl))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),BF=(()=>{class e{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=co,this.available=co,this.activated=co,void(this.unrecoverable=co);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(mn(r=>"VERSION_READY"===r.type),we(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ma));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ma));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}}return e.\u0275fac=function(n){return new(n||e)(me(Gl))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();class rp{}const TA=new Ce("NGSW_REGISTER_SCRIPT");function VF(e,t,n,r){return()=>{if(!EC(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)o=n.registrationStrategy();else{const[s,...l]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=_e(null);break;case"registerWithDelay":o=wA(+l[0]||0);break;case"registerWhenStable":o=l[0]?Gi(SA(e),wA(+l[0])):SA(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}e.get(vt).runOutsideAngular(()=>o.pipe(fn(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:n.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function wA(e){return _e(null).pipe(YC(e))}function SA(e){return e.get(Fs).isStable.pipe(mn(n=>n))}function $F(e,t){return new Gl(EC(t)&&!1!==e.enabled?navigator.serviceWorker:void 0)}let jF=(()=>{class e{static register(n,r={}){return{ngModule:e,providers:[{provide:TA,useValue:n},{provide:rp,useValue:r},{provide:Gl,useFactory:$F,deps:[rp,xc]},{provide:xs,useFactory:VF,deps:[Kn,TA,rp,xc],multi:!0}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=rn({providers:[HF,BF]}),e})();function zF(){return new tp({auth:{clientId:np.clientId,redirectUri:np.redirectUri},system:{allowNativeBroker:!1}})}let GF=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Cn({type:e,bootstrap:[_L]});static#n=this.\u0275inj=rn({providers:[{provide:Dl,useFactory:zF},oo],imports:[uP,IF,mA,yA,hL,jF.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),mA,yA]})}return e})();lP().bootstrapModule(GF).catch(e=>console.error(e))},6555:(Ee,Q,w)=>{w.d(Q,{k:()=>v});class v{constructor(){this.cache=new Map}getItem(R){return this.cache.get(R)||null}setItem(R,O){this.cache.set(R,O)}removeItem(R){this.cache.delete(R)}getKeys(){const R=[];return this.cache.forEach((O,E)=>{R.push(E)}),R}containsKey(R){return this.cache.has(R)}clear(){this.cache.clear()}}},1216:(Ee,Q,w)=>{w.d(Q,{Is:()=>ne,_7:()=>F});var v=w(9128),f=w(1763),R=w(6145),O=w(2526),E=w(1878),I=w(464),C=w(322);const H={sendGetRequestAsync:()=>Promise.reject((0,I.zP)(C.M2)),sendPostRequestAsync:()=>Promise.reject((0,I.zP)(C.M2))};var S=w(905);class V{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class N{generateId(){return"callback-id"}startMeasurement(k,x){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:S.$L.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:k,startTimeMs:Date.now(),correlationId:x||""},measurement:new V}}startPerformanceMeasurement(){return new V}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}var K=w(8061),ce=w(1288),q=w(8468);class se{navigateInternal(k,x){return se.defaultNavigateWindow(k,x)}navigateExternal(k,x){return se.defaultNavigateWindow(k,x)}static defaultNavigateWindow(k,x){return x.noHistory?window.location.replace(k):window.location.assign(k),new Promise($=>{setTimeout(()=>{$(!0)},x.timeout)})}}var D=w(5861),b=w(9141),j=w(9238);class J{sendGetRequestAsync(k,x){var $=this;return(0,D.Z)(function*(){let ie;try{ie=yield fetch(k,{method:q.EC.GET,headers:$.getFetchHeaders(x)})}catch{throw window.navigator.onLine?(0,b.Z_)(j.C8):(0,b.Z_)(j.Mq)}try{return{headers:$.getHeaderDict(ie.headers),body:yield ie.json(),status:ie.status}}catch{throw(0,b.Z_)(j.w6)}})()}sendPostRequestAsync(k,x){var $=this;return(0,D.Z)(function*(){const ie=x&&x.body||v.gT.EMPTY_STRING;let ue;try{ue=yield fetch(k,{method:q.EC.POST,headers:$.getFetchHeaders(x),body:ie})}catch{throw window.navigator.onLine?(0,b.Z_)(j.Dc):(0,b.Z_)(j.Mq)}try{return{headers:$.getHeaderDict(ue.headers),body:yield ue.json(),status:ue.status}}catch{throw(0,b.Z_)(j.w6)}})()}getFetchHeaders(k){const x=new Headers;if(!k||!k.headers)return x;const $=k.headers;return Object.keys($).forEach(ie=>{x.append(ie,$[ie])}),x}getHeaderDict(k){const x={};return k.forEach(($,ie)=>{x[ie]=$}),x}}const L=6e4,ne=1e4,le=3e4,pe=2e3;function F({auth:m,cache:k,system:x,telemetry:$},ie){const ue={clientId:v.gT.EMPTY_STRING,authority:`${v.gT.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:v.gT.EMPTY_STRING,authorityMetadata:v.gT.EMPTY_STRING,redirectUri:v.gT.EMPTY_STRING,postLogoutRedirectUri:v.gT.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:f.A.AAD,OIDCOptions:{serverResponseType:v.rg.FRAGMENT,defaultScopes:[v.gT.OPENID_SCOPE,v.gT.PROFILE_SCOPE,v.gT.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:R.z.None,tenant:v.gT.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1},ye={cacheLocation:q.Ix.SessionStorage,temporaryCacheLocation:q.Ix.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!k||k.cacheLocation!==q.Ix.LocalStorage),claimsBasedCachingEnabled:!1},Re={loggerCallback:()=>{},logLevel:O.i.Info,piiLoggingEnabled:!1},nt={...{...E.z,loggerOptions:Re,networkClient:ie?new J:H,navigationClient:new se,loadFrameTimeout:0,windowHashTimeout:x?.loadFrameTimeout||L,iframeHashTimeout:x?.loadFrameTimeout||ne,navigateFrameWait:0,redirectNavigationTimeout:le,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:x?.nativeBrokerHandshakeTimeout||pe,pollIntervalMilliseconds:q.qx.DEFAULT_POLL_INTERVAL_MS},...x,loggerOptions:x?.loggerOptions||Re},rt={application:{appName:v.gT.EMPTY_STRING,appVersion:v.gT.EMPTY_STRING},client:new N};if(m?.protocolMode!==f.A.OIDC&&m?.OIDCOptions&&new O.Y(nt.loggerOptions).warning(JSON.stringify((0,K.ei)(ce.qz))),m?.protocolMode&&m.protocolMode!==f.A.AAD&&nt?.allowNativeBroker)throw(0,K.ei)(ce.Ol);return{auth:{...ue,...m,OIDCOptions:{...ue.OIDCOptions,...m?.OIDCOptions}},cache:{...ye,...k},system:nt,telemetry:{...rt,...$}}}},4954:(Ee,Q,w)=>{w.r(Q),w.d(Q,{StandardController:()=>ho});var v=w(5861),f=w(7918),R=w(368),O=w(3071),E=w(905),I=w(9312),C=w(9128),H=w(1635),S=w(4191),V=w(464),N=w(322),K=w(7712),ce=w(1071),q=w(5764),se=w(1783);class D{generateAppMetadataKey(){return D.generateAppMetadataCacheKey(this.environment,this.clientId)}static generateAppMetadataCacheKey(a,c){return[C.dg,a,c].join(C.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}static createAppMetadataEntity(a,c,u){const p=new D;return p.clientId=a,p.environment=c,u&&(p.familyId=u),p}static isAppMetadataEntity(a,c){return!!c&&0===a.indexOf(C.dg)&&c.hasOwnProperty("clientId")&&c.hasOwnProperty("environment")}}var b=w(9084);class j{static isThrottlingEntity(a,c){let u=!1;a&&(u=0===a.indexOf(C.bb.THROTTLING_PREFIX));let p=!0;return c&&(p=c.hasOwnProperty("throttleTime")),u&&p}}var J=w(2007);class L{static setRequestState(a,c,u){const p=L.generateLibraryState(a,u);return c?`${p}${C.gT.RESOURCE_DELIM}${c}`:p}static generateLibraryState(a,c){if(!a)throw(0,V.zP)(N.QL);const u={id:a.createNewGuid()};c&&(u.meta=c);const p=JSON.stringify(u);return a.base64Encode(p)}static parseRequestState(a,c){if(!a)throw(0,V.zP)(N.QL);if(!c)throw(0,V.zP)(N.r8);try{const u=c.split(C.gT.RESOURCE_DELIM),p=u[0],y=u.length>1?u.slice(1).join(C.gT.RESOURCE_DELIM):C.gT.EMPTY_STRING,A=a.base64Decode(p),T=JSON.parse(A);return{userRequestState:y||C.gT.EMPTY_STRING,libraryState:T}}catch{throw(0,V.zP)(N.r8)}}}var le=w(2103);class pe{constructor(a,c,u,p,y){this.account=a||null,this.idToken=c||null,this.accessToken=u||null,this.refreshToken=p||null,this.appMetadata=y||null}}var F=w(9141),m=w(8468),k=w(6290),x=w(9616);class ${constructor(a){this.validateWindowStorage(a),this.windowStorage=window[a]}validateWindowStorage(a){if(a!==m.Ix.LocalStorage&&a!==m.Ix.SessionStorage||!window[a])throw(0,k.Z1)(x.m4)}getItem(a){return this.windowStorage.getItem(a)}setItem(a,c){this.windowStorage.setItem(a,c)}removeItem(a){this.windowStorage.removeItem(a)}getKeys(){return Object.keys(this.windowStorage)}containsKey(a){return this.windowStorage.hasOwnProperty(a)}}var ie=w(6555);function ue(re,a){if(!a)return null;try{return L.parseRequestState(re,a).libraryState.meta}catch{throw(0,V.zP)(N.r8)}}var ye=w(3830),Re=w(3675),Y=w(9238);class nt extends q.L{constructor(a,c,u,p,y){super(a,u,p,y),this.COOKIE_LIFE_MULTIPLIER=864e5,this.cacheConfig=c,this.logger=p,this.internalStorage=new ie.k,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),c.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps())}setupBrowserStorage(a){switch(a){case m.Ix.LocalStorage:case m.Ix.SessionStorage:try{return new $(a)}catch(c){this.logger.verbose(c);break}}return this.cacheConfig.cacheLocation=m.Ix.MemoryStorage,new ie.k}setupTemporaryCacheStorage(a,c){switch(c){case m.Ix.LocalStorage:case m.Ix.SessionStorage:try{return new $(a||m.Ix.SessionStorage)}catch(u){return this.logger.verbose(u),this.internalStorage}default:return this.internalStorage}}migrateCacheEntries(){const c=`${C.gT.CACHE_PREFIX}.${C.Vi.CLIENT_INFO}`,u=`${C.gT.CACHE_PREFIX}.${C.Vi.ERROR}`,p=`${C.gT.CACHE_PREFIX}.${C.Vi.ERROR_DESC}`,U=[this.browserStorage.getItem(`${C.gT.CACHE_PREFIX}.${C.Vi.ID_TOKEN}`),this.browserStorage.getItem(c),this.browserStorage.getItem(u),this.browserStorage.getItem(p)];[C.Vi.ID_TOKEN,C.Vi.CLIENT_INFO,C.Vi.ERROR,C.Vi.ERROR_DESC].forEach((ve,Oe)=>this.migrateCacheEntry(ve,U[Oe]))}migrateCacheEntry(a,c){c&&this.setTemporaryCache(a,c,!0)}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const a=this.getItem(m.Oq.ACCOUNT_KEYS),c=this.getItem(`${m.Oq.TOKEN_KEYS}.${this.clientId}`);a&&c?this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration."):this.browserStorage.getKeys().forEach(p=>{if(this.isCredentialKey(p)){const y=this.getItem(p);if(y){const A=this.validateAndParseJson(y);if(A&&A.hasOwnProperty("credentialType"))switch(A.credentialType){case C.d3.ID_TOKEN:if(se.Bq(A)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${p} found, saving key to token key map`);const z=this.updateCredentialCacheKey(p,A);return void this.addTokenKey(z,C.d3.ID_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${p}`);break;case C.d3.ACCESS_TOKEN:case C.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(se.Om(A)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${p} found, saving key to token key map`);const z=this.updateCredentialCacheKey(p,A);return void this.addTokenKey(z,C.d3.ACCESS_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${p}`);break;case C.d3.REFRESH_TOKEN:if(se.x4(A)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${p} found, saving key to token key map`);const z=this.updateCredentialCacheKey(p,A);return void this.addTokenKey(z,C.d3.REFRESH_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${p}`)}}}if(this.isAccountKey(p)){const y=this.getItem(p);if(y){const A=this.validateAndParseJson(y);A&&K.r.isAccountEntity(A)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${p} found, saving key to account key map`),this.addAccountKeyToMap(p))}}})}validateAndParseJson(a){try{const c=JSON.parse(a);return c&&"object"==typeof c?c:null}catch{return null}}getItem(a){return this.browserStorage.getItem(a)}setItem(a,c){this.browserStorage.setItem(a,c)}getAccount(a,c){this.logger.trace("BrowserCacheManager.getAccount called");const u=this.getCachedAccountEntity(a);return this.updateOutdatedCachedAccount(a,u,c)}getCachedAccountEntity(a){const c=this.getItem(a);if(!c)return this.removeAccountKeyFromMap(a),null;const u=this.validateAndParseJson(c);return u&&K.r.isAccountEntity(u)?q.L.toObject(new K.r,u):(this.removeAccountKeyFromMap(a),null)}setAccount(a){this.logger.trace("BrowserCacheManager.setAccount called");const c=a.generateAccountKey();this.setItem(c,JSON.stringify(a)),this.addAccountKeyToMap(c)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const a=this.getItem(m.Oq.ACCOUNT_KEYS);return a?JSON.parse(a):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(a){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${a}`);const c=this.getAccountKeys();-1===c.indexOf(a)?(c.push(a),this.setItem(m.Oq.ACCOUNT_KEYS,JSON.stringify(c)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(a){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${a}`);const c=this.getAccountKeys(),u=c.indexOf(a);u>-1?(c.splice(u,1),this.setItem(m.Oq.ACCOUNT_KEYS,JSON.stringify(c)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(a){var c=()=>super.removeAccount,u=this;return(0,v.Z)(function*(){c().call(u,a),u.removeAccountKeyFromMap(a)})()}removeOutdatedAccount(a){this.removeItem(a),this.removeAccountKeyFromMap(a)}removeIdToken(a){super.removeIdToken(a),this.removeTokenKey(a,C.d3.ID_TOKEN)}removeAccessToken(a){var c=()=>super.removeAccessToken,u=this;return(0,v.Z)(function*(){c().call(u,a),u.removeTokenKey(a,C.d3.ACCESS_TOKEN)})()}removeRefreshToken(a){super.removeRefreshToken(a),this.removeTokenKey(a,C.d3.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const a=this.getItem(`${m.Oq.TOKEN_KEYS}.${this.clientId}`);if(a){const c=this.validateAndParseJson(a);if(c&&c.hasOwnProperty("idToken")&&c.hasOwnProperty("accessToken")&&c.hasOwnProperty("refreshToken"))return c;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(a,c){this.logger.trace("BrowserCacheManager addTokenKey called");const u=this.getTokenKeys();switch(c){case C.d3.ID_TOKEN:-1===u.idToken.indexOf(a)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),u.idToken.push(a));break;case C.d3.ACCESS_TOKEN:-1===u.accessToken.indexOf(a)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),u.accessToken.push(a));break;case C.d3.REFRESH_TOKEN:-1===u.refreshToken.indexOf(a)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),u.refreshToken.push(a));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${c}`),(0,V.zP)(N.cy)}this.setItem(`${m.Oq.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(u))}removeTokenKey(a,c){this.logger.trace("BrowserCacheManager removeTokenKey called");const u=this.getTokenKeys();switch(c){case C.d3.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${a} from map`);const p=u.idToken.indexOf(a);p>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),u.idToken.splice(p,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case C.d3.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${a} from map`);const y=u.accessToken.indexOf(a);y>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),u.accessToken.splice(y,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case C.d3.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${a} from map`);const A=u.refreshToken.indexOf(a);A>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),u.refreshToken.splice(A,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${c}`),(0,V.zP)(N.cy)}this.setItem(`${m.Oq.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(u))}getIdTokenCredential(a){const c=this.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(a,C.d3.ID_TOKEN),null;const u=this.validateAndParseJson(c);return u&&se.Bq(u)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),u):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(a,C.d3.ID_TOKEN),null)}setIdTokenCredential(a){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const c=se.Mk(a);this.setItem(c,JSON.stringify(a)),this.addTokenKey(c,C.d3.ID_TOKEN)}getAccessTokenCredential(a){const c=this.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(a,C.d3.ACCESS_TOKEN),null;const u=this.validateAndParseJson(c);return u&&se.Om(u)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),u):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(a,C.d3.ACCESS_TOKEN),null)}setAccessTokenCredential(a){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const c=se.Mk(a);this.setItem(c,JSON.stringify(a)),this.addTokenKey(c,C.d3.ACCESS_TOKEN)}getRefreshTokenCredential(a){const c=this.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(a,C.d3.REFRESH_TOKEN),null;const u=this.validateAndParseJson(c);return u&&se.x4(u)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),u):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(a,C.d3.REFRESH_TOKEN),null)}setRefreshTokenCredential(a){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const c=se.Mk(a);this.setItem(c,JSON.stringify(a)),this.addTokenKey(c,C.d3.REFRESH_TOKEN)}getAppMetadata(a){const c=this.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const u=this.validateAndParseJson(c);return u&&D.isAppMetadataEntity(a,u)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),q.L.toObject(new D,u)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)}setAppMetadata(a){this.logger.trace("BrowserCacheManager.setAppMetadata called");const c=a.generateAppMetadataKey();this.setItem(c,JSON.stringify(a))}getServerTelemetry(a){const c=this.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const u=this.validateAndParseJson(c);return u&&se.Js(a,u)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),u):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(a,c){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(a,JSON.stringify(c))}getAuthorityMetadata(a){const c=this.internalStorage.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const u=this.validateAndParseJson(c);return u&&b.l.isAuthorityMetadataEntity(a,u)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),q.L.toObject(new b.l,u)):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(c=>this.isAuthorityMetadata(c))}setWrapperMetadata(a,c){this.internalStorage.setItem(m.Bs.WRAPPER_SKU,a),this.internalStorage.setItem(m.Bs.WRAPPER_VER,c)}getWrapperMetadata(){return[this.internalStorage.getItem(m.Bs.WRAPPER_SKU)||C.gT.EMPTY_STRING,this.internalStorage.getItem(m.Bs.WRAPPER_VER)||C.gT.EMPTY_STRING]}setAuthorityMetadata(a,c){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(a,JSON.stringify(c))}getActiveAccount(){const a=this.generateCacheKey(C.Vi.ACTIVE_ACCOUNT_FILTERS),c=this.getItem(a);if(!c){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const p=this.generateCacheKey(C.Vi.ACTIVE_ACCOUNT),y=this.getItem(p);if(!y)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const A=this.getAccountInfoFilteredBy({localAccountId:y});return A?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(A),A):null}const u=this.validateAndParseJson(c);return u?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:u.homeAccountId,localAccountId:u.localAccountId,tenantId:u.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(a){const c=this.generateCacheKey(C.Vi.ACTIVE_ACCOUNT_FILTERS),u=this.generateCacheKey(C.Vi.ACTIVE_ACCOUNT);a?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(c,JSON.stringify({homeAccountId:a.homeAccountId,localAccountId:a.localAccountId,tenantId:a.tenantId})),this.browserStorage.setItem(u,a.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(c),this.browserStorage.removeItem(u))}getThrottlingCache(a){const c=this.getItem(a);if(!c)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const u=this.validateAndParseJson(c);return u&&j.isThrottlingEntity(a,u)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),q.L.toObject(new j,u)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(a,c){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(a,JSON.stringify(c))}getTemporaryCache(a,c){const u=c?this.generateCacheKey(a):a;if(this.cacheConfig.storeAuthStateInCookie){const y=this.getItemCookie(u);if(y)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),y}const p=this.temporaryCacheStorage.getItem(u);if(!p){if(this.cacheConfig.cacheLocation===m.Ix.LocalStorage){const y=this.browserStorage.getItem(u);if(y)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),y}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),p}setTemporaryCache(a,c,u){const p=u?this.generateCacheKey(a):a;this.temporaryCacheStorage.setItem(p,c),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(p,c))}removeItem(a){this.browserStorage.removeItem(a),this.temporaryCacheStorage.removeItem(a),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(a))}containsKey(a){return this.browserStorage.containsKey(a)||this.temporaryCacheStorage.containsKey(a)}getKeys(){return[...this.browserStorage.getKeys(),...this.temporaryCacheStorage.getKeys()]}clear(){var a=this;return(0,v.Z)(function*(){yield a.removeAllAccounts(),a.removeAppMetadata(),a.getKeys().forEach(c=>{(a.browserStorage.containsKey(c)||a.temporaryCacheStorage.containsKey(c))&&(-1!==c.indexOf(C.gT.CACHE_PREFIX)||-1!==c.indexOf(a.clientId))&&a.removeItem(c)}),a.internalStorage.clear()})()}clearTokensAndKeysWithClaims(a){var c=this;return(0,v.Z)(function*(){a.addQueueMeasurement(E.Ak.ClearTokensAndKeysWithClaims);const u=c.getTokenKeys(),p=[];u.accessToken.forEach(y=>{const A=c.getAccessTokenCredential(y);A?.requestedClaimsHash&&y.includes(A.requestedClaimsHash.toLowerCase())&&p.push(c.removeAccessToken(y))}),yield Promise.all(p),p.length>0&&c.logger.warning(`${p.length} access tokens with claims in the cache keys have been removed from the cache.`)})()}setItemCookie(a,c,u){let p=`${encodeURIComponent(a)}=${encodeURIComponent(c)};path=/;SameSite=Lax;`;u&&(p+=`expires=${this.getCookieExpirationTime(u)};`),this.cacheConfig.secureCookies&&(p+="Secure;"),document.cookie=p}getItemCookie(a){const c=`${encodeURIComponent(a)}=`,u=document.cookie.split(";");for(let p=0;p<u.length;p++){let y=u[p];for(;" "===y.charAt(0);)y=y.substring(1);if(0===y.indexOf(c))return decodeURIComponent(y.substring(c.length,y.length))}return C.gT.EMPTY_STRING}clearMsalCookies(){const a=`${C.gT.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach(u=>{for(;" "===u.charAt(0);)u=u.substring(1);if(0===u.indexOf(a)){const p=u.split("=")[0];this.clearItemCookie(p)}})}clearItemCookie(a){this.setItemCookie(a,C.gT.EMPTY_STRING,-1)}getCookieExpirationTime(a){return new Date((new Date).getTime()+a*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}getCache(){return this.browserStorage}setCache(){}generateCacheKey(a){return this.validateAndParseJson(a)?JSON.stringify(a):J.x.startsWith(a,C.gT.CACHE_PREFIX)||J.x.startsWith(a,C.Vi.ADAL_ID_TOKEN)?a:`${C.gT.CACHE_PREFIX}.${this.clientId}.${a}`}generateAuthorityKey(a){const{libraryState:{id:c}}=L.parseRequestState(this.cryptoImpl,a);return this.generateCacheKey(`${m.c4.AUTHORITY}.${c}`)}generateNonceKey(a){const{libraryState:{id:c}}=L.parseRequestState(this.cryptoImpl,a);return this.generateCacheKey(`${m.c4.NONCE_IDTOKEN}.${c}`)}generateStateKey(a){const{libraryState:{id:c}}=L.parseRequestState(this.cryptoImpl,a);return this.generateCacheKey(`${m.c4.REQUEST_STATE}.${c}`)}getCachedAuthority(a){const c=this.generateStateKey(a),u=this.getTemporaryCache(c);if(!u)return null;const p=this.generateAuthorityKey(u);return this.getTemporaryCache(p)}updateCacheEntries(a,c,u,p,y){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const A=this.generateStateKey(a);this.setTemporaryCache(A,a,!1);const T=this.generateNonceKey(a);this.setTemporaryCache(T,c,!1);const z=this.generateAuthorityKey(a);this.setTemporaryCache(z,u,!1),y?this.setTemporaryCache(m.c4.CCS_CREDENTIAL,JSON.stringify({credential:y.homeAccountId,type:"home_account_id"}),!0):p&&this.setTemporaryCache(m.c4.CCS_CREDENTIAL,JSON.stringify({credential:p,type:"UPN"}),!0)}resetRequestCache(a){this.logger.trace("BrowserCacheManager.resetRequestCache called"),a&&(this.getKeys().forEach(c=>{-1!==c.indexOf(a)&&this.removeItem(c)}),this.removeItem(this.generateStateKey(a)),this.removeItem(this.generateNonceKey(a)),this.removeItem(this.generateAuthorityKey(a))),this.removeItem(this.generateCacheKey(m.c4.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(m.c4.ORIGIN_URI)),this.removeItem(this.generateCacheKey(m.c4.URL_HASH)),this.removeItem(this.generateCacheKey(m.c4.CORRELATION_ID)),this.removeItem(this.generateCacheKey(m.c4.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(m.c4.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(a){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),a){const c=this.generateStateKey(a),u=this.temporaryCacheStorage.getItem(c);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${u}`),this.resetRequestCache(u||C.gT.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(a){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(c=>{if(-1===c.indexOf(m.c4.REQUEST_STATE))return;const u=this.temporaryCacheStorage.getItem(c);if(!u)return;const p=ue(this.cryptoImpl,u);p&&p.interactionType===a&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${u}`),this.resetRequestCache(u))}),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(a){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const c=(0,Re.h$)(JSON.stringify(a));this.setTemporaryCache(m.c4.REQUEST_PARAMS,c,!0)}getCachedRequest(a){this.logger.trace("BrowserCacheManager.getCachedRequest called");const c=this.getTemporaryCache(m.c4.REQUEST_PARAMS,!0);if(!c)throw(0,F.Z_)(Y.QO);let u;try{u=JSON.parse((0,ye.t)(c))}catch(p){throw this.logger.errorPii(`Attempted to parse: ${c}`),this.logger.error(`Parsing cached token request threw with error: ${p}`),(0,F.Z_)(Y.e$)}if(this.removeItem(this.generateCacheKey(m.c4.REQUEST_PARAMS)),!u.authority){const p=this.generateAuthorityKey(a),y=this.getTemporaryCache(p);if(!y)throw(0,F.Z_)(Y.dT);u.authority=y}return u}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const a=this.getTemporaryCache(m.c4.NATIVE_REQUEST,!0);return a?this.validateAndParseJson(a)||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null):(this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null)}isInteractionInProgress(a){const c=this.getInteractionInProgress();return a?c===this.clientId:!!c}getInteractionInProgress(){return this.getTemporaryCache(`${C.gT.CACHE_PREFIX}.${m.c4.INTERACTION_STATUS_KEY}`,!1)}setInteractionInProgress(a){const c=`${C.gT.CACHE_PREFIX}.${m.c4.INTERACTION_STATUS_KEY}`;if(a){if(this.getInteractionInProgress())throw(0,F.Z_)(Y.Ck);this.setTemporaryCache(c,this.clientId,!1)}else!a&&this.getInteractionInProgress()===this.clientId&&this.removeItem(c)}getLegacyLoginHint(){const a=this.getTemporaryCache(C.Vi.ADAL_ID_TOKEN);a&&(this.browserStorage.removeItem(C.Vi.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const c=this.getTemporaryCache(C.Vi.ID_TOKEN,!0);c&&(this.removeItem(this.generateCacheKey(C.Vi.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const u=c||a;if(u){const p=le.Z_(u,ye.t);if(p.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),p.preferred_username;if(p.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),p.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(a,c){const u=se.Mk(c);if(a!==u){const p=this.getItem(a);if(p)return this.removeItem(a),this.setItem(u,p),this.logger.verbose(`Updated an outdated ${c.credentialType} cache key`),u;this.logger.error(`Attempted to update an outdated ${c.credentialType} cache key but no item matching the outdated key was found in storage`)}return a}getRedirectRequestContext(){return this.getTemporaryCache(m.c4.REDIRECT_CONTEXT,!0)}setRedirectRequestContext(a){this.setTemporaryCache(m.c4.REDIRECT_CONTEXT,a,!0)}hydrateCache(a,c){var u=this;return(0,v.Z)(function*(){const p=se.Md(a.account?.homeAccountId,a.account?.environment,a.idToken,u.clientId,a.tenantId);let y;c.claims&&(y=yield u.cryptoImpl.hashString(c.claims));const A=se.Ds(a.account?.homeAccountId,a.account.environment,a.accessToken,u.clientId,a.tenantId,a.scopes.join(" "),a.expiresOn?.getTime()||0,a.extExpiresOn?.getTime()||0,ye.t,void 0,a.tokenType,void 0,c.sshKid,c.claims,y),T=new pe(void 0,p,A);return u.saveCacheRecord(T)})()}}var He=w(6644),Te=w(6521),lt=w(2573),Pt=w(1641);class wt{static generateThrottlingStorageKey(a){return`${C.bb.THROTTLING_PREFIX}.${JSON.stringify(a)}`}static preProcess(a,c){const u=wt.generateThrottlingStorageKey(c),p=a.getThrottlingCache(u);if(p){if(p.throttleTime<Date.now())return void a.removeItem(u);throw new Pt.n(p.errorCodes?.join(" ")||C.gT.EMPTY_STRING,p.errorMessage,p.subError)}}static postProcess(a,c,u){if(wt.checkResponseStatus(u)||wt.checkResponseForRetryAfter(u)){const p={throttleTime:wt.calculateThrottleTime(parseInt(u.headers[C.SZ.RETRY_AFTER])),error:u.body.error,errorCodes:u.body.error_codes,errorMessage:u.body.error_description,subError:u.body.suberror};a.setThrottlingCache(wt.generateThrottlingStorageKey(c),p)}}static checkResponseStatus(a){return 429===a.status||a.status>=500&&a.status<600}static checkResponseForRetryAfter(a){return!!a.headers&&a.headers.hasOwnProperty(C.SZ.RETRY_AFTER)&&(a.status<200||a.status>=300)}static calculateThrottleTime(a){const c=a<=0?0:a,u=Date.now()/1e3;return Math.floor(1e3*Math.min(u+(c||C.bb.DEFAULT_THROTTLE_TIME_SECONDS),u+C.bb.DEFAULT_MAX_THROTTLE_TIME_SECONDS))}static removeThrottle(a,c,u,p){const A=this.generateThrottlingStorageKey({clientId:c,authority:u.authority,scopes:u.scopes,homeAccountIdentifier:p,claims:u.claims,authenticationScheme:u.authenticationScheme,resourceRequestMethod:u.resourceRequestMethod,resourceRequestUri:u.resourceRequestUri,shrClaims:u.shrClaims,sshKid:u.sshKid});a.removeItem(A)}}w(1763);var Pe=w(3886),yn=w(1878);class we{constructor(a,c){this.networkClient=a,this.cacheManager=c}sendPostRequest(a,c,u){var p=this;return(0,v.Z)(function*(){let y;wt.preProcess(p.cacheManager,a);try{y=yield p.networkClient.sendPostRequestAsync(c,u)}catch(A){throw A instanceof S.l4?A:(0,V.zP)(N.EF)}return wt.postProcess(p.cacheManager,a,y),y})()}}var Br=w(2526),xi=w(8144),_n=w(9947),Vr=w(1267),Hn=w(8061),Bn=w(1288);class Xn{static createDiscoveredInstance(a,c,u,p,y,A,T){return(0,v.Z)(function*(){A?.addQueueMeasurement(E.Ak.AuthorityFactoryCreateDiscoveredInstance,T);const z=O.WU.transformCIAMAuthority((0,O.Dm)(a)),U=Xn.createInstance(z,c,u,p,y,A,T);try{return yield(0,I.i)(U.resolveEndpointsAsync.bind(U),E.Ak.AuthorityResolveEndpointsAsync,y,A,T)(),U}catch{throw(0,V.zP)(N.HO)}})()}static createInstance(a,c,u,p,y,A,T){if(!a)throw(0,Hn.ei)(Bn.To);return new O.WU(a,c,u,p,y,A,T)}}class Li{constructor(a,c){this.config=(0,yn.j6)(a),this.logger=new Br.Y(this.config.loggerOptions,xi.u,xi.i),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new we(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=c}createTokenRequestHeaders(a){const c={};if(c[C.SZ.CONTENT_TYPE]=C.gT.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&a)switch(a.type){case"home_account_id":try{const u=(0,_n.j)(a.credential);c[C.SZ.CCS_HEADER]=`Oid:${u.uid}@${u.utid}`}catch(u){this.logger.verbose("Could not parse home account ID for CCS Header: "+u)}break;case"UPN":c[C.SZ.CCS_HEADER]=`UPN: ${a.credential}`}return c}executePostToTokenEndpoint(a,c,u,p,y,A){var T=this;return(0,v.Z)(function*(){A&&T.performanceClient?.addQueueMeasurement(A,y);const z=yield T.networkManager.sendPostRequest(p,a,{body:c,headers:u});return T.performanceClient?.addFields({refreshTokenSize:z.body.refresh_token?.length||0,httpVerToken:z.headers?.[C.SZ.X_MS_HTTP_VERSION]||""},y),T.config.serverTelemetryManager&&z.status<500&&429!==z.status&&T.config.serverTelemetryManager.clearTelemetryCache(),z})()}updateAuthority(a,c){var u=this;return(0,v.Z)(function*(){u.performanceClient?.addQueueMeasurement(E.Ak.UpdateTokenEndpointAuthority,c);const p=`https://${a}/${u.authority.tenant}/`,y=yield Xn.createDiscoveredInstance(p,u.networkClient,u.cacheManager,u.authority.options,u.logger,u.performanceClient,c);u.authority=y})()}createTokenQueryParameters(a){const c=new Vr.H;return a.tokenQueryParameters&&c.addExtraQueryParameters(a.tokenQueryParameters),c.createQueryString()}}var $r=w(9883),tn=w(4226),fr=w(1530);class jr{constructor(a,c){this.cryptoUtils=a,this.performanceClient=c}generateCnf(a,c){var u=this;return(0,v.Z)(function*(){u.performanceClient?.addQueueMeasurement(E.Ak.PopTokenGenerateCnf,a.correlationId);const p=yield(0,I.i)(u.generateKid.bind(u),E.Ak.PopTokenGenerateCnf,c,u.performanceClient,a.correlationId)(a),y=u.cryptoUtils.base64Encode(JSON.stringify(p));return{kid:p.kid,reqCnfString:y,reqCnfHash:yield u.cryptoUtils.hashString(y)}})()}generateKid(a){var c=this;return(0,v.Z)(function*(){return c.performanceClient?.addQueueMeasurement(E.Ak.PopTokenGenerateKid,a.correlationId),{kid:yield c.cryptoUtils.getPublicKeyThumbprint(a),xms_ksl:"sw"}})()}signPopToken(a,c,u){var p=this;return(0,v.Z)(function*(){return p.signPayload(a,c,u)})()}signPayload(a,c,u,p){var y=this;return(0,v.Z)(function*(){const{resourceRequestMethod:A,resourceRequestUri:T,shrClaims:z,shrNonce:U,shrOptions:G}=u,Oe=(T?new Pe.G(T):void 0)?.getUrlComponents();return y.cryptoUtils.signJwt({at:a,ts:fr.I.nowSeconds(),m:A?.toUpperCase(),u:Oe?.HostNameAndPort,nonce:U||y.cryptoUtils.createNewGuid(),p:Oe?.AbsolutePath,q:Oe?.QueryString?[[],Oe.QueryString]:void 0,client_claims:z||void 0,...p},c,G,u.correlationId)})()}}class op{constructor(a,c){this.cache=a,this.hasChanged=c}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}var ip=w(4918),_a=w(2888);class Kt{constructor(a,c,u,p,y,A,T){this.clientId=a,this.cacheStorage=c,this.cryptoObj=u,this.logger=p,this.serializableCache=y,this.persistencePlugin=A,this.performanceClient=T}validateServerAuthorizationCodeResponse(a,c){if(!a.state||!c)throw(0,V.zP)(N.LV,a.state?"Cached State":"Server State");let u,p;try{u=decodeURIComponent(a.state)}catch{throw(0,V.zP)(N.r8,a.state)}try{p=decodeURIComponent(c)}catch{throw(0,V.zP)(N.r8,a.state)}if(u!==p)throw(0,V.zP)(N.Tu);if(a.error||a.error_description||a.suberror)throw(0,H.Cf)(a.error,a.error_description,a.suberror)?new H.Yo(a.error||"",a.error_description,a.suberror,a.timestamp||"",a.trace_id||"",a.correlation_id||"",a.claims||""):new Pt.n(a.error||"",a.error_description,a.suberror)}validateTokenResponse(a,c){if(a.error||a.error_description||a.suberror){const p=new Pt.n(a.error,`${a.error_codes} - [${a.timestamp}]: ${a.error_description} - Correlation ID: ${a.correlation_id} - Trace ID: ${a.trace_id}`,a.suberror);if(c&&a.status&&a.status>=C.oj.SERVER_ERROR_RANGE_START&&a.status<=C.oj.SERVER_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${p}`);if(c&&a.status&&a.status>=C.oj.CLIENT_ERROR_RANGE_START&&a.status<=C.oj.CLIENT_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${p}`);throw(0,H.Cf)(a.error,a.error_description,a.suberror)?new H.Yo(a.error,a.error_description,a.suberror,a.timestamp||C.gT.EMPTY_STRING,a.trace_id||C.gT.EMPTY_STRING,a.correlation_id||C.gT.EMPTY_STRING,a.claims||C.gT.EMPTY_STRING):p}}handleServerTokenResponse(a,c,u,p,y,A,T,z,U){var G=this;return(0,v.Z)(function*(){let ve,Oe;if(G.performanceClient?.addQueueMeasurement(E.Ak.HandleServerTokenResponse,a.correlation_id),a.id_token){if(ve=(0,le.Z_)(a.id_token||C.gT.EMPTY_STRING,G.cryptoObj.base64Decode),y&&y.nonce&&ve.nonce!==y.nonce)throw(0,V.zP)(N.vR);if(p.maxAge||0===p.maxAge){const Ke=ve.auth_time;if(!Ke)throw(0,V.zP)(N.w7);(0,le.ky)(Ke,p.maxAge)}}G.homeAccountIdentifier=K.r.generateHomeAccountId(a.client_info||C.gT.EMPTY_STRING,c.authorityType,G.logger,G.cryptoObj,ve),y&&y.state&&(Oe=L.parseRequestState(G.cryptoObj,y.state)),a.key_id=a.key_id||p.sshKid||void 0;const Ge=G.generateCacheRecord(a,c,u,p,ve,A,y);let ut;try{if(G.persistencePlugin&&G.serializableCache&&(G.logger.verbose("Persistence enabled, calling beforeCacheAccess"),ut=new op(G.serializableCache,!0),yield G.persistencePlugin.beforeCacheAccess(ut)),T&&!z&&Ge.account){const Ke=Ge.account.generateAccountKey();if(!G.cacheStorage.getAccount(Ke,G.logger))return G.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),yield Kt.generateAuthenticationResult(G.cryptoObj,c,Ge,!1,p,ve,Oe,void 0,U)}yield G.cacheStorage.saveCacheRecord(Ge,p.storeInCache)}finally{G.persistencePlugin&&G.serializableCache&&ut&&(G.logger.verbose("Persistence enabled, calling afterCacheAccess"),yield G.persistencePlugin.afterCacheAccess(ut))}return Kt.generateAuthenticationResult(G.cryptoObj,c,Ge,!1,p,ve,Oe,a,U)})()}generateCacheRecord(a,c,u,p,y,A,T){const z=c.getPreferredCache();if(!z)throw(0,V.zP)(N.Q9);const U=(0,ip.M)(y);let G,ve;a.id_token&&y&&(G=(0,se.Md)(this.homeAccountIdentifier,z,a.id_token,this.clientId,U||""),ve=Fi(this.cacheStorage,c,this.homeAccountIdentifier,y,this.cryptoObj.base64Decode,a.client_info,U,T,void 0,this.logger));let Oe=null;if(a.access_token){const Ke=a.scope?tn.i.fromString(a.scope):new tn.i(p.scopes||[]),Kr=("string"==typeof a.expires_in?parseInt(a.expires_in,10):a.expires_in)||0,yr=("string"==typeof a.ext_expires_in?parseInt(a.ext_expires_in,10):a.ext_expires_in)||0,fo=("string"==typeof a.refresh_in?parseInt(a.refresh_in,10):a.refresh_in)||void 0,qt=u+Kr,xo=qt+yr,qi=fo&&fo>0?u+fo:void 0;Oe=(0,se.Ds)(this.homeAccountIdentifier,z,a.access_token,this.clientId,U||c.tenant,Ke.printScopes(),qt,xo,this.cryptoObj.base64Decode,qi,a.token_type,A,a.key_id,p.claims,p.requestedClaimsHash)}let Ge=null;a.refresh_token&&(Ge=(0,se.OJ)(this.homeAccountIdentifier,z,a.refresh_token,this.clientId,a.foci,A));let ut=null;return a.foci&&(ut=D.createAppMetadataEntity(this.clientId,z,a.foci)),new pe(ve,G,Oe,Ge,ut)}static generateAuthenticationResult(a,c,u,p,y,A,T,z,U){return(0,v.Z)(function*(){let Ge,ut,G=C.gT.EMPTY_STRING,ve=[],Oe=null,Ke=C.gT.EMPTY_STRING;if(u.accessToken){if(u.accessToken.tokenType===C.hO.POP){const qt=new jr(a),{secret:xo,keyId:qi}=u.accessToken;if(!qi)throw(0,V.zP)(N.Of);G=yield qt.signPopToken(xo,qi,y)}else G=u.accessToken.secret;ve=tn.i.fromString(u.accessToken.target).asArray(),Oe=new Date(1e3*Number(u.accessToken.expiresOn)),Ge=new Date(1e3*Number(u.accessToken.extendedExpiresOn)),u.accessToken.refreshOn&&(ut=new Date(1e3*Number(u.accessToken.refreshOn)))}u.appMetadata&&(Ke=u.appMetadata.familyId===C.ch?C.ch:"");const Kr=A?.oid||A?.sub||"",yr=A?.tid||"";z?.spa_accountid&&u.account&&(u.account.nativeAccountId=z?.spa_accountid);const fo=u.account?(0,_a.$f)(u.account.getAccountInfo(),void 0,A):null;return{authority:c.canonicalAuthority,uniqueId:Kr,tenantId:yr,scopes:ve,account:fo,idToken:u?.idToken?.secret||"",idTokenClaims:A||{},accessToken:G,fromCache:p,expiresOn:Oe,extExpiresOn:Ge,refreshOn:ut,correlationId:y.correlationId,requestId:U||C.gT.EMPTY_STRING,familyId:Ke,tokenType:u.accessToken?.tokenType||C.gT.EMPTY_STRING,state:T?T.userRequestState:C.gT.EMPTY_STRING,cloudGraphHostName:u.account?.cloudGraphHostName||C.gT.EMPTY_STRING,msGraphHost:u.account?.msGraphHost||C.gT.EMPTY_STRING,code:z?.spa_code,fromNativeBroker:!1}})()}}function Fi(re,a,c,u,p,y,A,T,z,U){U?.verbose("setCachedAccount called");const ve=re.getAccountKeys().find(Ke=>Ke.startsWith(c));let Oe=null;ve&&(Oe=re.getAccount(ve,U));const Ge=Oe||K.r.createAccount({homeAccountId:c,idTokenClaims:u,clientInfo:y,cloudGraphHostName:T?.cloud_graph_host_name,msGraphHost:T?.msgraph_host,nativeAccountId:z},a,p),ut=Ge.tenantProfiles||[];if(A&&!ut.find(Ke=>Ke.tenantId===A)){const Ke=(0,_a.SI)(c,u);ut.push(Ke)}return Ge.tenantProfiles=ut,Ge}var sp=w(6680);class va extends Li{constructor(a,c){super(a,c),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}getAuthCodeUrl(a){var c=this;return(0,v.Z)(function*(){c.performanceClient?.addQueueMeasurement(E.Ak.GetAuthCodeUrl,a.correlationId);const u=yield(0,I.i)(c.createAuthCodeUrlQueryString.bind(c),E.Ak.AuthClientCreateQueryString,c.logger,c.performanceClient,a.correlationId)(a);return Pe.G.appendQueryString(c.authority.authorizationEndpoint,u)})()}acquireToken(a,c){var u=this;return(0,v.Z)(function*(){if(u.performanceClient?.addQueueMeasurement(E.Ak.AuthClientAcquireToken,a.correlationId),!a.code)throw(0,V.zP)(N.FU);const p=fr.I.nowSeconds(),y=yield(0,I.i)(u.executeTokenRequest.bind(u),E.Ak.AuthClientExecuteTokenRequest,u.logger,u.performanceClient,a.correlationId)(u.authority,a),A=y.headers?.[C.SZ.X_MS_REQUEST_ID],T=new Kt(u.config.authOptions.clientId,u.cacheManager,u.cryptoUtils,u.logger,u.config.serializableCache,u.config.persistencePlugin,u.performanceClient);return T.validateTokenResponse(y.body),(0,I.i)(T.handleServerTokenResponse.bind(T),E.Ak.HandleServerTokenResponse,u.logger,u.performanceClient,a.correlationId)(y.body,u.authority,p,a,c,void 0,void 0,void 0,A)})()}handleFragmentResponse(a,c){if(new Kt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(a,c),!a.code)throw(0,V.zP)(N.Zv);return a}getLogoutUri(a){if(!a)throw(0,Hn.ei)(Bn.$h);const c=this.createLogoutUrlQueryString(a);return Pe.G.appendQueryString(this.authority.endSessionEndpoint,c)}executeTokenRequest(a,c){var u=this;return(0,v.Z)(function*(){u.performanceClient?.addQueueMeasurement(E.Ak.AuthClientExecuteTokenRequest,c.correlationId);const p=u.createTokenQueryParameters(c),y=Pe.G.appendQueryString(a.tokenEndpoint,p),A=yield(0,I.i)(u.createTokenRequestBody.bind(u),E.Ak.AuthClientCreateTokenRequestBody,u.logger,u.performanceClient,c.correlationId)(c);let T;if(c.clientInfo)try{const G=(0,_n.B)(c.clientInfo,u.cryptoUtils.base64Decode);T={credential:`${G.uid}${C.Bv.CLIENT_INFO_SEPARATOR}${G.utid}`,type:"home_account_id"}}catch(G){u.logger.verbose("Could not parse client info for CCS Header: "+G)}const z=u.createTokenRequestHeaders(T||c.ccsCredential),U={clientId:c.tokenBodyParameters?.clientId||u.config.authOptions.clientId,authority:a.canonicalAuthority,scopes:c.scopes,claims:c.claims,authenticationScheme:c.authenticationScheme,resourceRequestMethod:c.resourceRequestMethod,resourceRequestUri:c.resourceRequestUri,shrClaims:c.shrClaims,sshKid:c.sshKid};return(0,I.i)(u.executePostToTokenEndpoint.bind(u),E.Ak.AuthorizationCodeClientExecutePostToTokenEndpoint,u.logger,u.performanceClient,c.correlationId)(y,A,z,U,c.correlationId,E.Ak.AuthorizationCodeClientExecutePostToTokenEndpoint)})()}createTokenRequestBody(a){var c=this;return(0,v.Z)(function*(){c.performanceClient?.addQueueMeasurement(E.Ak.AuthClientCreateTokenRequestBody,a.correlationId);const u=new Vr.H;if(u.addClientId(a.tokenBodyParameters?.[$r.Cx]||c.config.authOptions.clientId),c.includeRedirectUri?u.addRedirectUri(a.redirectUri):sp.D.validateRedirectUri(a.redirectUri),u.addScopes(a.scopes,!0,c.oidcDefaultScopes),u.addAuthorizationCode(a.code),u.addLibraryInfo(c.config.libraryInfo),u.addApplicationTelemetry(c.config.telemetry.application),u.addThrottling(),c.serverTelemetryManager&&!(0,yn.lh)(c.config)&&u.addServerTelemetry(c.serverTelemetryManager),a.codeVerifier&&u.addCodeVerifier(a.codeVerifier),c.config.clientCredentials.clientSecret&&u.addClientSecret(c.config.clientCredentials.clientSecret),c.config.clientCredentials.clientAssertion){const A=c.config.clientCredentials.clientAssertion;u.addClientAssertion(A.assertion),u.addClientAssertionType(A.assertionType)}if(u.addGrantType(C.qJ.AUTHORIZATION_CODE_GRANT),u.addClientInfo(),a.authenticationScheme===C.hO.POP){const A=new jr(c.cryptoUtils,c.performanceClient),T=yield(0,I.i)(A.generateCnf.bind(A),E.Ak.PopTokenGenerateCnf,c.logger,c.performanceClient,a.correlationId)(a,c.logger);u.addPopToken(T.reqCnfString)}else if(a.authenticationScheme===C.hO.SSH){if(!a.sshJwk)throw(0,Hn.ei)(Bn.dK);u.addSshJwk(a.sshJwk)}const p=a.correlationId||c.config.cryptoInterface.createNewGuid();let y;if(u.addCorrelationId(p),(!J.x.isEmptyObj(a.claims)||c.config.authOptions.clientCapabilities&&c.config.authOptions.clientCapabilities.length>0)&&u.addClaims(a.claims,c.config.authOptions.clientCapabilities),a.clientInfo)try{const A=(0,_n.B)(a.clientInfo,c.cryptoUtils.base64Decode);y={credential:`${A.uid}${C.Bv.CLIENT_INFO_SEPARATOR}${A.utid}`,type:"home_account_id"}}catch(A){c.logger.verbose("Could not parse client info for CCS Header: "+A)}else y=a.ccsCredential;if(c.config.systemOptions.preventCorsPreflight&&y)switch(y.type){case"home_account_id":try{const A=(0,_n.j)(y.credential);u.addCcsOid(A)}catch(A){c.logger.verbose("Could not parse home account ID for CCS Header: "+A)}break;case"UPN":u.addCcsUpn(y.credential)}return a.tokenBodyParameters&&u.addExtraQueryParameters(a.tokenBodyParameters),a.enableSpaAuthorizationCode&&(!a.tokenBodyParameters||!a.tokenBodyParameters[$r.Zb])&&u.addExtraQueryParameters({[$r.Zb]:"1"}),u.createQueryString()})()}createAuthCodeUrlQueryString(a){var c=this;return(0,v.Z)(function*(){c.performanceClient?.addQueueMeasurement(E.Ak.AuthClientCreateQueryString,a.correlationId);const u=new Vr.H;u.addClientId(a.extraQueryParameters?.[$r.Cx]||c.config.authOptions.clientId);const p=[...a.scopes||[],...a.extraScopesToConsent||[]];u.addScopes(p,!0,c.oidcDefaultScopes),u.addRedirectUri(a.redirectUri);const y=a.correlationId||c.config.cryptoInterface.createNewGuid();if(u.addCorrelationId(y),u.addResponseMode(a.responseMode),u.addResponseTypeCode(),u.addLibraryInfo(c.config.libraryInfo),(0,yn.lh)(c.config)||u.addApplicationTelemetry(c.config.telemetry.application),u.addClientInfo(),a.codeChallenge&&a.codeChallengeMethod&&u.addCodeChallengeParams(a.codeChallenge,a.codeChallengeMethod),a.prompt&&u.addPrompt(a.prompt),a.domainHint&&u.addDomainHint(a.domainHint),a.prompt!==C.NJ.SELECT_ACCOUNT)if(a.sid&&a.prompt===C.NJ.NONE)c.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),u.addSid(a.sid);else if(a.account){const A=c.extractAccountSid(a.account),T=c.extractLoginHint(a.account);if(T){c.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),u.addLoginHint(T);try{const z=(0,_n.j)(a.account.homeAccountId);u.addCcsOid(z)}catch{c.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(A&&a.prompt===C.NJ.NONE){c.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),u.addSid(A);try{const z=(0,_n.j)(a.account.homeAccountId);u.addCcsOid(z)}catch{c.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(a.loginHint)c.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),u.addLoginHint(a.loginHint),u.addCcsUpn(a.loginHint);else if(a.account.username){c.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),u.addLoginHint(a.account.username);try{const z=(0,_n.j)(a.account.homeAccountId);u.addCcsOid(z)}catch{c.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else a.loginHint&&(c.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),u.addLoginHint(a.loginHint),u.addCcsUpn(a.loginHint));else c.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(a.nonce&&u.addNonce(a.nonce),a.state&&u.addState(a.state),(a.claims||c.config.authOptions.clientCapabilities&&c.config.authOptions.clientCapabilities.length>0)&&u.addClaims(a.claims,c.config.authOptions.clientCapabilities),a.extraQueryParameters&&u.addExtraQueryParameters(a.extraQueryParameters),a.nativeBroker&&(u.addNativeBroker(),a.authenticationScheme===C.hO.POP)){const A=new jr(c.cryptoUtils),T=yield(0,I.i)(A.generateCnf.bind(A),E.Ak.PopTokenGenerateCnf,c.logger,c.performanceClient,a.correlationId)(a,c.logger);u.addPopToken(T.reqCnfHash)}return u.createQueryString()})()}createLogoutUrlQueryString(a){const c=new Vr.H;return a.postLogoutRedirectUri&&c.addPostLogoutRedirectUri(a.postLogoutRedirectUri),a.correlationId&&c.addCorrelationId(a.correlationId),a.idTokenHint&&c.addIdTokenHint(a.idTokenHint),a.state&&c.addState(a.state),a.logoutHint&&c.addLogoutHint(a.logoutHint),a.extraQueryParameters&&c.addExtraQueryParameters(a.extraQueryParameters),c.createQueryString()}extractAccountSid(a){return a.idTokenClaims?.sid||null}extractLoginHint(a){return a.idTokenClaims?.login_hint||null}}class Ui{constructor(a,c){this.cacheOutcome=C.To.NOT_APPLICABLE,this.cacheManager=c,this.apiId=a.apiId,this.correlationId=a.correlationId,this.wrapperSKU=a.wrapperSKU||C.gT.EMPTY_STRING,this.wrapperVer=a.wrapperVer||C.gT.EMPTY_STRING,this.telemetryCacheKey=C.HN.CACHE_KEY+C.Bv.CACHE_KEY_SEPARATOR+a.clientId}generateCurrentRequestHeaderValue(){const a=`${this.apiId}${C.HN.VALUE_SEPARATOR}${this.cacheOutcome}`,c=[this.wrapperSKU,this.wrapperVer].join(C.HN.VALUE_SEPARATOR),p=[a,this.getRegionDiscoveryFields()].join(C.HN.VALUE_SEPARATOR);return[C.HN.SCHEMA_VERSION,p,c].join(C.HN.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const a=this.getLastRequests(),c=Ui.maxErrorsToSend(a),u=a.failedRequests.slice(0,2*c).join(C.HN.VALUE_SEPARATOR),p=a.errors.slice(0,c).join(C.HN.VALUE_SEPARATOR),y=a.errors.length,T=[y,c<y?C.HN.OVERFLOW_TRUE:C.HN.OVERFLOW_FALSE].join(C.HN.VALUE_SEPARATOR);return[C.HN.SCHEMA_VERSION,a.cacheHits,u,p,T].join(C.HN.CATEGORY_SEPARATOR)}cacheFailedRequest(a){const c=this.getLastRequests();c.errors.length>=C.HN.MAX_CACHED_ERRORS&&(c.failedRequests.shift(),c.failedRequests.shift(),c.errors.shift()),c.failedRequests.push(this.apiId,this.correlationId),a instanceof Error&&a&&a.toString()?c.errors.push(a instanceof S.l4?a.subError?a.subError:a.errorCode?a.errorCode:a.toString():a.toString()):c.errors.push(C.HN.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,c)}incrementCacheHits(){const a=this.getLastRequests();return a.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,a),a.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const a=this.getLastRequests(),c=Ui.maxErrorsToSend(a);if(c===a.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const p={failedRequests:a.failedRequests.slice(2*c),errors:a.errors.slice(c),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,p)}}static maxErrorsToSend(a){let c,u=0,p=0;const y=a.errors.length;for(c=0;c<y;c++){const T=a.failedRequests[2*c+1]||C.gT.EMPTY_STRING,z=a.errors[c]||C.gT.EMPTY_STRING;if(p+=(a.failedRequests[2*c]||C.gT.EMPTY_STRING).toString().length+T.toString().length+z.length+3,!(p<C.HN.MAX_LAST_HEADER_BYTES))break;u+=1}return u}getRegionDiscoveryFields(){const a=[];return a.push(this.regionUsed||C.gT.EMPTY_STRING),a.push(this.regionSource||C.gT.EMPTY_STRING),a.push(this.regionOutcome||C.gT.EMPTY_STRING),a.join(",")}updateRegionDiscoveryMetadata(a){this.regionUsed=a.region_used,this.regionSource=a.region_source,this.regionOutcome=a.region_outcome}setCacheOutcome(a){this.cacheOutcome=a}}var Ca=w(9509),pr=w(717);class Kl{constructor(a,c,u,p,y,A,T,z,U){this.config=a,this.browserStorage=c,this.browserCrypto=u,this.networkClient=this.config.system.networkClient,this.eventHandler=y,this.navigationClient=A,this.nativeMessageHandler=z,this.correlationId=U||(0,pr.nn)(),this.logger=p.clone(m.qx.MSAL_SKU,Ca.i,this.correlationId),this.performanceClient=T}clearCacheOnLogout(a){var c=this;return(0,v.Z)(function*(){if(a){K.r.accountInfoIsEqual(a,c.browserStorage.getActiveAccount(),!1)&&(c.logger.verbose("Setting active account to null"),c.browserStorage.setActiveAccount(null));try{yield c.browserStorage.removeAccount(K.r.generateAccountCacheKey(a)),c.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{c.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{c.logger.verbose("No account provided in logout request, clearing all cache items.",c.correlationId),yield c.browserStorage.clear(),yield c.browserCrypto.clearKeystore()}catch{c.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}})()}initializeBaseRequest(a,c){var u=this;return(0,v.Z)(function*(){u.performanceClient.addQueueMeasurement(E.Ak.InitializeBaseRequest,u.correlationId);const p=a.authority||u.config.auth.authority;c&&(yield u.validateRequestAuthority(p,c));const y=[...a&&a.scopes||[]],A={...a,correlationId:u.correlationId,authority:p,scopes:y};if(A.authenticationScheme){if(A.authenticationScheme===C.hO.SSH){if(!a.sshJwk)throw(0,Hn.ei)(Bn.dK);if(!a.sshKid)throw(0,Hn.ei)(Bn.hI)}u.logger.verbose(`Authentication Scheme set to "${A.authenticationScheme}" as configured in Auth request`)}else A.authenticationScheme=C.hO.BEARER,u.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return u.config.cache.claimsBasedCachingEnabled&&a.claims&&!J.x.isEmptyObj(a.claims)&&(A.requestedClaimsHash=yield u.browserCrypto.hashString(a.claims)),A})()}getRedirectUri(a){this.logger.verbose("getRedirectUri called");const c=a||this.config.auth.redirectUri||(0,He.Re)();return Pe.G.getAbsoluteUrl(c,(0,He.Re)())}validateRequestAuthority(a,c){var u=this;return(0,v.Z)(function*(){if(!(yield u.getDiscoveredAuthority(a)).isAlias(c.environment))throw(0,Hn.ei)(Bn.Hv)})()}initializeServerTelemetryManager(a,c){this.logger.verbose("initializeServerTelemetryManager called");const u={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:a,forceRefresh:c||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Ui(u,this.browserStorage)}getDiscoveredAuthority(a){var c=this;return(0,v.Z)(function*(){c.logger.verbose("getDiscoveredAuthority called");const u={protocolMode:c.config.auth.protocolMode,OIDCOptions:c.config.auth.OIDCOptions,knownAuthorities:c.config.auth.knownAuthorities,cloudDiscoveryMetadata:c.config.auth.cloudDiscoveryMetadata,authorityMetadata:c.config.auth.authorityMetadata};return a?(c.logger.verbose("Creating discovered authority with request authority"),Xn.createDiscoveredInstance(a,c.config.system.networkClient,c.browserStorage,u,c.logger)):(c.logger.verbose("Creating discovered authority with configured authority"),Xn.createDiscoveredInstance(c.config.auth.authority,c.config.system.networkClient,c.browserStorage,u,c.logger))})()}}const ap=32;function cp(re,a,c){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,v.Z)(function*(re,a,c){re.addQueueMeasurement(E.Ak.GeneratePkceCodes,c);const u=(0,I.d)(Hi,E.Ak.GenerateCodeVerifier,a,re,c)(re,a,c);return{verifier:u,challenge:yield(0,I.i)(Ia,E.Ak.GenerateCodeChallengeFromVerifier,a,re,c)(u,re,a,c)}})).apply(this,arguments)}function Hi(re,a,c){try{const u=new Uint8Array(ap);return(0,I.d)(pr.PP,E.Ak.GetRandomValues,a,re,c)(u),(0,Re.Wy)(u)}catch{throw(0,F.Z_)(Y.vD)}}function Ia(re,a,c,u){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,v.Z)(function*(re,a,c,u){a.addQueueMeasurement(E.Ak.GenerateCodeChallengeFromVerifier,u);try{const p=yield(0,I.i)(pr.Fv,E.Ak.Sha256Digest,c,a,u)(re,a,u);return(0,Re.Wy)(new Uint8Array(p))}catch{throw(0,F.Z_)(Y.vD)}})).apply(this,arguments)}class gr extends Kl{initializeAuthorizationCodeRequest(a){var c=this;return(0,v.Z)(function*(){c.performanceClient.addQueueMeasurement(E.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,c.correlationId);const u=yield(0,I.i)(cp,E.Ak.GeneratePkceCodes,c.logger,c.performanceClient,c.correlationId)(c.performanceClient,c.logger,c.correlationId),p={...a,redirectUri:a.redirectUri,code:C.gT.EMPTY_STRING,codeVerifier:u.verifier};return a.codeChallenge=u.challenge,a.codeChallengeMethod=C.gT.S256_CODE_CHALLENGE_METHOD,p})()}initializeLogoutRequest(a){this.logger.verbose("initializeLogoutRequest called",a?.correlationId);const c={correlationId:this.correlationId||(0,pr.nn)(),...a};if(a)if(a.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(a.account){const u=this.getLogoutHintFromIdTokenClaims(a.account);u&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),c.logoutHint=u)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return a&&null===a.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",c.correlationId):a&&a.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",c.correlationId),c.postLogoutRedirectUri=Pe.G.getAbsoluteUrl(a.postLogoutRedirectUri,(0,He.Re)())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",c.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",c.correlationId),c.postLogoutRedirectUri=Pe.G.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,(0,He.Re)())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",c.correlationId),c.postLogoutRedirectUri=Pe.G.getAbsoluteUrl((0,He.Re)(),(0,He.Re)())),c}getLogoutHintFromIdTokenClaims(a){const c=a.idTokenClaims;if(c){if(c.login_hint)return c.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}createAuthCodeClient(a,c,u){var p=this;return(0,v.Z)(function*(){p.performanceClient.addQueueMeasurement(E.Ak.StandardInteractionClientCreateAuthCodeClient,p.correlationId);const y=yield(0,I.i)(p.getClientConfiguration.bind(p),E.Ak.StandardInteractionClientGetClientConfiguration,p.logger,p.performanceClient,p.correlationId)(a,c,u);return new va(y,p.performanceClient)})()}getClientConfiguration(a,c,u){var p=this;return(0,v.Z)(function*(){p.performanceClient.addQueueMeasurement(E.Ak.StandardInteractionClientGetClientConfiguration,p.correlationId);const y=yield(0,I.i)(p.getDiscoveredAuthority.bind(p),E.Ak.StandardInteractionClientGetDiscoveredAuthority,p.logger,p.performanceClient,p.correlationId)(c,u),A=p.config.system.loggerOptions;return{authOptions:{clientId:p.config.auth.clientId,authority:y,clientCapabilities:p.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:p.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:A.loggerCallback,piiLoggingEnabled:A.piiLoggingEnabled,logLevel:A.logLevel,correlationId:p.correlationId},cacheOptions:{claimsBasedCachingEnabled:p.config.cache.claimsBasedCachingEnabled},cryptoInterface:p.browserCrypto,networkInterface:p.networkClient,storageInterface:p.browserStorage,serverTelemetryManager:a,libraryInfo:{sku:m.qx.MSAL_SKU,version:Ca.i,cpu:C.gT.EMPTY_STRING,os:C.gT.EMPTY_STRING},telemetry:p.config.telemetry}})()}getDiscoveredAuthority(a,c){var u=this;return(0,v.Z)(function*(){u.performanceClient.addQueueMeasurement(E.Ak.StandardInteractionClientGetDiscoveredAuthority,u.correlationId);const p={protocolMode:u.config.auth.protocolMode,OIDCOptions:u.config.auth.OIDCOptions,knownAuthorities:u.config.auth.knownAuthorities,cloudDiscoveryMetadata:u.config.auth.cloudDiscoveryMetadata,authorityMetadata:u.config.auth.authorityMetadata,skipAuthorityMetadataCache:u.config.auth.skipAuthorityMetadataCache},A=O.WU.generateAuthority(a||u.config.auth.authority,c||u.config.auth.azureCloudOptions);return(0,I.i)(Xn.createDiscoveredInstance.bind(Xn),E.Ak.AuthorityFactoryCreateDiscoveredInstance,u.logger,u.performanceClient,u.correlationId)(A,u.config.system.networkClient,u.browserStorage,p,u.logger,u.performanceClient,u.correlationId)})()}initializeAuthorizationRequest(a,c){var u=this;return(0,v.Z)(function*(){u.performanceClient.addQueueMeasurement(E.Ak.StandardInteractionClientInitializeAuthorizationRequest,u.correlationId);const p=u.getRedirectUri(a.redirectUri),A=L.setRequestState(u.browserCrypto,a&&a.state||C.gT.EMPTY_STRING,{interactionType:c}),z={...yield(0,I.i)(u.initializeBaseRequest.bind(u),E.Ak.InitializeBaseRequest,u.logger,u.performanceClient,u.correlationId)(a),redirectUri:p,state:A,nonce:a.nonce||(0,pr.nn)(),responseMode:u.config.auth.OIDCOptions.serverResponseType},U=a.account||u.browserStorage.getActiveAccount();if(U&&(u.logger.verbose("Setting validated request account",u.correlationId),u.logger.verbosePii(`Setting validated request account: ${U.homeAccountId}`,u.correlationId),z.account=U),!z.loginHint&&!U){const G=u.browserStorage.getLegacyLoginHint();G&&(z.loginHint=G)}return z})()}}var Aa=w(842),Ta=w(6345);const wa="ContentError",Bi="user_switch",Sa="USER_INTERACTION_REQUIRED",Da="USER_CANCEL",Wt="NO_NETWORK",Wl="PERSISTENT_ERROR",ql="DISABLED",Zl="ACCOUNT_UNAVAILABLE",Yl=-2147186943,ba={[Bi]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Vn extends S.l4{constructor(a,c,u){super(a,c),Object.setPrototypeOf(this,Vn.prototype),this.name="NativeAuthError",this.ext=u}}function zr(re){return!!(re.ext&&re.ext.status&&(re.ext.status===Wl||re.ext.status===ql)||re.ext&&re.ext.error&&re.ext.error===Yl)||re.errorCode===wa}function vn(re,a,c){if(c&&c.status)switch(c.status){case Zl:return(0,H.ip)(ce.QP);case Sa:return new H.Yo(re,a);case Da:return(0,F.Z_)(Y.h7);case Wt:return(0,F.Z_)(Y.Mq)}return new Vn(re,ba[re]||a,c)}class Vi extends Li{constructor(a,c){super(a,c)}acquireToken(a){var c=this;return(0,v.Z)(function*(){c.performanceClient?.addQueueMeasurement(E.Ak.RefreshTokenClientAcquireToken,a.correlationId);const u=fr.I.nowSeconds(),p=yield(0,I.i)(c.executeTokenRequest.bind(c),E.Ak.RefreshTokenClientExecuteTokenRequest,c.logger,c.performanceClient,a.correlationId)(a,c.authority),y=p.headers?.[C.SZ.X_MS_REQUEST_ID],A=new Kt(c.config.authOptions.clientId,c.cacheManager,c.cryptoUtils,c.logger,c.config.serializableCache,c.config.persistencePlugin);return A.validateTokenResponse(p.body),(0,I.i)(A.handleServerTokenResponse.bind(A),E.Ak.HandleServerTokenResponse,c.logger,c.performanceClient,a.correlationId)(p.body,c.authority,u,a,void 0,void 0,!0,a.forceCache,y)})()}acquireTokenByRefreshToken(a){var c=this;return(0,v.Z)(function*(){if(!a)throw(0,Hn.ei)(Bn.dL);if(c.performanceClient?.addQueueMeasurement(E.Ak.RefreshTokenClientAcquireTokenByRefreshToken,a.correlationId),!a.account)throw(0,V.zP)(N.D7);if(c.cacheManager.isAppMetadataFOCI(a.account.environment))try{return yield(0,I.i)(c.acquireTokenWithCachedRefreshToken.bind(c),E.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,c.logger,c.performanceClient,a.correlationId)(a,!0)}catch(p){if(p instanceof H.Yo&&p.errorCode===ce.I2||p instanceof Pt.n&&p.errorCode===C.D1.INVALID_GRANT_ERROR&&p.subError===C.D1.CLIENT_MISMATCH_ERROR)return(0,I.i)(c.acquireTokenWithCachedRefreshToken.bind(c),E.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,c.logger,c.performanceClient,a.correlationId)(a,!1);throw p}return(0,I.i)(c.acquireTokenWithCachedRefreshToken.bind(c),E.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,c.logger,c.performanceClient,a.correlationId)(a,!1)})()}acquireTokenWithCachedRefreshToken(a,c){var u=this;return(0,v.Z)(function*(){u.performanceClient?.addQueueMeasurement(E.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,a.correlationId);const p=(0,I.d)(u.cacheManager.getRefreshToken.bind(u.cacheManager),E.Ak.CacheManagerGetRefreshToken,u.logger,u.performanceClient,a.correlationId)(a.account,c,void 0,u.performanceClient,a.correlationId);if(!p)throw(0,H.ip)(ce.I2);const y={...a,refreshToken:p.secret,authenticationScheme:a.authenticationScheme||C.hO.BEARER,ccsCredential:{credential:a.account.homeAccountId,type:"home_account_id"}};return(0,I.i)(u.acquireToken.bind(u),E.Ak.RefreshTokenClientAcquireToken,u.logger,u.performanceClient,a.correlationId)(y)})()}executeTokenRequest(a,c){var u=this;return(0,v.Z)(function*(){u.performanceClient?.addQueueMeasurement(E.Ak.RefreshTokenClientExecuteTokenRequest,a.correlationId);const p=u.createTokenQueryParameters(a),y=Pe.G.appendQueryString(c.tokenEndpoint,p),A=yield(0,I.i)(u.createTokenRequestBody.bind(u),E.Ak.RefreshTokenClientCreateTokenRequestBody,u.logger,u.performanceClient,a.correlationId)(a),T=u.createTokenRequestHeaders(a.ccsCredential),z={clientId:a.tokenBodyParameters?.clientId||u.config.authOptions.clientId,authority:c.canonicalAuthority,scopes:a.scopes,claims:a.claims,authenticationScheme:a.authenticationScheme,resourceRequestMethod:a.resourceRequestMethod,resourceRequestUri:a.resourceRequestUri,shrClaims:a.shrClaims,sshKid:a.sshKid};return(0,I.i)(u.executePostToTokenEndpoint.bind(u),E.Ak.RefreshTokenClientExecutePostToTokenEndpoint,u.logger,u.performanceClient,a.correlationId)(y,A,T,z,a.correlationId,E.Ak.RefreshTokenClientExecutePostToTokenEndpoint)})()}createTokenRequestBody(a){var c=this;return(0,v.Z)(function*(){c.performanceClient?.addQueueMeasurement(E.Ak.RefreshTokenClientCreateTokenRequestBody,a.correlationId);const u=a.correlationId,p=new Vr.H;if(p.addClientId(a.tokenBodyParameters?.[$r.Cx]||c.config.authOptions.clientId),a.redirectUri&&p.addRedirectUri(a.redirectUri),p.addScopes(a.scopes,!0,c.config.authOptions.authority.options.OIDCOptions?.defaultScopes),p.addGrantType(C.qJ.REFRESH_TOKEN_GRANT),p.addClientInfo(),p.addLibraryInfo(c.config.libraryInfo),p.addApplicationTelemetry(c.config.telemetry.application),p.addThrottling(),c.serverTelemetryManager&&!(0,yn.lh)(c.config)&&p.addServerTelemetry(c.serverTelemetryManager),p.addCorrelationId(u),p.addRefreshToken(a.refreshToken),c.config.clientCredentials.clientSecret&&p.addClientSecret(c.config.clientCredentials.clientSecret),c.config.clientCredentials.clientAssertion){const y=c.config.clientCredentials.clientAssertion;p.addClientAssertion(y.assertion),p.addClientAssertionType(y.assertionType)}if(a.authenticationScheme===C.hO.POP){const y=new jr(c.cryptoUtils,c.performanceClient),A=yield(0,I.i)(y.generateCnf.bind(y),E.Ak.PopTokenGenerateCnf,c.logger,c.performanceClient,a.correlationId)(a,c.logger);p.addPopToken(A.reqCnfString)}else if(a.authenticationScheme===C.hO.SSH){if(!a.sshJwk)throw(0,Hn.ei)(Bn.dK);p.addSshJwk(a.sshJwk)}if((!J.x.isEmptyObj(a.claims)||c.config.authOptions.clientCapabilities&&c.config.authOptions.clientCapabilities.length>0)&&p.addClaims(a.claims,c.config.authOptions.clientCapabilities),c.config.systemOptions.preventCorsPreflight&&a.ccsCredential)switch(a.ccsCredential.type){case"home_account_id":try{const y=(0,_n.j)(a.ccsCredential.credential);p.addCcsOid(y)}catch(y){c.logger.verbose("Could not parse home account ID for CCS Header: "+y)}break;case"UPN":p.addCcsUpn(a.ccsCredential.credential)}return a.tokenBodyParameters&&p.addExtraQueryParameters(a.tokenBodyParameters),p.createQueryString()})()}}class Ct extends Li{constructor(a,c){super(a,c)}acquireToken(a){var c=this;return(0,v.Z)(function*(){try{const[u,p]=yield c.acquireCachedToken(a);return p===C.To.PROACTIVELY_REFRESHED&&(c.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new Vi(c.config,c.performanceClient).acquireTokenByRefreshToken(a).catch(()=>{})),u}catch(u){if(u instanceof V.er&&u.errorCode===N.s$)return new Vi(c.config,c.performanceClient).acquireTokenByRefreshToken(a);throw u}})()}acquireCachedToken(a){var c=this;return(0,v.Z)(function*(){c.performanceClient?.addQueueMeasurement(E.Ak.SilentFlowClientAcquireCachedToken,a.correlationId);let u=C.To.NOT_APPLICABLE;if(a.forceRefresh||!c.config.cacheOptions.claimsBasedCachingEnabled&&!J.x.isEmptyObj(a.claims))throw c.setCacheOutcome(C.To.FORCE_REFRESH_OR_CLAIMS,a.correlationId),(0,V.zP)(N.s$);if(!a.account)throw(0,V.zP)(N.D7);const p=a.authority||c.authority.getPreferredCache(),y=c.cacheManager.readCacheRecord(a.account,a,p,c.performanceClient,a.correlationId);if(!y.accessToken)throw c.setCacheOutcome(C.To.NO_CACHED_ACCESS_TOKEN,a.correlationId),(0,V.zP)(N.s$);if(fr.I.wasClockTurnedBack(y.accessToken.cachedAt)||fr.I.isTokenExpired(y.accessToken.expiresOn,c.config.systemOptions.tokenRenewalOffsetSeconds))throw c.setCacheOutcome(C.To.CACHED_ACCESS_TOKEN_EXPIRED,a.correlationId),(0,V.zP)(N.s$);return y.accessToken.refreshOn&&fr.I.isTokenExpired(y.accessToken.refreshOn,0)&&(u=C.To.PROACTIVELY_REFRESHED),c.setCacheOutcome(u,a.correlationId),c.config.serverTelemetryManager&&c.config.serverTelemetryManager.incrementCacheHits(),[yield(0,I.i)(c.generateResultFromCacheRecord.bind(c),E.Ak.SilentFlowClientGenerateResultFromCacheRecord,c.logger,c.performanceClient,a.correlationId)(y,a),u]})()}setCacheOutcome(a,c){this.serverTelemetryManager?.setCacheOutcome(a),this.performanceClient?.addFields({cacheOutcome:a},c),a!==C.To.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${a}`)}generateResultFromCacheRecord(a,c){var u=this;return(0,v.Z)(function*(){let p;if(u.performanceClient?.addQueueMeasurement(E.Ak.SilentFlowClientGenerateResultFromCacheRecord,c.correlationId),a.idToken&&(p=(0,le.Z_)(a.idToken.secret,u.config.cryptoInterface.base64Decode)),c.maxAge||0===c.maxAge){const y=p?.auth_time;if(!y)throw(0,V.zP)(N.w7);(0,le.ky)(y,c.maxAge)}return Kt.generateAuthenticationResult(u.cryptoUtils,u.authority,a,!0,c,p)})()}}class mr extends gr{acquireToken(a){var c=this;return(0,v.Z)(function*(){c.performanceClient.addQueueMeasurement(E.Ak.SilentCacheClientAcquireToken,a.correlationId);const u=c.initializeServerTelemetryManager(m.WN.acquireTokenSilent_silentFlow),p=yield c.createSilentFlowClient(u,a.authority,a.azureCloudOptions);c.logger.verbose("Silent auth client created");try{const A=(yield(0,I.i)(p.acquireCachedToken.bind(p),E.Ak.SilentFlowClientAcquireCachedToken,c.logger,c.performanceClient,a.correlationId)(a))[0];return c.performanceClient.addFields({fromCache:!0},a.correlationId),A}catch(y){throw y instanceof F.Ut&&y.errorCode===Y.XM&&c.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),y}})()}logout(a){this.logger.verbose("logoutRedirect called");const c=this.initializeLogoutRequest(a);return this.clearCacheOnLogout(c?.account)}createSilentFlowClient(a,c,u){var p=this;return(0,v.Z)(function*(){const y=yield(0,I.i)(p.getClientConfiguration.bind(p),E.Ak.StandardInteractionClientGetClientConfiguration,p.logger,p.performanceClient,p.correlationId)(a,c,u);return new Ct(y,p.performanceClient)})()}initializeSilentRequest(a,c){var u=this;return(0,v.Z)(function*(){u.performanceClient.addQueueMeasurement(E.Ak.InitializeSilentRequest,u.correlationId);const p=yield(0,I.i)(u.initializeBaseRequest.bind(u),E.Ak.InitializeBaseRequest,u.logger,u.performanceClient,u.correlationId)(a,c);return{...a,...p,account:c,forceRefresh:a.forceRefresh||!1}})()}}class lo extends Kl{constructor(a,c,u,p,y,A,T,z,U,G,ve,Oe){super(a,c,u,p,y,A,z,U,Oe),this.apiId=T,this.accountId=G,this.nativeMessageHandler=U,this.nativeStorageManager=ve,this.silentCacheClient=new mr(a,this.nativeStorageManager,u,p,y,A,z,U,Oe)}acquireToken(a){var c=this;return(0,v.Z)(function*(){c.performanceClient.addQueueMeasurement(E.Ak.NativeInteractionClientAcquireToken,a.correlationId),c.logger.trace("NativeInteractionClient - acquireToken called.");const u=c.performanceClient.startMeasurement(E.Ak.NativeInteractionClientAcquireToken,a.correlationId),p=fr.I.nowSeconds(),y=yield c.initializeNativeRequest(a);try{const U=yield c.acquireTokensFromCache(c.accountId,y);return u.end({success:!0,isNativeBroker:!1,fromCache:!0}),U}catch{c.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const A={method:m.Ky.GetToken,request:y},T=yield c.nativeMessageHandler.sendMessage(A),z=c.validateNativeResponse(T);return c.handleNativeResponse(z,y,p).then(U=>(u.end({success:!0,isNativeBroker:!0,requestId:U.requestId}),U)).catch(U=>{throw u.end({success:!1,errorCode:U.errorCode,subErrorCode:U.subError,isNativeBroker:!0}),U})})()}createSilentCacheRequest(a,c){return{authority:a.authority,correlationId:this.correlationId,scopes:tn.i.fromString(a.scope).asArray(),account:c,forceRefresh:!1}}acquireTokensFromCache(a,c){var u=this;return(0,v.Z)(function*(){if(!a)throw u.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),(0,V.zP)(N.cX);const p=u.browserStorage.getBaseAccountInfo({nativeAccountId:a});if(!p)throw(0,V.zP)(N.cX);try{const y=u.createSilentCacheRequest(c,p),A=yield u.silentCacheClient.acquireToken(y),T={...p,idTokenClaims:A?.idTokenClaims};return{...A,account:T}}catch(y){throw y}})()}acquireTokenRedirect(a){var c=this;return(0,v.Z)(function*(){c.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const u=yield c.initializeNativeRequest(a),p={method:m.Ky.GetToken,request:u};try{const T=yield c.nativeMessageHandler.sendMessage(p);c.validateNativeResponse(T)}catch(T){if(T instanceof Vn&&zr(T))throw T}c.browserStorage.setTemporaryCache(m.c4.NATIVE_REQUEST,JSON.stringify(u),!0);const y={apiId:m.WN.acquireTokenRedirect,timeout:c.config.system.redirectNavigationTimeout,noHistory:!1},A=c.config.auth.navigateToLoginRequestUrl?window.location.href:c.getRedirectUri(a.redirectUri);yield c.navigationClient.navigateExternal(A,y)})()}handleRedirectPromise(){var a=this;return(0,v.Z)(function*(){if(a.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!a.browserStorage.isInteractionInProgress(!0))return a.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const c=a.browserStorage.getCachedNativeRequest();if(!c)return a.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),null;const{prompt:u,...p}=c;u&&a.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),a.browserStorage.removeItem(a.browserStorage.generateCacheKey(m.c4.NATIVE_REQUEST));const y={method:m.Ky.GetToken,request:p},A=fr.I.nowSeconds();try{a.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const T=yield a.nativeMessageHandler.sendMessage(y);a.validateNativeResponse(T);const z=a.handleNativeResponse(T,p,A);return a.browserStorage.setInteractionInProgress(!1),yield z}catch(T){throw a.browserStorage.setInteractionInProgress(!1),T}})()}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}handleNativeResponse(a,c,u){var p=this;return(0,v.Z)(function*(){if(p.logger.trace("NativeInteractionClient - handleNativeResponse called."),a.account.id!==c.accountId)throw vn(Bi);const y=yield p.getDiscoveredAuthority(c.authority),A=le.Z_(a.id_token,ye.t),T=p.createHomeAccountIdentifier(a,A),z=Fi(p.browserStorage,y,T,A,ye.t,a.client_info,A.tid,void 0,a.account.id,p.logger),U=yield p.generateAuthenticationResult(a,c,A,z,y.canonicalAuthority,u);return p.cacheAccount(z),p.cacheNativeTokens(a,c,T,A,U.accessToken,U.tenantId,u),U})()}createHomeAccountIdentifier(a,c){return K.r.generateHomeAccountId(a.client_info||C.gT.EMPTY_STRING,Aa.a.Default,this.logger,this.browserCrypto,c)}generateScopes(a,c){return tn.i.fromString(a.scope?a.scope:c.scope)}generatePopAccessToken(a,c){var u=this;return(0,v.Z)(function*(){if(c.tokenType===C.hO.POP){if(a.shr)return u.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),a.shr;const p=new jr(u.browserCrypto),y={resourceRequestMethod:c.resourceRequestMethod,resourceRequestUri:c.resourceRequestUri,shrClaims:c.shrClaims,shrNonce:c.shrNonce};if(!c.keyId)throw(0,V.zP)(N.Of);return p.signPopToken(a.access_token,c.keyId,y)}return a.access_token})()}generateAuthenticationResult(a,c,u,p,y,A){var T=this;return(0,v.Z)(function*(){const z=T.addTelemetryFromNativeResponse(a),U=tn.i.fromString(a.scope?a.scope:c.scope),G=a.account.properties||{},ve=G.UID||u.oid||u.sub||C.gT.EMPTY_STRING,Oe=G.TenantId||u.tid||C.gT.EMPTY_STRING,Ge=(0,_a.$f)(p.getAccountInfo(),void 0,u),ut=yield T.generatePopAccessToken(a,c),Ke=c.tokenType===C.hO.POP?C.hO.POP:C.hO.BEARER;return{authority:y,uniqueId:ve,tenantId:Oe,scopes:U.asArray(),account:Ge,idToken:a.id_token,idTokenClaims:u,accessToken:ut,fromCache:!!z&&T.isResponseFromCache(z),expiresOn:new Date(1e3*Number(A+a.expires_in)),tokenType:Ke,correlationId:T.correlationId,state:a.state,fromNativeBroker:!0}})()}cacheAccount(a){this.browserStorage.setAccount(a),this.browserStorage.removeAccountContext(a).catch(c=>{this.logger.error(`Error occurred while removing account context from browser storage. ${c}`)})}cacheNativeTokens(a,c,u,p,y,A,T){const z=se.Md(u,c.authority,a.id_token||"",c.clientId,p.tid||""),G=T+(c.tokenType===C.hO.POP?C.gT.SHR_NONCE_VALIDITY:("string"==typeof a.expires_in?parseInt(a.expires_in,10):a.expires_in)||0),ve=this.generateScopes(a,c),Oe=se.Ds(u,c.authority,y,c.clientId,p.tid||A,ve.printScopes(),G,0,ye.t),Ge=new pe(void 0,z,Oe);this.nativeStorageManager.saveCacheRecord(Ge,c.storeInCache)}addTelemetryFromNativeResponse(a){const c=this.getMATSFromResponse(a);return c?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:c.broker_version,matsAccountJoinOnStart:c.account_join_on_start,matsAccountJoinOnEnd:c.account_join_on_end,matsDeviceJoin:c.device_join,matsPromptBehavior:c.prompt_behavior,matsApiErrorCode:c.api_error_code,matsUiVisible:c.ui_visible,matsSilentCode:c.silent_code,matsSilentBiSubCode:c.silent_bi_sub_code,matsSilentMessage:c.silent_message,matsSilentStatus:c.silent_status,matsHttpStatus:c.http_status,matsHttpEventCount:c.http_event_count},this.correlationId),c):null}validateNativeResponse(a){if(a.hasOwnProperty("access_token")&&a.hasOwnProperty("id_token")&&a.hasOwnProperty("client_info")&&a.hasOwnProperty("account")&&a.hasOwnProperty("scope")&&a.hasOwnProperty("expires_in"))return a;throw(0,S.MD)(Ta.g,"Response missing expected properties.")}getMATSFromResponse(a){if(a.properties.MATS)try{return JSON.parse(a.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(a){return typeof a.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!a.is_cached}initializeNativeRequest(a){var c=this;return(0,v.Z)(function*(){c.logger.trace("NativeInteractionClient - initializeNativeRequest called");const u=a.authority||c.config.auth.authority;a.account&&(yield c.validateRequestAuthority(u,a.account));const p=new Pe.G(u);p.validateAsUri();const{scopes:y,...A}=a,T=new tn.i(y||[]);T.appendScopes(C.f_);const U={...A,accountId:c.accountId,clientId:c.config.auth.clientId,authority:p.urlString,scope:T.printScopes(),redirectUri:c.getRedirectUri(a.redirectUri),prompt:(()=>{switch(c.apiId){case m.WN.ssoSilent:case m.WN.acquireTokenSilent_silentFlow:return c.logger.trace("initializeNativeRequest: silent request sets prompt to none"),C.NJ.NONE}if(a.prompt)switch(a.prompt){case C.NJ.NONE:case C.NJ.CONSENT:case C.NJ.LOGIN:return c.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),a.prompt;default:throw c.logger.trace(`initializeNativeRequest: prompt = ${a.prompt} is not compatible with native flow`),(0,F.Z_)(Y.o9)}else c.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:c.correlationId,tokenType:a.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...a.extraQueryParameters,...a.tokenQueryParameters},extendedExpiryToken:!1};if(c.handleExtraBrokerParams(U),U.extraParameters=U.extraParameters||{},U.extraParameters.telemetry=m.BD.MATS_TELEMETRY,a.authenticationScheme===C.hO.POP){const G={resourceRequestUri:a.resourceRequestUri,resourceRequestMethod:a.resourceRequestMethod,shrClaims:a.shrClaims,shrNonce:a.shrNonce},ve=new jr(c.browserCrypto),Oe=yield(0,I.i)(ve.generateCnf.bind(ve),E.Ak.PopTokenGenerateCnf,c.logger,c.performanceClient,c.correlationId)(G,c.logger);U.reqCnf=Oe.reqCnfHash,U.keyId=Oe.kid}return U})()}handleExtraBrokerParams(a){if(a.extraParameters&&a.extraParameters.hasOwnProperty("brk_client_id")&&a.extraParameters.hasOwnProperty("brk_redirect_uri")&&a.extraParameters.hasOwnProperty($r.Cx)){const p=a.extraParameters.brk_redirect_uri;a.extraParameters={child_client_id:a.extraParameters[$r.Cx],child_redirect_uri:a.redirectUri},a.redirectUri=p}}}class bn{constructor(a,c,u,p){this.logger=a,this.handshakeTimeoutMs=c,this.extensionId=p,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=u,this.handshakeEvent=u.startMeasurement(E.Ak.NativeMessageHandlerHandshake)}sendMessage(a){var c=this;return(0,v.Z)(function*(){c.logger.trace("NativeMessageHandler - sendMessage called.");const u={channel:m.BD.CHANNEL_ID,extensionId:c.extensionId,responseId:(0,pr.nn)(),body:a};return c.logger.trace("NativeMessageHandler - Sending request to browser extension"),c.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(u)}`),c.messageChannel.port1.postMessage(u),new Promise((p,y)=>{c.resolvers.set(u.responseId,{resolve:p,reject:y})})})()}static createProvider(a,c,u){return(0,v.Z)(function*(){a.trace("NativeMessageHandler - createProvider called.");try{const p=new bn(a,c,u,m.BD.PREFERRED_EXTENSION_ID);return yield p.sendHandshakeRequest(),p}catch{const y=new bn(a,c,u);return yield y.sendHandshakeRequest(),y}})()}sendHandshakeRequest(){var a=this;return(0,v.Z)(function*(){a.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",a.windowListener,!1);const c={channel:m.BD.CHANNEL_ID,extensionId:a.extensionId,responseId:(0,pr.nn)(),body:{method:m.Ky.HandshakeRequest}};return a.handshakeEvent.add({extensionId:a.extensionId,extensionHandshakeTimeoutMs:a.handshakeTimeoutMs}),a.messageChannel.port1.onmessage=u=>{a.onChannelMessage(u)},window.postMessage(c,window.origin,[a.messageChannel.port2]),new Promise((u,p)=>{a.handshakeResolvers.set(c.responseId,{resolve:u,reject:p}),a.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",a.windowListener,!1),a.messageChannel.port1.close(),a.messageChannel.port2.close(),a.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),p((0,F.Z_)(Y.hR)),a.handshakeResolvers.delete(c.responseId)},a.handshakeTimeoutMs)})})()}onWindowMessage(a){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),a.source!==window)return;const c=a.data;if(c.channel&&c.channel===m.BD.CHANNEL_ID&&(!c.extensionId||c.extensionId===this.extensionId)&&c.body.method===m.Ky.HandshakeRequest){const u=this.handshakeResolvers.get(c.responseId);if(!u)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${c.responseId}`);this.logger.verbose(c.extensionId?`Extension with id: ${c.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),u.reject((0,F.Z_)(Y.Wb))}}onChannelMessage(a){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const c=a.data,u=this.resolvers.get(c.responseId),p=this.handshakeResolvers.get(c.responseId);try{const y=c.body.method;if(y===m.Ky.Response){if(!u)return;const A=c.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(A)}`),"Success"!==A.status)u.reject(vn(A.code,A.description,A.ext));else{if(!A.result)throw(0,S.MD)(Ta.g,"Event does not contain result.");A.result.code&&A.result.description?u.reject(vn(A.result.code,A.result.description,A.result.ext)):u.resolve(A.result)}this.resolvers.delete(c.responseId)}else if(y===m.Ky.HandshakeResponse){if(!p)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${c.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=c.extensionId,this.extensionVersion=c.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),p.resolve(),this.handshakeResolvers.delete(c.responseId)}}catch(y){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${y}`),this.logger.errorPii(`Unable to parse ${a}`),u?u.reject(y):p&&p.reject(y)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(a,c,u,p){if(c.trace("isNativeAvailable called"),!a.system.allowNativeBroker)return c.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!u)return c.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(p)switch(p){case C.hO.BEARER:case C.hO.POP:return c.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return c.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class Po{constructor(a,c,u,p,y){this.authModule=a,this.browserStorage=c,this.authCodeRequest=u,this.logger=p,this.performanceClient=y}handleCodeResponse(a,c){var u=this;return(0,v.Z)(function*(){let p;u.performanceClient.addQueueMeasurement(E.Ak.HandleCodeResponse,c.correlationId);try{p=u.authModule.handleFragmentResponse(a,c.state)}catch(y){throw y instanceof Pt.n&&y.subError===Y.h7?(0,F.Z_)(Y.h7):y}return(0,I.i)(u.handleCodeResponseFromServer.bind(u),E.Ak.HandleCodeResponseFromServer,u.logger,u.performanceClient,c.correlationId)(p,c)})()}handleCodeResponseFromServer(a,c,u=!0){var p=this;return(0,v.Z)(function*(){if(p.performanceClient.addQueueMeasurement(E.Ak.HandleCodeResponseFromServer,c.correlationId),p.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),p.authCodeRequest.code=a.code,a.cloud_instance_host_name&&(yield(0,I.i)(p.authModule.updateAuthority.bind(p.authModule),E.Ak.UpdateTokenEndpointAuthority,p.logger,p.performanceClient,c.correlationId)(a.cloud_instance_host_name,c.correlationId)),u&&(a.nonce=c.nonce||void 0),a.state=c.state,a.client_info)p.authCodeRequest.clientInfo=a.client_info;else{const A=p.createCcsCredentials(c);A&&(p.authCodeRequest.ccsCredential=A)}return yield(0,I.i)(p.authModule.acquireToken.bind(p.authModule),E.Ak.AuthClientAcquireToken,p.logger,p.performanceClient,c.correlationId)(p.authCodeRequest,a)})()}createCcsCredentials(a){return a.account?{credential:a.account.homeAccountId,type:"home_account_id"}:a.loginHint?{credential:a.loginHint,type:"UPN"}:null}}var Gr=w(9218);function $i(re,a,c){const u=Gr.F(re);if(!u)throw Gr.q(re)?(c.error(`A ${a} is present in the iframe but it does not contain known properties. It's likely that the ${a} has been replaced by code running on the redirectUri page.`),c.errorPii(`The ${a} detected is: ${re}`),(0,F.Z_)(Y.S_)):(c.error(`The request has returned to the redirectUri but a ${a} is not present. It's likely that the ${a} has been removed or the page has been redirected by code running on the redirectUri page.`),(0,F.Z_)(Y.nF));return u}class Ql extends gr{constructor(a,c,u,p,y,A,T,z,U,G){super(a,c,u,p,y,A,T,U,G),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=z}acquireToken(a){try{const c=this.generatePopupName(a.scopes||C.f_,a.authority||this.config.auth.authority),u=a.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(a,c,u);{this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");const p=this.openSizedPopup("about:blank",c,u);return this.acquireTokenPopupAsync(a,c,u,p)}}catch(c){return Promise.reject(c)}}logout(a){try{this.logger.verbose("logoutPopup called");const c=this.initializeLogoutRequest(a),u=this.generateLogoutPopupName(c),p=a&&a.authority,y=a&&a.mainWindowRedirectUri,A=a?.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(c,u,A,p,void 0,y);{this.logger.verbose("asyncPopup set to false, opening popup");const T=this.openSizedPopup("about:blank",u,A);return this.logoutPopupAsync(c,u,A,p,T,y)}}catch(c){return Promise.reject(c)}}acquireTokenPopupAsync(a,c,u,p){var y=this;return(0,v.Z)(function*(){y.logger.verbose("acquireTokenPopupAsync called");const A=y.initializeServerTelemetryManager(m.WN.acquireTokenPopup),T=yield(0,I.i)(y.initializeAuthorizationRequest.bind(y),E.Ak.StandardInteractionClientInitializeAuthorizationRequest,y.logger,y.performanceClient,y.correlationId)(a,m.s_.Popup);(0,He.$P)(T.authority);try{const z=yield(0,I.i)(y.initializeAuthorizationCodeRequest.bind(y),E.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,y.logger,y.performanceClient,y.correlationId)(T),U=yield(0,I.i)(y.createAuthCodeClient.bind(y),E.Ak.StandardInteractionClientCreateAuthCodeClient,y.logger,y.performanceClient,y.correlationId)(A,T.authority,T.azureCloudOptions),G=bn.isNativeAvailable(y.config,y.logger,y.nativeMessageHandler,a.authenticationScheme);let ve;G&&(ve=y.performanceClient.startMeasurement(E.Ak.FetchAccountIdWithNativeBroker,a.correlationId));const Oe=yield U.getAuthCodeUrl({...T,nativeBroker:G}),Ge=new Po(U,y.browserStorage,z,y.logger,y.performanceClient),Ke=y.initiateAuthRequest(Oe,{popup:p,popupName:c,popupWindowAttributes:u});y.eventHandler.emitEvent(Te.t.POPUP_OPENED,m.s_.Popup,{popupWindow:Ke},null);const Kr=yield y.monitorPopupForHash(Ke),yr=(0,I.d)($i,E.Ak.DeserializeResponse,y.logger,y.performanceClient,y.correlationId)(Kr,y.config.auth.OIDCOptions.serverResponseType,y.logger);if(wt.removeThrottle(y.browserStorage,y.config.auth.clientId,z),yr.accountId){if(y.logger.verbose("Account id found in hash, calling WAM for token"),ve&&ve.end({success:!0,isNativeBroker:!0}),!y.nativeMessageHandler)throw(0,F.Z_)(Y.V7);const qt=new lo(y.config,y.browserStorage,y.browserCrypto,y.logger,y.eventHandler,y.navigationClient,m.WN.acquireTokenPopup,y.performanceClient,y.nativeMessageHandler,yr.accountId,y.nativeStorage,T.correlationId),{userRequestState:xo}=L.parseRequestState(y.browserCrypto,T.state);return yield qt.acquireToken({...T,state:xo,prompt:void 0})}return yield Ge.handleCodeResponse(yr,T)}catch(z){throw p&&p.close(),z instanceof S.l4&&(z.setCorrelationId(y.correlationId),A.cacheFailedRequest(z)),z}})()}logoutPopupAsync(a,c,u,p,y,A){var T=this;return(0,v.Z)(function*(){T.logger.verbose("logoutPopupAsync called"),T.eventHandler.emitEvent(Te.t.LOGOUT_START,m.s_.Popup,a);const z=T.initializeServerTelemetryManager(m.WN.logoutPopup);try{yield T.clearCacheOnLogout(a.account);const G=(yield(0,I.i)(T.createAuthCodeClient.bind(T),E.Ak.StandardInteractionClientCreateAuthCodeClient,T.logger,T.performanceClient,T.correlationId)(z,p)).getLogoutUri(a);T.eventHandler.emitEvent(Te.t.LOGOUT_SUCCESS,m.s_.Popup,a);const ve=T.openPopup(G,{popupName:c,popupWindowAttributes:u,popup:y});if(T.eventHandler.emitEvent(Te.t.POPUP_OPENED,m.s_.Popup,{popupWindow:ve},null),yield T.monitorPopupForHash(ve).catch(()=>{}),A){const Oe={apiId:m.WN.logoutPopup,timeout:T.config.system.redirectNavigationTimeout,noHistory:!1},Ge=Pe.G.getAbsoluteUrl(A,(0,He.Re)());T.logger.verbose("Redirecting main window to url specified in the request"),T.logger.verbosePii(`Redirecting main window to: ${Ge}`),yield T.navigationClient.navigateInternal(Ge,Oe)}else T.logger.verbose("No main window navigation requested")}catch(U){throw y&&y.close(),U instanceof S.l4&&(U.setCorrelationId(T.correlationId),z.cacheFailedRequest(U)),T.browserStorage.setInteractionInProgress(!1),T.eventHandler.emitEvent(Te.t.LOGOUT_FAILURE,m.s_.Popup,null,U),T.eventHandler.emitEvent(Te.t.LOGOUT_END,m.s_.Popup),U}T.eventHandler.emitEvent(Te.t.LOGOUT_END,m.s_.Popup)})()}initiateAuthRequest(a,c){if(a)return this.logger.infoPii(`Navigate to: ${a}`),this.openPopup(a,c);throw this.logger.error("Navigate url is empty"),(0,F.Z_)(Y._c)}monitorPopupForHash(a){return new Promise((c,u)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const p=setInterval(()=>{if(a.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(p),void u((0,F.Z_)(Y.h7));let y="";try{y=a.location.href}catch{}if(!y||"about:blank"===y)return;clearInterval(p);let A="";a&&(A=this.config.auth.OIDCOptions.serverResponseType===C.rg.QUERY?a.location.search:a.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),c(A)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(a)})}openPopup(a,c){try{let u;if(c.popup?(u=c.popup,this.logger.verbosePii(`Navigating popup window to: ${a}`),u.location.assign(a)):typeof c.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${a}`),u=this.openSizedPopup(a,c.popupName,c.popupWindowAttributes)),!u)throw(0,F.Z_)(Y.H);return u.focus&&u.focus(),this.currentWindow=u,window.addEventListener("beforeunload",this.unloadWindow),u}catch(u){throw this.logger.error("error opening popup "+u.message),this.browserStorage.setInteractionInProgress(!1),(0,F.Z_)(Y.E)}}openSizedPopup(a,c,u){const p=window.screenLeft?window.screenLeft:window.screenX,y=window.screenTop?window.screenTop:window.screenY,A=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,T=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let z=u.popupSize?.width,U=u.popupSize?.height,G=u.popupPosition?.top,ve=u.popupPosition?.left;return(!z||z<0||z>A)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),z=m.qx.POPUP_WIDTH),(!U||U<0||U>T)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),U=m.qx.POPUP_HEIGHT),(!G||G<0||G>T)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),G=Math.max(0,T/2-m.qx.POPUP_HEIGHT/2+y)),(!ve||ve<0||ve>A)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),ve=Math.max(0,A/2-m.qx.POPUP_WIDTH/2+p)),window.open(a,c,`width=${z}, height=${U}, top=${G}, left=${ve}, scrollbars=yes`)}unloadWindow(a){this.browserStorage.cleanRequestByInteractionType(m.s_.Popup),this.currentWindow&&this.currentWindow.close(),a.preventDefault()}cleanPopup(a){a&&a.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(a,c){return`${m.qx.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${a.join("-")}.${c}.${this.correlationId}`}generateLogoutPopupName(a){return`${m.qx.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${a.account&&a.account.homeAccountId}.${this.correlationId}`}}class ji{constructor(a,c,u,p,y){this.authModule=a,this.browserStorage=c,this.authCodeRequest=u,this.logger=p,this.performanceClient=y}initiateAuthRequest(a,c){var u=this;return(0,v.Z)(function*(){if(u.logger.verbose("RedirectHandler.initiateAuthRequest called"),a){c.redirectStartPage&&(u.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),u.browserStorage.setTemporaryCache(m.c4.ORIGIN_URI,c.redirectStartPage,!0)),u.browserStorage.setTemporaryCache(m.c4.CORRELATION_ID,u.authCodeRequest.correlationId,!0),u.browserStorage.cacheCodeRequest(u.authCodeRequest),u.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${a}`);const p={apiId:m.WN.acquireTokenRedirect,timeout:c.redirectTimeout,noHistory:!1};return"function"==typeof c.onRedirectNavigate?(u.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1!==c.onRedirectNavigate(a)?(u.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void(yield c.navigationClient.navigateExternal(a,p))):void u.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")):(u.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void(yield c.navigationClient.navigateExternal(a,p)))}throw u.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),(0,F.Z_)(Y._c)})()}handleCodeResponse(a,c){var u=this;return(0,v.Z)(function*(){u.logger.verbose("RedirectHandler.handleCodeResponse called"),u.browserStorage.setInteractionInProgress(!1);const p=u.browserStorage.generateStateKey(c),y=u.browserStorage.getTemporaryCache(p);if(!y)throw(0,V.zP)(N.LV,"Cached State");let A;try{A=u.authModule.handleFragmentResponse(a,y)}catch(G){throw G instanceof Pt.n&&G.subError===Y.h7?(0,F.Z_)(Y.h7):G}const T=u.browserStorage.generateNonceKey(y),z=u.browserStorage.getTemporaryCache(T);if(u.authCodeRequest.code=A.code,A.cloud_instance_host_name&&(yield(0,I.i)(u.authModule.updateAuthority.bind(u.authModule),E.Ak.UpdateTokenEndpointAuthority,u.logger,u.performanceClient,u.authCodeRequest.correlationId)(A.cloud_instance_host_name,u.authCodeRequest.correlationId)),A.nonce=z||void 0,A.state=y,A.client_info)u.authCodeRequest.clientInfo=A.client_info;else{const G=u.checkCcsCredentials();G&&(u.authCodeRequest.ccsCredential=G)}const U=yield u.authModule.acquireToken(u.authCodeRequest,A);return u.browserStorage.cleanRequestByState(c),U})()}checkCcsCredentials(){const a=this.browserStorage.getTemporaryCache(m.c4.CCS_CREDENTIAL,!0);if(a)try{return JSON.parse(a)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${a}`)}return null}}class Ma extends gr{constructor(a,c,u,p,y,A,T,z,U,G){super(a,c,u,p,y,A,T,U,G),this.nativeStorage=z}acquireToken(a){var c=this;return(0,v.Z)(function*(){const u=yield(0,I.i)(c.initializeAuthorizationRequest.bind(c),E.Ak.StandardInteractionClientInitializeAuthorizationRequest,c.logger,c.performanceClient,c.correlationId)(a,m.s_.Redirect);c.browserStorage.updateCacheEntries(u.state,u.nonce,u.authority,u.loginHint||"",u.account||null);const p=c.initializeServerTelemetryManager(m.WN.acquireTokenRedirect),y=A=>{A.persisted&&(c.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),c.browserStorage.cleanRequestByState(u.state),c.eventHandler.emitEvent(Te.t.RESTORE_FROM_BFCACHE,m.s_.Redirect))};try{const A=yield(0,I.i)(c.initializeAuthorizationCodeRequest.bind(c),E.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,c.logger,c.performanceClient,c.correlationId)(u),T=yield(0,I.i)(c.createAuthCodeClient.bind(c),E.Ak.StandardInteractionClientCreateAuthCodeClient,c.logger,c.performanceClient,c.correlationId)(p,u.authority,u.azureCloudOptions),z=new ji(T,c.browserStorage,A,c.logger,c.performanceClient),U=yield T.getAuthCodeUrl({...u,nativeBroker:bn.isNativeAvailable(c.config,c.logger,c.nativeMessageHandler,a.authenticationScheme)}),G=c.getRedirectStartPage(a.redirectStartPage);return c.logger.verbosePii(`Redirect start page: ${G}`),window.addEventListener("pageshow",y),yield z.initiateAuthRequest(U,{navigationClient:c.navigationClient,redirectTimeout:c.config.system.redirectNavigationTimeout,redirectStartPage:G,onRedirectNavigate:a.onRedirectNavigate})}catch(A){throw A instanceof S.l4&&(A.setCorrelationId(c.correlationId),p.cacheFailedRequest(A)),window.removeEventListener("pageshow",y),c.browserStorage.cleanRequestByState(u.state),A}})()}handleRedirectPromise(a){var c=this;return(0,v.Z)(function*(){const u=c.initializeServerTelemetryManager(m.WN.handleRedirectPromise);try{if(!c.browserStorage.isInteractionInProgress(!0))return c.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[p,y]=c.getRedirectResponse(a||"");if(!p)return c.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),c.browserStorage.cleanRequestByInteractionType(m.s_.Redirect),null;const A=c.browserStorage.getTemporaryCache(m.c4.ORIGIN_URI,!0)||C.gT.EMPTY_STRING;if(Pe.G.removeHashFromUrl(A)===Pe.G.removeHashFromUrl(window.location.href)&&c.config.auth.navigateToLoginRequestUrl)return c.logger.verbose("Current page is loginRequestUrl, handling response"),A.indexOf("#")>-1&&(0,He.tT)(A),yield c.handleResponse(p,u);if(!c.config.auth.navigateToLoginRequestUrl)return c.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),yield c.handleResponse(p,u);if(!(0,He.zd)()||c.config.system.allowRedirectInIframe){c.browserStorage.setTemporaryCache(m.c4.URL_HASH,y,!0);const U={apiId:m.WN.handleRedirectPromise,timeout:c.config.system.redirectNavigationTimeout,noHistory:!0};let G=!0;if(A&&"null"!==A)c.logger.verbose(`Navigating to loginRequestUrl: ${A}`),G=yield c.navigationClient.navigateInternal(A,U);else{const ve=(0,He.fl)();c.browserStorage.setTemporaryCache(m.c4.ORIGIN_URI,ve,!0),c.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),G=yield c.navigationClient.navigateInternal(ve,U)}if(!G)return yield c.handleResponse(p,u)}return null}catch(p){throw p instanceof S.l4&&(p.setCorrelationId(c.correlationId),u.cacheFailedRequest(p)),c.browserStorage.cleanRequestByInteractionType(m.s_.Redirect),p}})()}getRedirectResponse(a){this.logger.verbose("getRedirectResponseHash called");let c=a;c||(c=this.config.auth.OIDCOptions.serverResponseType===C.rg.QUERY?window.location.search:window.location.hash);let u=Gr.F(c);if(u){try{!function uo(re,a,c){if(!re.state)throw(0,F.Z_)(Y.Xk);const u=ue(a,re.state);if(!u)throw(0,F.Z_)(Y.$P);if(u.interactionType!==c)throw(0,F.Z_)(Y.yK)}(u,this.browserCrypto,m.s_.Redirect)}catch(y){return y instanceof S.l4&&this.logger.error(`Interaction type validation failed due to ${y.errorCode}: ${y.errorMessage}`),[null,""]}return(0,He.hH)(window),this.logger.verbose("Hash contains known properties, returning response hash"),[u,c]}const p=this.browserStorage.getTemporaryCache(m.c4.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(m.c4.URL_HASH)),p&&(u=Gr.F(p),u)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[u,p]):[null,""]}handleResponse(a,c){var u=this;return(0,v.Z)(function*(){const p=a.state;if(!p)throw(0,F.Z_)(Y.Xk);const y=u.browserStorage.getCachedRequest(p);if(u.logger.verbose("handleResponse called, retrieved cached request"),a.accountId){if(u.logger.verbose("Account id found in hash, calling WAM for token"),!u.nativeMessageHandler)throw(0,F.Z_)(Y.V7);const U=new lo(u.config,u.browserStorage,u.browserCrypto,u.logger,u.eventHandler,u.navigationClient,m.WN.acquireTokenPopup,u.performanceClient,u.nativeMessageHandler,a.accountId,u.nativeStorage,y.correlationId),{userRequestState:G}=L.parseRequestState(u.browserCrypto,p);return U.acquireToken({...y,state:G,prompt:void 0}).finally(()=>{u.browserStorage.cleanRequestByState(p)})}const A=u.browserStorage.getCachedAuthority(p);if(!A)throw(0,F.Z_)(Y.dT);const T=yield(0,I.i)(u.createAuthCodeClient.bind(u),E.Ak.StandardInteractionClientCreateAuthCodeClient,u.logger,u.performanceClient,u.correlationId)(c,A);return wt.removeThrottle(u.browserStorage,u.config.auth.clientId,y),new ji(T,u.browserStorage,y,u.logger,u.performanceClient).handleCodeResponse(a,p)})()}logout(a){var c=this;return(0,v.Z)(function*(){c.logger.verbose("logoutRedirect called");const u=c.initializeLogoutRequest(a),p=c.initializeServerTelemetryManager(m.WN.logout);try{c.eventHandler.emitEvent(Te.t.LOGOUT_START,m.s_.Redirect,a),yield c.clearCacheOnLogout(u.account);const y={apiId:m.WN.logout,timeout:c.config.system.redirectNavigationTimeout,noHistory:!1},T=(yield(0,I.i)(c.createAuthCodeClient.bind(c),E.Ak.StandardInteractionClientCreateAuthCodeClient,c.logger,c.performanceClient,c.correlationId)(p,a&&a.authority)).getLogoutUri(u);if(c.eventHandler.emitEvent(Te.t.LOGOUT_SUCCESS,m.s_.Redirect,u),!a||"function"!=typeof a.onRedirectNavigate)return c.browserStorage.getInteractionInProgress()||c.browserStorage.setInteractionInProgress(!0),void(yield c.navigationClient.navigateExternal(T,y));if(!1!==a.onRedirectNavigate(T))return c.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),c.browserStorage.getInteractionInProgress()||c.browserStorage.setInteractionInProgress(!0),void(yield c.navigationClient.navigateExternal(T,y));c.browserStorage.setInteractionInProgress(!1),c.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(y){throw y instanceof S.l4&&(y.setCorrelationId(c.correlationId),p.cacheFailedRequest(y)),c.eventHandler.emitEvent(Te.t.LOGOUT_FAILURE,m.s_.Redirect,null,y),c.eventHandler.emitEvent(Te.t.LOGOUT_END,m.s_.Redirect),y}c.eventHandler.emitEvent(Te.t.LOGOUT_END,m.s_.Redirect)})()}getRedirectStartPage(a){const c=a||window.location.href;return Pe.G.getAbsoluteUrl(c,(0,He.Re)())}}var Ra=w(1216);function Jl(re,a,c,u,p){return zi.apply(this,arguments)}function zi(){return(zi=(0,v.Z)(function*(re,a,c,u,p){if(a.addQueueMeasurement(E.Ak.SilentHandlerInitiateAuthRequest,u),!re)throw c.info("Navigate url is empty"),(0,F.Z_)(Y._c);return p?(0,I.i)(eu,E.Ak.SilentHandlerLoadFrame,c,a,u)(re,p,a,u):(0,I.d)(tu,E.Ak.SilentHandlerLoadFrameSync,c,a,u)(re)})).apply(this,arguments)}function Xl(re,a,c,u,p,y,A){return No.apply(this,arguments)}function No(){return(No=(0,v.Z)(function*(re,a,c,u,p,y,A){return u.addQueueMeasurement(E.Ak.SilentHandlerMonitorIframeForHash,y),new Promise((T,z)=>{a<Ra.Is&&p.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${a}ms) than the default (${Ra.Is}ms). This may result in timeouts.`);const U=window.setTimeout(()=>{window.clearInterval(G),z((0,F.Z_)(Y.JA))},a),G=window.setInterval(()=>{let ve="";const Oe=re.contentWindow;try{ve=Oe?Oe.location.href:""}catch{}if(!ve||"about:blank"===ve)return;let Ge="";Oe&&(Ge=A===C.rg.QUERY?Oe.location.search:Oe.location.hash),window.clearTimeout(U),window.clearInterval(G),T(Ge)},c)}).finally(()=>{(0,I.d)(Gi,E.Ak.RemoveHiddenIframe,p,u,y)(re)})})).apply(this,arguments)}function eu(re,a,c,u){return c.addQueueMeasurement(E.Ak.SilentHandlerLoadFrame,u),new Promise((p,y)=>{const A=ze();window.setTimeout(()=>{A?(A.src=re,p(A)):y("Unable to load iframe")},a)})}function tu(re){const a=ze();return a.src=re,a}function ze(){const re=document.createElement("iframe");return re.style.visibility="hidden",re.style.position="absolute",re.style.width=re.style.height="0",re.style.border="0",re.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(re),re}function Gi(re){document.body===re.parentNode&&document.body.removeChild(re)}class nu extends gr{constructor(a,c,u,p,y,A,T,z,U,G,ve){super(a,c,u,p,y,A,z,G,ve),this.apiId=T,this.nativeStorage=U}acquireToken(a){var c=this;return(0,v.Z)(function*(){if(c.performanceClient.addQueueMeasurement(E.Ak.SilentIframeClientAcquireToken,a.correlationId),!a.loginHint&&!a.sid&&(!a.account||!a.account.username)&&c.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),a.prompt&&a.prompt!==C.NJ.NONE&&a.prompt!==C.NJ.NO_SESSION)throw(0,F.Z_)(Y.WQ);const u=yield(0,I.i)(c.initializeAuthorizationRequest.bind(c),E.Ak.StandardInteractionClientInitializeAuthorizationRequest,c.logger,c.performanceClient,a.correlationId)({...a,prompt:a.prompt||C.NJ.NONE},m.s_.Silent);(0,He.$P)(u.authority);const p=c.initializeServerTelemetryManager(c.apiId);try{const y=yield(0,I.i)(c.createAuthCodeClient.bind(c),E.Ak.StandardInteractionClientCreateAuthCodeClient,c.logger,c.performanceClient,a.correlationId)(p,u.authority,u.azureCloudOptions);return yield(0,I.i)(c.silentTokenHelper.bind(c),E.Ak.SilentIframeClientTokenHelper,c.logger,c.performanceClient,a.correlationId)(y,u)}catch(y){throw y instanceof S.l4&&(y.setCorrelationId(c.correlationId),p.cacheFailedRequest(y)),y}})()}logout(){return Promise.reject((0,F.Z_)(Y.I9))}silentTokenHelper(a,c){var u=this;return(0,v.Z)(function*(){const p=c.correlationId;u.performanceClient.addQueueMeasurement(E.Ak.SilentIframeClientTokenHelper,p);const y=yield(0,I.i)(u.initializeAuthorizationCodeRequest.bind(u),E.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,u.logger,u.performanceClient,p)(c),A=yield(0,I.i)(a.getAuthCodeUrl.bind(a),E.Ak.GetAuthCodeUrl,u.logger,u.performanceClient,p)({...c,nativeBroker:bn.isNativeAvailable(u.config,u.logger,u.nativeMessageHandler,c.authenticationScheme)}),T=new Po(a,u.browserStorage,y,u.logger,u.performanceClient),z=yield(0,I.i)(Jl,E.Ak.SilentHandlerInitiateAuthRequest,u.logger,u.performanceClient,p)(A,u.performanceClient,u.logger,p,u.config.system.navigateFrameWait),U=u.config.auth.OIDCOptions.serverResponseType,G=yield(0,I.i)(Xl,E.Ak.SilentHandlerMonitorIframeForHash,u.logger,u.performanceClient,p)(z,u.config.system.iframeHashTimeout,u.config.system.pollIntervalMilliseconds,u.performanceClient,u.logger,p,U),ve=(0,I.d)($i,E.Ak.DeserializeResponse,u.logger,u.performanceClient,u.correlationId)(G,U,u.logger);if(ve.accountId){if(u.logger.verbose("Account id found in hash, calling WAM for token"),!u.nativeMessageHandler)throw(0,F.Z_)(Y.V7);const Oe=new lo(u.config,u.browserStorage,u.browserCrypto,u.logger,u.eventHandler,u.navigationClient,u.apiId,u.performanceClient,u.nativeMessageHandler,ve.accountId,u.browserStorage,p),{userRequestState:Ge}=L.parseRequestState(u.browserCrypto,c.state);return(0,I.i)(Oe.acquireToken.bind(Oe),E.Ak.NativeInteractionClientAcquireToken,u.logger,u.performanceClient,p)({...c,state:Ge,prompt:c.prompt||C.NJ.NONE})}return(0,I.i)(T.handleCodeResponse.bind(T),E.Ak.HandleCodeResponse,u.logger,u.performanceClient,p)(ve,c)})()}}class Ki extends gr{acquireToken(a){var c=this;return(0,v.Z)(function*(){c.performanceClient.addQueueMeasurement(E.Ak.SilentRefreshClientAcquireToken,a.correlationId);const u=yield(0,I.i)(c.initializeBaseRequest.bind(c),E.Ak.InitializeBaseRequest,c.logger,c.performanceClient,a.correlationId)(a,a.account),p={...a,...u},y=c.initializeServerTelemetryManager(m.WN.acquireTokenSilent_silentFlow),A=yield c.createRefreshTokenClient(y,p.authority,p.azureCloudOptions);return(0,I.i)(A.acquireTokenByRefreshToken.bind(A),E.Ak.RefreshTokenClientAcquireTokenByRefreshToken,c.logger,c.performanceClient,a.correlationId)(p).catch(T=>{throw T.setCorrelationId(c.correlationId),y.cacheFailedRequest(T),T})})()}logout(){return Promise.reject((0,F.Z_)(Y.I9))}createRefreshTokenClient(a,c,u){var p=this;return(0,v.Z)(function*(){const y=yield(0,I.i)(p.getClientConfiguration.bind(p),E.Ak.StandardInteractionClientGetClientConfiguration,p.logger,p.performanceClient,p.correlationId)(a,c,u);return new Vi(y,p.performanceClient)})()}}class et{constructor(a,c,u,p){this.isBrowserEnvironment=typeof window<"u",this.config=a,this.storage=c,this.logger=u,this.cryptoObj=p}loadExternalTokens(a,c,u){if(this.logger.info("TokenCache - loadExternalTokens called"),!c.id_token)throw(0,F.Z_)(Y.Jd);const p=le.Z_(c.id_token,ye.t);let y,A,T;if(a.account)T=K.r.createFromAccountInfo(a.account),y=new pe(T,this.loadIdToken(c.id_token,T.homeAccountId,a.account.environment,a.account.tenantId),this.loadAccessToken(a,c,T.homeAccountId,a.account.environment,a.account.tenantId,u),this.loadRefreshToken(a,c,T.homeAccountId,a.account.environment));else{if(!a.authority)throw(0,F.Z_)(Y.Jd);{const z=O.WU.generateAuthority(a.authority,a.azureCloudOptions);if(A=new O.WU(z,this.config.system.networkClient,this.storage,{protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},this.logger),u.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),T=this.loadAccount(p,A,u.clientInfo),y=new pe(T,this.loadIdToken(c.id_token,T.homeAccountId,A.hostnameAndPort,A.tenant),this.loadAccessToken(a,c,T.homeAccountId,A.hostnameAndPort,A.tenant,u),this.loadRefreshToken(a,c,T.homeAccountId,A.hostnameAndPort));else{if(!c.client_info)throw(0,F.Z_)(Y.Jd);this.logger.trace("TokenCache - homeAccountId from response"),T=this.loadAccount(p,A,c.client_info),y=new pe(T,this.loadIdToken(c.id_token,T.homeAccountId,A.hostnameAndPort,A.tenant),this.loadAccessToken(a,c,T.homeAccountId,A.hostnameAndPort,A.tenant,u),this.loadRefreshToken(a,c,T.homeAccountId,A.hostnameAndPort))}}}return this.generateAuthenticationResult(a,p,y,T,A)}loadAccount(a,c,u,p){if(this.isBrowserEnvironment){let y;if(this.logger.verbose("TokenCache - loading account"),p?y=p:void 0!==c.authorityType&&u&&(y=K.r.generateHomeAccountId(u,c.authorityType,this.logger,this.cryptoObj,a)),!y)throw(0,F.Z_)(Y.Jd);const T=Fi(this.storage,c,y,a,ye.t,u,a.tid,void 0,void 0,this.logger);return this.storage.setAccount(T),T}throw(0,F.Z_)(Y.Jd)}loadIdToken(a,c,u,p){const y=se.Md(c,u,a,this.config.auth.clientId,p);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(y),y;throw(0,F.Z_)(Y.Jd)}loadAccessToken(a,c,u,p,y,A){if(!c.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!c.expires_in||!A.extendedExpiresOn)throw(0,F.Z_)(Y.Jd);const T=new tn.i(a.scopes).printScopes(),z=A.expiresOn||c.expires_in+(new Date).getTime()/1e3,G=se.Ds(u,p,c.access_token,this.config.auth.clientId,y,T,z,A.extendedExpiresOn,ye.t);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(G),G;throw(0,F.Z_)(Y.Jd)}loadRefreshToken(a,c,u,p){if(!c.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;const y=se.OJ(u,p,c.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(y),y;throw(0,F.Z_)(Y.Jd)}generateAuthenticationResult(a,c,u,p,y){let U,A=C.gT.EMPTY_STRING,T=[],z=null;return u?.accessToken&&(A=u.accessToken.secret,T=tn.i.fromString(u.accessToken.target).asArray(),z=new Date(1e3*Number(u.accessToken.expiresOn)),U=new Date(1e3*Number(u.accessToken.extendedExpiresOn))),{authority:y?y.canonicalAuthority:C.gT.EMPTY_STRING,uniqueId:c.oid||c.sub||C.gT.EMPTY_STRING,tenantId:c.tid||C.gT.EMPTY_STRING,scopes:T,account:p.getAccountInfo(),idToken:u.idToken?.secret||"",idTokenClaims:c||{},accessToken:A,fromCache:!0,expiresOn:z,correlationId:a.correlationId||C.gT.EMPTY_STRING,requestId:C.gT.EMPTY_STRING,extExpiresOn:U,familyId:C.gT.EMPTY_STRING,tokenType:u?.accessToken?.tokenType||C.gT.EMPTY_STRING,state:C.gT.EMPTY_STRING,cloudGraphHostName:p.cloudGraphHostName||C.gT.EMPTY_STRING,msGraphHost:p.msGraphHost||C.gT.EMPTY_STRING,code:void 0,fromNativeBroker:!1}}}class Wi extends va{constructor(a){super(a),this.includeRedirectUri=!1}}class ot extends gr{constructor(a,c,u,p,y,A,T,z,U,G){super(a,c,u,p,y,A,z,U,G),this.apiId=T}acquireToken(a){var c=this;return(0,v.Z)(function*(){if(!a.code)throw(0,F.Z_)(Y.Aj);const u=yield(0,I.i)(c.initializeAuthorizationRequest.bind(c),E.Ak.StandardInteractionClientInitializeAuthorizationRequest,c.logger,c.performanceClient,a.correlationId)(a,m.s_.Silent),p=c.initializeServerTelemetryManager(c.apiId);try{const y={...u,code:a.code},A=yield(0,I.i)(c.getClientConfiguration.bind(c),E.Ak.StandardInteractionClientGetClientConfiguration,c.logger,c.performanceClient,a.correlationId)(p,u.authority),T=new Wi(A);c.logger.verbose("Auth code client created");const z=new Po(T,c.browserStorage,y,c.logger,c.performanceClient);return yield(0,I.i)(z.handleCodeResponseFromServer.bind(z),E.Ak.HandleCodeResponseFromServer,c.logger,c.performanceClient,a.correlationId)({code:a.code,msgraph_host:a.msGraphHost,cloud_graph_host_name:a.cloudGraphHostName,cloud_instance_host_name:a.cloudInstanceHostName},u,!1)}catch(y){throw y instanceof S.l4&&(y.setCorrelationId(c.correlationId),p.cacheFailedRequest(y)),y}})()}logout(){return Promise.reject((0,F.Z_)(Y.I9))}}class ho{constructor(a){this.atsAsyncMeasurement=void 0,this.operatingContext=a,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=a.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new f.Q(this.logger,this.performanceClient):R.d,this.eventHandler=new lt.b(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new nt(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,(0,O.Ct)(this.config.auth)):((re,a)=>new nt(this.config.auth.clientId,{cacheLocation:m.Ix.MemoryStorage,temporaryCacheLocation:m.Ix.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},R.d,this.logger))(),this.nativeInternalStorage=new nt(this.config.auth.clientId,{cacheLocation:m.Ix.MemoryStorage,temporaryCacheLocation:m.Ix.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},this.browserCrypto,this.logger),this.tokenCache=new et(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static createController(a){return(0,v.Z)(function*(){const c=new ho(a);return yield c.initialize(),c})()}trackPageVisibility(){this.atsAsyncMeasurement&&(this.logger.info("Perf: Visibility change detected"),this.atsAsyncMeasurement.increment({visibilityChangeCount:1}))}initialize(){var a=this;return(0,v.Z)(function*(){if(a.logger.trace("initialize called"),a.initialized)return void a.logger.info("initialize has already been called, exiting early.");const c=a.config.system.allowNativeBroker,u=a.performanceClient.startMeasurement(E.Ak.InitializeClientApplication);if(a.eventHandler.emitEvent(Te.t.INITIALIZE_START),c)try{a.nativeExtensionProvider=yield bn.createProvider(a.logger,a.config.system.nativeBrokerHandshakeTimeout,a.performanceClient)}catch(p){a.logger.verbose(p)}a.config.cache.claimsBasedCachingEnabled||(a.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),yield(0,I.i)(a.browserStorage.clearTokensAndKeysWithClaims.bind(a.browserStorage),E.Ak.ClearTokensAndKeysWithClaims,a.logger,a.performanceClient)(a.performanceClient)),a.initialized=!0,a.eventHandler.emitEvent(Te.t.INITIALIZE_END),u.end({allowNativeBroker:c,success:!0})})()}handleRedirectPromise(a){var c=this;return(0,v.Z)(function*(){c.logger.verbose("handleRedirectPromise called"),(0,He.eQ)(c.initialized);const u=c.getAllAccounts();if(c.isBrowserEnvironment){const p=a||"";let y=c.redirectResponse.get(p);if(typeof y>"u"){c.eventHandler.emitEvent(Te.t.HANDLE_REDIRECT_START,m.s_.Redirect),c.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise");const A=c.browserStorage.getCachedNativeRequest();let T;if(A&&bn.isNativeAvailable(c.config,c.logger,c.nativeExtensionProvider)&&c.nativeExtensionProvider&&!a)c.logger.trace("handleRedirectPromise - acquiring token from native platform"),T=new lo(c.config,c.browserStorage,c.browserCrypto,c.logger,c.eventHandler,c.navigationClient,m.WN.handleRedirectPromise,c.performanceClient,c.nativeExtensionProvider,A.accountId,c.nativeInternalStorage,A.correlationId).handleRedirectPromise();else{c.logger.trace("handleRedirectPromise - acquiring token from web flow");const z=c.browserStorage.getTemporaryCache(m.c4.CORRELATION_ID,!0)||C.gT.EMPTY_STRING;T=c.createRedirectClient(z).handleRedirectPromise(a)}y=T.then(z=>(z&&(u.length<c.getAllAccounts().length?(c.eventHandler.emitEvent(Te.t.LOGIN_SUCCESS,m.s_.Redirect,z),c.logger.verbose("handleRedirectResponse returned result, login success")):(c.eventHandler.emitEvent(Te.t.ACQUIRE_TOKEN_SUCCESS,m.s_.Redirect,z),c.logger.verbose("handleRedirectResponse returned result, acquire token success"))),c.eventHandler.emitEvent(Te.t.HANDLE_REDIRECT_END,m.s_.Redirect),z)).catch(z=>{throw c.eventHandler.emitEvent(u.length>0?Te.t.ACQUIRE_TOKEN_FAILURE:Te.t.LOGIN_FAILURE,m.s_.Redirect,null,z),c.eventHandler.emitEvent(Te.t.HANDLE_REDIRECT_END,m.s_.Redirect),z}),c.redirectResponse.set(p,y)}else c.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call");return y}return c.logger.verbose("handleRedirectPromise returns null, not browser environment"),null})()}acquireTokenRedirect(a){var c=this;return(0,v.Z)(function*(){const u=c.getRequestCorrelationId(a);c.logger.verbose("acquireTokenRedirect called",u),c.preflightBrowserEnvironmentCheck(m.s_.Redirect);const p=c.getAllAccounts().length>0;let y;return c.eventHandler.emitEvent(p?Te.t.ACQUIRE_TOKEN_START:Te.t.LOGIN_START,m.s_.Redirect,a),y=c.nativeExtensionProvider&&c.canUseNative(a)?new lo(c.config,c.browserStorage,c.browserCrypto,c.logger,c.eventHandler,c.navigationClient,m.WN.acquireTokenRedirect,c.performanceClient,c.nativeExtensionProvider,c.getNativeAccountId(a),c.nativeInternalStorage,u).acquireTokenRedirect(a).catch(T=>{if(T instanceof Vn&&zr(T))return c.nativeExtensionProvider=void 0,c.createRedirectClient(u).acquireToken(a);if(T instanceof H.Yo)return c.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),c.createRedirectClient(u).acquireToken(a);throw c.getBrowserStorage().setInteractionInProgress(!1),T}):c.createRedirectClient(u).acquireToken(a),y.catch(A=>{throw c.eventHandler.emitEvent(p?Te.t.ACQUIRE_TOKEN_FAILURE:Te.t.LOGIN_FAILURE,m.s_.Redirect,null,A),A})})()}acquireTokenPopup(a){const c=this.getRequestCorrelationId(a),u=this.performanceClient.startMeasurement(E.Ak.AcquireTokenPopup,c);try{this.logger.verbose("acquireTokenPopup called",c),this.preflightBrowserEnvironmentCheck(m.s_.Popup)}catch(A){return Promise.reject(A)}const p=this.getAllAccounts();let y;return this.eventHandler.emitEvent(p.length>0?Te.t.ACQUIRE_TOKEN_START:Te.t.LOGIN_START,m.s_.Popup,a),y=this.canUseNative(a)?this.acquireTokenNative({...a,correlationId:c},m.WN.acquireTokenPopup).then(A=>(this.getBrowserStorage().setInteractionInProgress(!1),u.end({success:!0,isNativeBroker:!0,requestId:A.requestId}),A)).catch(A=>{if(A instanceof Vn&&zr(A))return this.nativeExtensionProvider=void 0,this.createPopupClient(c).acquireToken(a);if(A instanceof H.Yo)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(c).acquireToken(a);throw this.getBrowserStorage().setInteractionInProgress(!1),A}):this.createPopupClient(c).acquireToken(a),y.then(A=>(p.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Te.t.LOGIN_SUCCESS,m.s_.Popup,A):this.eventHandler.emitEvent(Te.t.ACQUIRE_TOKEN_SUCCESS,m.s_.Popup,A),u.add({accessTokenSize:A.accessToken.length,idTokenSize:A.idToken.length}),u.end({success:!0,requestId:A.requestId}),A)).catch(A=>(this.eventHandler.emitEvent(p.length>0?Te.t.ACQUIRE_TOKEN_FAILURE:Te.t.LOGIN_FAILURE,m.s_.Popup,null,A),u.end({errorCode:A.errorCode,subErrorCode:A.subError,success:!1}),Promise.reject(A)))}trackPageVisibilityWithMeasurement(){const a=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;a&&(this.logger.info("Perf: Visibility change detected in ",a.event.name),a.increment({visibilityChangeCount:1}))}ssoSilent(a){var c=this;return(0,v.Z)(function*(){const u=c.getRequestCorrelationId(a),p={...a,prompt:a.prompt,correlationId:u};let y;return c.preflightBrowserEnvironmentCheck(m.s_.Silent),c.ssoSilentMeasurement=c.performanceClient.startMeasurement(E.Ak.SsoSilent,u),c.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",c.trackPageVisibilityWithMeasurement),c.logger.verbose("ssoSilent called",u),c.eventHandler.emitEvent(Te.t.SSO_SILENT_START,m.s_.Silent,p),y=c.canUseNative(p)?c.acquireTokenNative(p,m.WN.ssoSilent).catch(A=>{if(A instanceof Vn&&zr(A))return c.nativeExtensionProvider=void 0,c.createSilentIframeClient(p.correlationId).acquireToken(p);throw A}):c.createSilentIframeClient(p.correlationId).acquireToken(p),y.then(A=>(c.eventHandler.emitEvent(Te.t.SSO_SILENT_SUCCESS,m.s_.Silent,A),c.ssoSilentMeasurement?.add({accessTokenSize:A.accessToken.length,idTokenSize:A.idToken.length}),c.ssoSilentMeasurement?.end({success:!0,isNativeBroker:A.fromNativeBroker,requestId:A.requestId}),A)).catch(A=>{throw c.eventHandler.emitEvent(Te.t.SSO_SILENT_FAILURE,m.s_.Silent,null,A),c.ssoSilentMeasurement?.end({errorCode:A.errorCode,subErrorCode:A.subError,success:!1}),A}).finally(()=>{document.removeEventListener("visibilitychange",c.trackPageVisibilityWithMeasurement)})})()}acquireTokenByCode(a){var c=this;return(0,v.Z)(function*(){const u=c.getRequestCorrelationId(a);c.preflightBrowserEnvironmentCheck(m.s_.Silent),c.logger.trace("acquireTokenByCode called",u),c.eventHandler.emitEvent(Te.t.ACQUIRE_TOKEN_BY_CODE_START,m.s_.Silent,a);const p=c.performanceClient.startMeasurement(E.Ak.AcquireTokenByCode,u);try{if(a.code&&a.nativeAccountId)throw(0,F.Z_)(Y.LL);if(a.code){const y=a.code;let A=c.hybridAuthCodeResponses.get(y);return A?(c.logger.verbose("Existing acquireTokenByCode request found",u),p.discard()):(c.logger.verbose("Initiating new acquireTokenByCode request",u),A=c.acquireTokenByCodeAsync({...a,correlationId:u}).then(T=>(c.eventHandler.emitEvent(Te.t.ACQUIRE_TOKEN_BY_CODE_SUCCESS,m.s_.Silent,T),c.hybridAuthCodeResponses.delete(y),p.add({accessTokenSize:T.accessToken.length,idTokenSize:T.idToken.length}),p.end({success:!0,isNativeBroker:T.fromNativeBroker,requestId:T.requestId}),T)).catch(T=>{throw c.hybridAuthCodeResponses.delete(y),c.eventHandler.emitEvent(Te.t.ACQUIRE_TOKEN_BY_CODE_FAILURE,m.s_.Silent,null,T),p.end({errorCode:T.errorCode,subErrorCode:T.subError,success:!1}),T}),c.hybridAuthCodeResponses.set(y,A)),yield A}if(a.nativeAccountId){if(c.canUseNative(a,a.nativeAccountId))return yield c.acquireTokenNative({...a,correlationId:u},m.WN.acquireTokenByCode,a.nativeAccountId).catch(y=>{throw y instanceof Vn&&zr(y)&&(c.nativeExtensionProvider=void 0),y});throw(0,F.Z_)(Y.KA)}throw(0,F.Z_)(Y.Dy)}catch(y){throw c.eventHandler.emitEvent(Te.t.ACQUIRE_TOKEN_BY_CODE_FAILURE,m.s_.Silent,null,y),p.end({errorCode:y instanceof S.l4&&y.errorCode||void 0,subErrorCode:y instanceof S.l4&&y.subError||void 0,success:!1}),y}})()}acquireTokenByCodeAsync(a){var c=this;return(0,v.Z)(function*(){return c.logger.trace("acquireTokenByCodeAsync called",a.correlationId),c.acquireTokenByCodeAsyncMeasurement=c.performanceClient.startMeasurement(E.Ak.AcquireTokenByCodeAsync,a.correlationId),c.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",c.trackPageVisibilityWithMeasurement),yield c.createSilentAuthCodeClient(a.correlationId).acquireToken(a).then(y=>(c.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:y.fromCache,isNativeBroker:y.fromNativeBroker,requestId:y.requestId}),y)).catch(y=>{throw c.acquireTokenByCodeAsyncMeasurement?.end({errorCode:y.errorCode,subErrorCode:y.subError,success:!1}),y}).finally(()=>{document.removeEventListener("visibilitychange",c.trackPageVisibilityWithMeasurement)})})()}acquireTokenFromCache(a,c,u){var p=this;return(0,v.Z)(function*(){switch(p.performanceClient.addQueueMeasurement(E.Ak.AcquireTokenFromCache,c.correlationId),u){case m.lu.Default:case m.lu.AccessToken:case m.lu.AccessTokenAndRefreshToken:return(0,I.i)(a.acquireToken.bind(a),E.Ak.SilentCacheClientAcquireToken,p.logger,p.performanceClient,c.correlationId)(c);default:throw(0,V.zP)(N.s$)}})()}acquireTokenByRefreshToken(a,c){var u=this;return(0,v.Z)(function*(){switch(u.performanceClient.addQueueMeasurement(E.Ak.AcquireTokenByRefreshToken,a.correlationId),c){case m.lu.Default:case m.lu.AccessTokenAndRefreshToken:case m.lu.RefreshToken:case m.lu.RefreshTokenAndNetwork:const p=u.createSilentRefreshClient(a.correlationId);return(0,I.i)(p.acquireToken.bind(p),E.Ak.SilentRefreshClientAcquireToken,u.logger,u.performanceClient,a.correlationId)(a);default:throw(0,V.zP)(N.s$)}})()}acquireTokenBySilentIframe(a){var c=this;return(0,v.Z)(function*(){c.performanceClient.addQueueMeasurement(E.Ak.AcquireTokenBySilentIframe,a.correlationId);const u=c.createSilentIframeClient(a.correlationId);return(0,I.i)(u.acquireToken.bind(u),E.Ak.SilentIframeClientAcquireToken,c.logger,c.performanceClient,a.correlationId)(a)})()}logout(a){var c=this;return(0,v.Z)(function*(){const u=c.getRequestCorrelationId(a);return c.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",u),c.logoutRedirect({correlationId:u,...a})})()}logoutRedirect(a){var c=this;return(0,v.Z)(function*(){const u=c.getRequestCorrelationId(a);return c.preflightBrowserEnvironmentCheck(m.s_.Redirect),c.createRedirectClient(u).logout(a)})()}logoutPopup(a){try{const c=this.getRequestCorrelationId(a);return this.preflightBrowserEnvironmentCheck(m.s_.Popup),this.createPopupClient(c).logout(a)}catch(c){return Promise.reject(c)}}clearCache(a){var c=this;return(0,v.Z)(function*(){const u=c.getRequestCorrelationId(a);return c.createSilentCacheClient(u).logout(a)})()}getAllAccounts(a){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts(a):[]}getAccount(a){if(this.logger.trace("getAccount called"),0===Object.keys(a).length)return this.logger.warning("getAccount: No accountFilter provided"),null;const c=this.browserStorage.getAccountInfoFilteredBy(a);return c?(this.logger.verbose("getAccount: Account matching provided filter found, returning"),c):(this.logger.verbose("getAccount: No matching account found, returning null"),null)}getAccountByUsername(a){if(this.logger.trace("getAccountByUsername called"),!a)return this.logger.warning("getAccountByUsername: No username provided"),null;const c=this.browserStorage.getAccountInfoFilteredBy({username:a});return c?(this.logger.verbose("getAccountByUsername: Account matching username found, returning"),this.logger.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${a}`),c):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)}getAccountByHomeId(a){if(this.logger.trace("getAccountByHomeId called"),!a)return this.logger.warning("getAccountByHomeId: No homeAccountId provided"),null;const c=this.browserStorage.getAccountInfoFilteredBy({homeAccountId:a});return c?(this.logger.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),this.logger.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${a}`),c):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)}getAccountByLocalId(a){if(this.logger.trace("getAccountByLocalId called"),!a)return this.logger.warning("getAccountByLocalId: No localAccountId provided"),null;const c=this.browserStorage.getAccountInfoFilteredBy({localAccountId:a});return c?(this.logger.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),this.logger.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${a}`),c):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)}setActiveAccount(a){this.browserStorage.setActiveAccount(a)}getActiveAccount(){return this.browserStorage.getActiveAccount()}hydrateCache(a,c){var u=this;return(0,v.Z)(function*(){u.logger.verbose("hydrateCache called");const p=K.r.createFromAccountInfo(a.account,a.cloudGraphHostName,a.msGraphHost);return u.browserStorage.setAccount(p),a.fromNativeBroker?(u.logger.verbose("Response was from native broker, storing in-memory"),u.nativeInternalStorage.hydrateCache(a,c)):u.browserStorage.hydrateCache(a,c)})()}preflightBrowserEnvironmentCheck(a,c=!1){if(this.logger.verbose("preflightBrowserEnvironmentCheck started"),(0,He.$S)(this.isBrowserEnvironment),(0,He.$V)(a,this.config.system.allowRedirectInIframe),(0,He.ET)(),(0,He.L7)(),(0,He.eQ)(this.initialized),a===m.s_.Redirect&&this.config.cache.cacheLocation===m.Ix.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw(0,k.Z1)(x.xC);(a===m.s_.Redirect||a===m.s_.Popup)&&this.preflightInteractiveRequest(!c)}preflightInteractiveRequest(a){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),(0,He.ET)(),a&&this.getBrowserStorage().setInteractionInProgress(!0)}acquireTokenNative(a,c,u){var p=this;return(0,v.Z)(function*(){if(p.logger.trace("acquireTokenNative called"),!p.nativeExtensionProvider)throw(0,F.Z_)(Y.V7);return new lo(p.config,p.browserStorage,p.browserCrypto,p.logger,p.eventHandler,p.navigationClient,c,p.performanceClient,p.nativeExtensionProvider,u||p.getNativeAccountId(a),p.nativeInternalStorage,a.correlationId).acquireToken(a)})()}canUseNative(a,c){if(this.logger.trace("canUseNative called"),!bn.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,a.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(a.prompt)switch(a.prompt){case C.NJ.NONE:case C.NJ.CONSENT:case C.NJ.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${a.prompt} is not compatible with native flow, returning false`),!1}return!(!c&&!this.getNativeAccountId(a)&&(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),1))}getNativeAccountId(a){const c=a.account||this.getAccount({loginHint:a.loginHint,sid:a.sid})||this.getActiveAccount();return c&&c.nativeAccountId||""}createPopupClient(a){return new Ql(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,a)}createRedirectClient(a){return new Ma(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,a)}createSilentIframeClient(a){return new nu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,m.WN.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,a)}createSilentCacheClient(a){return new mr(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,a)}createSilentRefreshClient(a){return new Ki(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,a)}createSilentAuthCodeClient(a){return new ot(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,m.WN.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,a)}addEventCallback(a){return this.eventHandler.addEventCallback(a)}removeEventCallback(a){this.eventHandler.removeEventCallback(a)}addPerformanceCallback(a){return this.performanceClient.addPerformanceCallback(a)}removePerformanceCallback(a){return this.performanceClient.removePerformanceCallback(a)}enableAccountStorageEvents(){this.eventHandler.enableAccountStorageEvents()}disableAccountStorageEvents(){this.eventHandler.disableAccountStorageEvents()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(a){this.logger=a}initializeWrapperLibrary(a,c){this.browserStorage.setWrapperMetadata(a,c)}setNavigationClient(a){this.navigationClient=a}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}getBrowserStorage(){return this.browserStorage}isBrowserEnv(){return this.isBrowserEnvironment}getEventHandler(){return this.eventHandler}getRequestCorrelationId(a){return a?.correlationId?a.correlationId:this.isBrowserEnvironment?(0,pr.nn)():C.gT.EMPTY_STRING}loginRedirect(a){var c=this;return(0,v.Z)(function*(){const u=c.getRequestCorrelationId(a);return c.logger.verbose("loginRedirect called",u),c.acquireTokenRedirect({correlationId:u,...a||m.yo})})()}loginPopup(a){const c=this.getRequestCorrelationId(a);return this.logger.verbose("loginPopup called",c),this.acquireTokenPopup({correlationId:c,...a||m.yo})}acquireTokenSilent(a){var c=this;return(0,v.Z)(function*(){const u=c.getRequestCorrelationId(a),p=c.performanceClient.startMeasurement(E.Ak.AcquireTokenSilent,u);p.add({cacheLookupPolicy:a.cacheLookupPolicy}),c.preflightBrowserEnvironmentCheck(m.s_.Silent),c.logger.verbose("acquireTokenSilent called",u);const y=a.account||c.getActiveAccount();if(!y)throw(0,F.Z_)(Y.wH);const T=JSON.stringify({clientId:c.config.auth.clientId,authority:a.authority||C.gT.EMPTY_STRING,scopes:a.scopes,homeAccountIdentifier:y.homeAccountId,claims:a.claims,authenticationScheme:a.authenticationScheme,resourceRequestMethod:a.resourceRequestMethod,resourceRequestUri:a.resourceRequestUri,shrClaims:a.shrClaims,sshKid:a.sshKid,shrOptions:a.shrOptions}),z=c.activeSilentTokenRequests.get(T);if(typeof z>"u"){c.logger.verbose("acquireTokenSilent called for the first time, storing active request",u);const U=(0,I.i)(c.acquireTokenSilentAsync.bind(c),E.Ak.AcquireTokenSilentAsync,c.logger,c.performanceClient,u)({...a,correlationId:u},y).then(G=>(c.activeSilentTokenRequests.delete(T),p.add({accessTokenSize:G.accessToken.length,idTokenSize:G.idToken.length}),p.end({success:!0,fromCache:G.fromCache,isNativeBroker:G.fromNativeBroker,cacheLookupPolicy:a.cacheLookupPolicy,requestId:G.requestId}),G)).catch(G=>{throw c.activeSilentTokenRequests.delete(T),p.end({errorCode:G.errorCode,subErrorCode:G.subError,success:!1}),G});return c.activeSilentTokenRequests.set(T,U),U}return c.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",u),p.discard(),z})()}acquireTokenSilentAsync(a,c){var u=this;return(0,v.Z)(function*(){let p;if(u.performanceClient.addQueueMeasurement(E.Ak.AcquireTokenSilentAsync,a.correlationId),u.eventHandler.emitEvent(Te.t.ACQUIRE_TOKEN_START,m.s_.Silent,a),u.atsAsyncMeasurement=u.performanceClient.startMeasurement(E.Ak.AcquireTokenSilentAsync,a.correlationId),u.atsAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",u.trackPageVisibility),bn.isNativeAvailable(u.config,u.logger,u.nativeExtensionProvider,a.authenticationScheme)&&c.nativeAccountId){u.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform");const y={...a,account:c};p=u.acquireTokenNative(y,m.WN.acquireTokenSilent_silentFlow).catch(function(){var A=(0,v.Z)(function*(T){if(T instanceof Vn&&zr(T))return u.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),u.nativeExtensionProvider=void 0,u.createSilentIframeClient(a.correlationId).acquireToken(a);throw T});return function(T){return A.apply(this,arguments)}}())}else{u.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow");const y=u.createSilentCacheClient(a.correlationId),A=yield(0,I.i)(y.initializeSilentRequest.bind(y),E.Ak.InitializeSilentRequest,u.logger,u.performanceClient,a.correlationId)(a,c),T=a.cacheLookupPolicy||m.lu.Default;p=(0,I.i)(u.acquireTokenFromCache.bind(u),E.Ak.AcquireTokenFromCache,u.logger,u.performanceClient,A.correlationId)(y,A,T).catch(z=>{if(a.cacheLookupPolicy===m.lu.AccessToken)throw z;return(0,He.ET)(),u.eventHandler.emitEvent(Te.t.ACQUIRE_TOKEN_NETWORK_START,m.s_.Silent,A),(0,I.i)(u.acquireTokenByRefreshToken.bind(u),E.Ak.AcquireTokenByRefreshToken,u.logger,u.performanceClient,A.correlationId)(A,T).catch(U=>{if(!((U instanceof H.Yo||U.errorCode!==m.qx.INVALID_GRANT_ERROR&&U.errorCode!==N.s$)&&U.errorCode!==ce.I2||T!==m.lu.Default&&T!==m.lu.Skip&&T!==m.lu.RefreshTokenAndNetwork))return u.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",a.correlationId),(0,I.i)(u.acquireTokenBySilentIframe.bind(u),E.Ak.AcquireTokenBySilentIframe,u.logger,u.performanceClient,A.correlationId)(A);throw U})})}return p.then(y=>(u.eventHandler.emitEvent(Te.t.ACQUIRE_TOKEN_SUCCESS,m.s_.Silent,y),u.atsAsyncMeasurement?.end({success:!0,fromCache:y.fromCache,isNativeBroker:y.fromNativeBroker,requestId:y.requestId}),y)).catch(y=>{throw u.eventHandler.emitEvent(Te.t.ACQUIRE_TOKEN_FAILURE,m.s_.Silent,null,y),u.atsAsyncMeasurement?.end({errorCode:y.errorCode,subErrorCode:y.subError,success:!1}),y}).finally(()=>{document.removeEventListener("visibilitychange",u.trackPageVisibility)})})()}}},717:(Ee,Q,w)=>{w.d(Q,{$5:()=>L,Au:()=>D,Fv:()=>K,Mg:()=>j,PP:()=>q,Xx:()=>le,nn:()=>se,qz:()=>N});var v=w(5861),f=w(9141),R=w(905),O=w(8468),E=w(9238);const C="SHA-256",S=new Uint8Array([1,0,1]),V={name:"RSASSA-PKCS1-v1_5",hash:C,modulusLength:2048,publicExponent:S};function N(F){if(!("crypto"in window))throw F.error("BrowserCrypto: crypto interface is unavailable"),(0,f.Z_)(E.TR);F.verbose("BrowserCrypto: modern crypto interface available")}function K(F,m,k){return ce.apply(this,arguments)}function ce(){return(ce=(0,v.Z)(function*(F,m,k){m?.addQueueMeasurement(R.Ak.Sha256Digest,k);const $=(new TextEncoder).encode(F);return window.crypto.subtle.digest(C,$)})).apply(this,arguments)}function q(F){return window.crypto.getRandomValues(F)}function se(){return window.crypto.randomUUID()}function D(F,m){return b.apply(this,arguments)}function b(){return(b=(0,v.Z)(function*(F,m){return window.crypto.subtle.generateKey(V,F,m)})).apply(this,arguments)}function j(F){return J.apply(this,arguments)}function J(){return(J=(0,v.Z)(function*(F){return window.crypto.subtle.exportKey(O.Mm,F)})).apply(this,arguments)}function L(F,m,k){return ne.apply(this,arguments)}function ne(){return(ne=(0,v.Z)(function*(F,m,k){return window.crypto.subtle.importKey(O.Mm,F,V,m,k)})).apply(this,arguments)}function le(F,m){return pe.apply(this,arguments)}function pe(){return(pe=(0,v.Z)(function*(F,m){return window.crypto.subtle.sign(V,F,m)})).apply(this,arguments)}},7918:(Ee,Q,w)=>{w.d(Q,{Q:()=>le});var v=w(5861),f=w(905),R=w(4191);const O="missing_kid_error",E="missing_alg_error",I={[O]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[E]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class C extends R.l4{constructor(m,k){super(m,k),this.name="JoseHeaderError",Object.setPrototypeOf(this,C.prototype)}}function H(F){return new C(F,I[F])}var S=w(9128);class V{constructor(m){this.typ=m.typ,this.alg=m.alg,this.kid=m.kid}static getShrHeaderString(m){if(!m.kid)throw H(O);if(!m.alg)throw H(E);const k=new V({typ:m.typ||S.xd.Pop,kid:m.kid,alg:m.alg});return JSON.stringify(k)}}var N=w(3675),K=w(3830),ce=w(717),q=w(9141),se=w(8468),D=w(9238);class b{constructor(){this.dbName=se.H4,this.version=se.kd,this.tableName=se.Gv,this.dbOpen=!1}open(){var m=this;return(0,v.Z)(function*(){return new Promise((k,x)=>{const $=window.indexedDB.open(m.dbName,m.version);$.addEventListener("upgradeneeded",ie=>{ie.target.result.createObjectStore(m.tableName)}),$.addEventListener("success",ie=>{m.db=ie.target.result,m.dbOpen=!0,k()}),$.addEventListener("error",()=>x((0,q.Z_)(D.Pi)))})})()}closeConnection(){const m=this.db;m&&this.dbOpen&&(m.close(),this.dbOpen=!1)}validateDbIsOpen(){var m=this;return(0,v.Z)(function*(){if(!m.dbOpen)return m.open()})()}getItem(m){var k=this;return(0,v.Z)(function*(){return yield k.validateDbIsOpen(),new Promise((x,$)=>{if(!k.db)return $((0,q.Z_)(D.IL));const ye=k.db.transaction([k.tableName],"readonly").objectStore(k.tableName).get(m);ye.addEventListener("success",Re=>{const Y=Re;k.closeConnection(),x(Y.target.result)}),ye.addEventListener("error",Re=>{k.closeConnection(),$(Re)})})})()}setItem(m,k){var x=this;return(0,v.Z)(function*(){return yield x.validateDbIsOpen(),new Promise(($,ie)=>{if(!x.db)return ie((0,q.Z_)(D.IL));const Re=x.db.transaction([x.tableName],"readwrite").objectStore(x.tableName).put(k,m);Re.addEventListener("success",()=>{x.closeConnection(),$()}),Re.addEventListener("error",Y=>{x.closeConnection(),ie(Y)})})})()}removeItem(m){var k=this;return(0,v.Z)(function*(){return yield k.validateDbIsOpen(),new Promise((x,$)=>{if(!k.db)return $((0,q.Z_)(D.IL));const ye=k.db.transaction([k.tableName],"readwrite").objectStore(k.tableName).delete(m);ye.addEventListener("success",()=>{k.closeConnection(),x()}),ye.addEventListener("error",Re=>{k.closeConnection(),$(Re)})})})()}getKeys(){var m=this;return(0,v.Z)(function*(){return yield m.validateDbIsOpen(),new Promise((k,x)=>{if(!m.db)return x((0,q.Z_)(D.IL));const ue=m.db.transaction([m.tableName],"readonly").objectStore(m.tableName).getAllKeys();ue.addEventListener("success",ye=>{const Re=ye;m.closeConnection(),k(Re.target.result)}),ue.addEventListener("error",ye=>{m.closeConnection(),x(ye)})})})()}containsKey(m){var k=this;return(0,v.Z)(function*(){return yield k.validateDbIsOpen(),new Promise((x,$)=>{if(!k.db)return $((0,q.Z_)(D.IL));const ye=k.db.transaction([k.tableName],"readonly").objectStore(k.tableName).count(m);ye.addEventListener("success",Re=>{const Y=Re;k.closeConnection(),x(1===Y.target.result)}),ye.addEventListener("error",Re=>{k.closeConnection(),$(Re)})})})()}deleteDatabase(){var m=this;return(0,v.Z)(function*(){return m.db&&m.dbOpen&&m.closeConnection(),new Promise((k,x)=>{const $=window.indexedDB.deleteDatabase(se.H4);$.addEventListener("success",()=>k(!0)),$.addEventListener("blocked",()=>k(!0)),$.addEventListener("error",()=>x(!1))})})()}}var j=w(6555);class J{constructor(m,k){this.inMemoryCache=new j.k,this.indexedDBCache=new b,this.logger=m,this.storeName=k}handleDatabaseAccessError(m){if(!(m instanceof q.Ut&&m.errorCode===D.Pi))throw m;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}getItem(m){var k=this;return(0,v.Z)(function*(){const x=k.inMemoryCache.getItem(m);if(!x)try{return k.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),yield k.indexedDBCache.getItem(m)}catch($){k.handleDatabaseAccessError($)}return x})()}setItem(m,k){var x=this;return(0,v.Z)(function*(){x.inMemoryCache.setItem(m,k);try{yield x.indexedDBCache.setItem(m,k)}catch($){x.handleDatabaseAccessError($)}})()}removeItem(m){var k=this;return(0,v.Z)(function*(){k.inMemoryCache.removeItem(m);try{yield k.indexedDBCache.removeItem(m)}catch(x){k.handleDatabaseAccessError(x)}})()}getKeys(){var m=this;return(0,v.Z)(function*(){const k=m.inMemoryCache.getKeys();if(0===k.length)try{return m.logger.verbose("In-memory cache is empty, now querying persistent storage."),yield m.indexedDBCache.getKeys()}catch(x){m.handleDatabaseAccessError(x)}return k})()}containsKey(m){var k=this;return(0,v.Z)(function*(){const x=k.inMemoryCache.containsKey(m);if(!x)try{return k.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),yield k.indexedDBCache.containsKey(m)}catch($){k.handleDatabaseAccessError($)}return x})()}clearInMemory(){this.logger.verbose(`Deleting in-memory keystore ${this.storeName}`),this.inMemoryCache.clear(),this.logger.verbose(`In-memory keystore ${this.storeName} deleted`)}clearPersistent(){var m=this;return(0,v.Z)(function*(){try{m.logger.verbose("Deleting persistent keystore");const k=yield m.indexedDBCache.deleteDatabase();return k&&m.logger.verbose("Persistent keystore deleted"),k}catch(k){return m.handleDatabaseAccessError(k),!1}})()}}class ne{constructor(m){this.logger=m,this.asymmetricKeys=new J(this.logger,"asymmetricKeys"),this.symmetricKeys=new J(this.logger,"symmetricKeys")}clear(){var m=this;return(0,v.Z)(function*(){m.asymmetricKeys.clearInMemory(),m.symmetricKeys.clearInMemory();try{return yield m.asymmetricKeys.clearPersistent(),!0}catch(k){return k instanceof Error?m.logger.error(`Clearing keystore failed with error: ${k.message}`):m.logger.error("Clearing keystore failed with unknown error"),!1}})()}}let le=(()=>{class F{constructor(k,x){this.logger=k,(0,ce.qz)(k),this.cache=new ne(this.logger),this.performanceClient=x}createNewGuid(){return(0,ce.nn)()}base64Encode(k){return(0,N.h$)(k)}base64Decode(k){return(0,K.t)(k)}getPublicKeyThumbprint(k){var x=this;return(0,v.Z)(function*(){const $=x.performanceClient?.startMeasurement(f.Ak.CryptoOptsGetPublicKeyThumbprint,k.correlationId),ie=yield(0,ce.Au)(F.EXTRACTABLE,F.POP_KEY_USAGES),ue=yield(0,ce.Mg)(ie.publicKey),Re=pe({e:ue.e,kty:ue.kty,n:ue.n}),Y=yield x.hashString(Re),nt=yield(0,ce.Mg)(ie.privateKey),rt=yield(0,ce.$5)(nt,!1,["sign"]);return yield x.cache.asymmetricKeys.setItem(Y,{privateKey:rt,publicKey:ie.publicKey,requestMethod:k.resourceRequestMethod,requestUri:k.resourceRequestUri}),$&&$.end({success:!0}),Y})()}removeTokenBindingKey(k){var x=this;return(0,v.Z)(function*(){return yield x.cache.asymmetricKeys.removeItem(k),!(yield x.cache.asymmetricKeys.containsKey(k))})()}clearKeystore(){var k=this;return(0,v.Z)(function*(){return k.cache.clear()})()}signJwt(k,x,$,ie){var ue=this;return(0,v.Z)(function*(){const ye=ue.performanceClient?.startMeasurement(f.Ak.CryptoOptsSignJwt,ie),Re=yield ue.cache.asymmetricKeys.getItem(x);if(!Re)throw(0,q.Z_)(D.XM);const Y=yield(0,ce.Mg)(Re.publicKey),nt=pe(Y),rt=(0,N._j)(JSON.stringify({kid:x})),He=V.getShrHeaderString({...$?.header,alg:Y.alg,kid:rt}),Te=(0,N._j)(He);k.cnf={jwk:JSON.parse(nt)};const Pt=`${Te}.${(0,N._j)(JSON.stringify(k))}`,qe=(new TextEncoder).encode(Pt),Pe=yield(0,ce.Xx)(Re.privateKey,qe),we=`${Pt}.${(0,N.Wy)(new Uint8Array(Pe))}`;return ye&&ye.end({success:!0}),we})()}hashString(k){return(0,v.Z)(function*(){const x=yield(0,ce.Fv)(k),$=new Uint8Array(x);return(0,N.Wy)($)})()}}return F.POP_KEY_USAGES=["sign","verify"],F.EXTRACTABLE=!0,F})();function pe(F){return JSON.stringify(F,Object.keys(F).sort())}},3830:(Ee,Q,w)=>{w.d(Q,{t:()=>R});var v=w(9141),f=w(9238);function R(E){return(new TextDecoder).decode(function O(E){let I=E.replace(/-/g,"+").replace(/_/g,"/");switch(I.length%4){case 0:break;case 2:I+="==";break;case 3:I+="=";break;default:throw(0,v.Z_)(f.lZ)}const C=atob(I);return Uint8Array.from(C,H=>H.codePointAt(0)||0)}(E))}},3675:(Ee,Q,w)=>{function v(E){return encodeURIComponent(R(E).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function f(E){return O(E).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R(E){return O((new TextEncoder).encode(E))}function O(E){const I=Array.from(E,C=>String.fromCodePoint(C)).join("");return btoa(I)}w.d(Q,{Wy:()=>f,_j:()=>v,h$:()=>R})},9141:(Ee,Q,w)=>{w.d(Q,{Ut:()=>I,Z_:()=>C});var v=w(4191),f=w(9238);const R="For more visit: aka.ms/msaljs/browser-errors",O={[f.vD]:"The PKCE code challenge and verifier could not be generated.",[f.TR]:"The crypto object or function is not available.",[f._c]:"Navigation URI is empty. Please check stack trace for more info.",[f.nF]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${R}`,[f.Xk]:"Hash does not contain state. Please verify that the request originated from msal.",[f.S_]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${R}`,[f.$P]:"Unable to parse state. Please verify that the request originated from msal.",[f.yK]:"Hash contains state but the interaction type does not match the caller.",[f.Ck]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${R}`,[f.E]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[f.H]:"window.open returned null or undefined window object.",[f.h7]:"User cancelled the flow.",[f.ZT]:`Token acquisition in popup failed due to timeout.  ${R}`,[f.JA]:`Token acquisition in iframe failed due to timeout.  ${R}`,[f.b_]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[f.xO]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${R}`,[f.bj]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[f.h8]:"The iframe being monitored was closed prematurely.",[f.I9]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[f.wH]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[f.WQ]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[f.QO]:"No token request found in cache.",[f.e$]:"The cached token request could not be parsed.",[f.dT]:"No cached authority found.",[f.BO]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[f.Ut]:"Invalid cache type",[f.Dx]:"Login and token requests are not supported in non-browser environments.",[f.IL]:"Database is not open!",[f.Mq]:"No network connectivity. Check your internet connection.",[f.Dc]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[f.C8]:"Network request failed. Please check the network trace to determine root cause.",[f.w6]:"Failed to parse network response. Check network trace.",[f.Jd]:"Error loading token to cache.",[f.XM]:"Cryptographic Key or Keypair not found in browser storage.",[f.Aj]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[f.Dy]:"An authorization code or nativeAccountId must be provided to this flow.",[f.LL]:"Request cannot contain both spa code and native account id.",[f.Pi]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[f.KA]:`Unable to acquire token from native platform.  ${R}`,[f.hR]:"Timed out while attempting to establish connection to browser extension",[f.Wb]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[f.V7]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${R}`,[f.al]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${R}`,[f.o9]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[f.lZ]:"Invalid base64 encoded string."};class I extends v.l4{constructor(S){super(S,O[S]),Object.setPrototypeOf(this,I.prototype),this.name="BrowserAuthError"}}function C(H){return new I(H)}},9238:(Ee,Q,w)=>{w.d(Q,{$P:()=>C,Aj:()=>rt,BO:()=>m,C8:()=>ye,Ck:()=>S,Dc:()=>ue,Dx:()=>x,Dy:()=>He,E:()=>V,H:()=>N,I9:()=>J,IL:()=>$,JA:()=>q,Jd:()=>Y,KA:()=>Pt,LL:()=>Te,Mq:()=>ie,Pi:()=>lt,QO:()=>le,S_:()=>I,TR:()=>f,Ut:()=>k,V7:()=>Pe,WQ:()=>ne,Wb:()=>qe,XM:()=>nt,Xk:()=>E,ZT:()=>ce,_c:()=>R,al:()=>yn,b_:()=>se,bj:()=>b,dT:()=>F,e$:()=>pe,h7:()=>K,h8:()=>j,hR:()=>wt,lZ:()=>Br,nF:()=>O,o9:()=>we,vD:()=>v,w6:()=>Re,wH:()=>L,xO:()=>D,yK:()=>H});const v="pkce_not_created",f="crypto_nonexistent",R="empty_navigate_uri",O="hash_empty_error",E="no_state_in_hash",I="hash_does_not_contain_known_properties",C="unable_to_parse_state",H="state_interaction_type_mismatch",S="interaction_in_progress",V="popup_window_error",N="empty_window_error",K="user_cancelled",ce="monitor_popup_timeout",q="monitor_window_timeout",se="redirect_in_iframe",D="block_iframe_reload",b="block_nested_popups",j="iframe_closed_prematurely",J="silent_logout_unsupported",L="no_account_error",ne="silent_prompt_value_error",le="no_token_request_cache_error",pe="unable_to_parse_token_request_cache_error",F="no_cached_authority_error",m="auth_request_not_set_error",k="invalid_cache_type",x="non_browser_environment",$="database_not_open",ie="no_network_connectivity",ue="post_request_failed",ye="get_request_failed",Re="failed_to_parse_response",Y="unable_to_load_token",nt="crypto_key_not_found",rt="auth_code_required",He="auth_code_or_nativeAccountId_required",Te="spa_code_and_nativeAccountId_present",lt="database_unavailable",Pt="unable_to_acquire_token_from_native_platform",wt="native_handshake_timeout",qe="native_extension_not_installed",Pe="native_connection_not_established",yn="uninitialized_public_client_application",we="native_prompt_not_supported",Br="invalid_base64_string"},6290:(Ee,Q,w)=>{w.d(Q,{WK:()=>E,Z1:()=>I});var v=w(4191),f=w(9616);const R={[f.m4]:"Given storage configuration option was not supported.",[f.hJ]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[f.xC]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class E extends v.l4{constructor(H,S){super(H,S),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,E.prototype)}}function I(C){return new E(C,R[C])}},9616:(Ee,Q,w)=>{w.d(Q,{hJ:()=>f,m4:()=>v,xC:()=>R});const v="storage_not_supported",f="stubbed_public_client_application_called",R="in_mem_redirect_unavailable"},2573:(Ee,Q,w)=>{w.d(Q,{b:()=>E});var v=w(7712),f=w(5764),R=w(6521),O=w(717);class E{constructor(C,H){this.eventCallbacks=new Map,this.logger=C,this.browserCrypto=H,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}addEventCallback(C){if(typeof window<"u"){const H=(0,O.nn)();return this.eventCallbacks.set(H,C),this.logger.verbose(`Event callback registered with id: ${H}`),H}return null}removeEventCallback(C){this.eventCallbacks.delete(C),this.logger.verbose(`Event callback ${C} removed.`)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}emitEvent(C,H,S,V){if(typeof window<"u"){const N={eventType:C,interactionType:H||null,payload:S||null,error:V||null,timestamp:Date.now()};this.logger.info(`Emitting event: ${C}`),this.eventCallbacks.forEach((K,ce)=>{this.logger.verbose(`Emitting event to callback ${ce}: ${C}`),K.apply(null,[N])})}}handleAccountCacheChange(C){try{const H=C.newValue||C.oldValue;if(!H)return;const S=JSON.parse(H);if("object"!=typeof S||!v.r.isAccountEntity(S))return;const N=f.L.toObject(new v.r,S).getAccountInfo();!C.oldValue&&C.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(R.t.ACCOUNT_ADDED,void 0,N)):!C.newValue&&C.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(R.t.ACCOUNT_REMOVED,void 0,N))}catch{return}}}},6521:(Ee,Q,w)=>{w.d(Q,{t:()=>v});const v={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"}},9509:(Ee,Q,w)=>{w.d(Q,{i:()=>f,u:()=>v});const v="@azure/msal-browser",f="3.6.0"},8468:(Ee,Q,w)=>{w.d(Q,{$H:()=>K,BD:()=>R,Bs:()=>S,EC:()=>I,Gv:()=>j,H4:()=>D,Ix:()=>E,Ky:()=>O,Mm:()=>q,Oq:()=>H,WN:()=>V,c4:()=>C,kd:()=>b,lA:()=>se,lu:()=>J,qx:()=>f,s_:()=>N,yo:()=>ce});var v=w(9128);const f={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},R={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},O={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},E={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},I={GET:"GET",POST:"POST"},C={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},H={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},S={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},V={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var N=(()=>{return(L=N||(N={})).Redirect="redirect",L.Popup="popup",L.Silent="silent",L.None="none",N;var L})();const K={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},ce={scopes:v.f_},q="jwk",se={React:"@azure/msal-react",Angular:"@azure/msal-angular"},D="msal.db",b=1,j=`${D}.keys`,J={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5}},6644:(Ee,Q,w)=>{w.d(Q,{$P:()=>D,$S:()=>q,$V:()=>K,ET:()=>N,L7:()=>ce,Re:()=>S,eQ:()=>se,fl:()=>V,hH:()=>E,tT:()=>I,zd:()=>C});var v=w(3886),f=w(9141),R=w(8468),O=w(9238);function E(b){b.location.hash="","function"==typeof b.history.replaceState&&b.history.replaceState(null,"",`${b.location.origin}${b.location.pathname}${b.location.search}`)}function I(b){const j=b.split("#");j.shift(),window.location.hash=j.length>0?j.join("#"):""}function C(){return window.parent!==window}function S(){return window.location.href.split("?")[0].split("#")[0]}function V(){const j=new v.G(window.location.href).getUrlComponents();return`${j.Protocol}//${j.HostNameAndPort}/`}function N(){if(v.G.hashContainsKnownProperties(window.location.hash)&&C())throw(0,f.Z_)(O.xO)}function K(b,j){const J=C();if(b===R.s_.Redirect&&J&&!j)throw(0,f.Z_)(O.b_)}function ce(){if(function H(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf(`${R.qx.POPUP_NAME_PREFIX}.`)}())throw(0,f.Z_)(O.bj)}function q(b){if(!b)throw(0,f.Z_)(O.Dx)}function se(b){if(!b)throw(0,f.Z_)(O.al)}function D(b){const j=document.createElement("link");j.rel="preconnect",j.href=new URL(b).origin,j.crossOrigin="anonymous",document.head.appendChild(j),window.setTimeout(()=>{try{document.head.removeChild(j)}catch{}},1e4)}},2888:(Ee,Q,w)=>{function v(O,E){return!!O&&!!E&&O===E.split(".")[1]}function f(O,E){const{oid:I,sub:C,tid:H,name:S,tfp:V,acr:N}=E,K=H||V||N||"";return{tenantId:K,localAccountId:I||C||"",name:S,isHomeTenant:v(K,O)}}function R(O,E,I){let C=O;if(E){const{isHomeTenant:H,...S}=E;C={...O,...S}}if(I){const{isHomeTenant:H,...S}=f(O.homeAccountId,I);return C={...C,...S,idTokenClaims:I},C}return C}w.d(Q,{$f:()=>R,Hc:()=>v,SI:()=>f})},2103:(Ee,Q,w)=>{w.d(Q,{Z_:()=>R,ky:()=>E});var v=w(464),f=w(322);function R(I,C){const H=function O(I){if(!I)throw(0,v.zP)(f.PM);const H=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(I);if(!H||H.length<4)throw(0,v.zP)(f.GH);return H[2]}(I);try{const S=C(H);return JSON.parse(S)}catch{throw(0,v.zP)(f.GH)}}function E(I,C){if(0===C||Date.now()-3e5>I+C)throw(0,v.zP)(f.Ao)}},9947:(Ee,Q,w)=>{w.d(Q,{B:()=>O,j:()=>E});var v=w(464),f=w(9128),R=w(322);function O(I,C){if(!I)throw(0,v.zP)(R.S7);try{const H=C(I);return JSON.parse(H)}catch{throw(0,v.zP)(R.ZE)}}function E(I){if(!I)throw(0,v.zP)(R.ZE);const C=I.split(f.Bv.CLIENT_INFO_SEPARATOR,2);return{uid:C[0],utid:C.length<2?f.gT.EMPTY_STRING:C[1]}}},4918:(Ee,Q,w)=>{function v(f){return f&&(f.tid||f.tfp||f.acr)||null}w.d(Q,{M:()=>v})},3071:(Ee,Q,w)=>{w.d(Q,{WU:()=>L,Ct:()=>pe,Dm:()=>le,Mh:()=>ne});var v=w(5861),f=w(842),O=w(3886),E=w(464),I=w(9128),C=w(7247),H=w(8061),S=w(1763),V=w(9084),N=w(6145),q=w(905),se=w(9312);let D=(()=>{class F{constructor(k,x,$,ie){this.networkInterface=k,this.logger=x,this.performanceClient=$,this.correlationId=ie}detectRegion(k,x){var $=this;return(0,v.Z)(function*(){$.performanceClient?.addQueueMeasurement(q.Ak.RegionDiscoveryDetectRegion,$.correlationId);let ie=k;if(ie)x.region_source=I.W.ENVIRONMENT_VARIABLE;else{const ue=F.IMDS_OPTIONS;try{const ye=yield(0,se.i)($.getRegionFromIMDS.bind($),q.Ak.RegionDiscoveryGetRegionFromIMDS,$.logger,$.performanceClient,$.correlationId)(I.gT.IMDS_VERSION,ue);if(ye.status===I.YY.httpSuccess&&(ie=ye.body,x.region_source=I.W.IMDS),ye.status===I.YY.httpBadRequest){const Re=yield(0,se.i)($.getCurrentVersion.bind($),q.Ak.RegionDiscoveryGetCurrentVersion,$.logger,$.performanceClient,$.correlationId)(ue);if(!Re)return x.region_source=I.W.FAILED_AUTO_DETECTION,null;const Y=yield(0,se.i)($.getRegionFromIMDS.bind($),q.Ak.RegionDiscoveryGetRegionFromIMDS,$.logger,$.performanceClient,$.correlationId)(Re,ue);Y.status===I.YY.httpSuccess&&(ie=Y.body,x.region_source=I.W.IMDS)}}catch{return x.region_source=I.W.FAILED_AUTO_DETECTION,null}}return ie||(x.region_source=I.W.FAILED_AUTO_DETECTION),ie||null})()}getRegionFromIMDS(k,x){var $=this;return(0,v.Z)(function*(){return $.performanceClient?.addQueueMeasurement(q.Ak.RegionDiscoveryGetRegionFromIMDS,$.correlationId),$.networkInterface.sendGetRequestAsync(`${I.gT.IMDS_ENDPOINT}?api-version=${k}&format=text`,x,I.gT.IMDS_TIMEOUT)})()}getCurrentVersion(k){var x=this;return(0,v.Z)(function*(){x.performanceClient?.addQueueMeasurement(q.Ak.RegionDiscoveryGetCurrentVersion,x.correlationId);try{const $=yield x.networkInterface.sendGetRequestAsync(`${I.gT.IMDS_ENDPOINT}?format=json`,k);return $.status===I.YY.httpBadRequest&&$.body&&$.body["newest-versions"]&&$.body["newest-versions"].length>0?$.body["newest-versions"][0]:null}catch{return null}})()}}return F.IMDS_OPTIONS={headers:{Metadata:"true"}},F})();var b=w(4191),j=w(322),J=w(1288);class L{constructor(m,k,x,$,ie,ue,ye){this.canonicalAuthority=m,this._canonicalAuthority.validateAsUri(),this.networkInterface=k,this.cacheManager=x,this.authorityOptions=$,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=ie,this.performanceClient=ue,this.correlationId=ye,this.regionDiscovery=new D(k,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(m){if(m.HostNameAndPort.endsWith(I.gT.CIAM_AUTH_URL))return f.a.Ciam;const k=m.PathSegments;if(k.length)switch(k[0].toLowerCase()){case I.gT.ADFS:return f.a.Adfs;case I.gT.DSTS:return f.a.Dsts}return f.a.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(m){this._canonicalAuthority=new O.G(m),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw(0,E.zP)(j.HO)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw(0,E.zP)(j.HO)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw(0,E.zP)(j.HO)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw(0,E.zP)(j.ig);return this.replacePath(this.metadata.end_session_endpoint)}throw(0,E.zP)(j.HO)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw(0,E.zP)(j.HO)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw(0,E.zP)(j.HO)}canReplaceTenant(m){return 1===m.PathSegments.length&&!L.reservedTenantDomains.has(m.PathSegments[0])&&this.getAuthorityType(m)===f.a.Default&&this.protocolMode===S.A.AAD}replaceTenant(m){return m.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(m){let k=m;const $=new O.G(this.metadata.canonical_authority).getUrlComponents(),ie=$.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((ye,Re)=>{let Y=ie[Re];if(0===Re&&this.canReplaceTenant($)){const nt=new O.G(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];Y!==nt&&(this.logger.verbose(`Replacing tenant domain name ${Y} with id ${nt}`),Y=nt)}ye!==Y&&(k=k.replace(`/${Y}/`,`/${ye}/`))}),this.replaceTenant(k)}get defaultOpenIdConfigurationEndpoint(){const m=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===f.a.Adfs||this.protocolMode!==S.A.AAD&&!this.isAliasOfKnownMicrosoftAuthority(m)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}resolveEndpointsAsync(){var m=this;return(0,v.Z)(function*(){m.performanceClient?.addQueueMeasurement(q.Ak.AuthorityResolveEndpointsAsync,m.correlationId);const k=m.getCurrentMetadataEntity(),x=yield(0,se.i)(m.updateCloudDiscoveryMetadata.bind(m),q.Ak.AuthorityUpdateCloudDiscoveryMetadata,m.logger,m.performanceClient,m.correlationId)(k);m.canonicalAuthority=m.canonicalAuthority.replace(m.hostnameAndPort,k.preferred_network);const $=yield(0,se.i)(m.updateEndpointMetadata.bind(m),q.Ak.AuthorityUpdateEndpointMetadata,m.logger,m.performanceClient,m.correlationId)(k);m.updateCachedMetadata(k,x,{source:$})})()}getCurrentMetadataEntity(){let m=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return m||(m=new V.l,m.updateCanonicalAuthority(this.canonicalAuthority)),m}updateCachedMetadata(m,k,x){k!==I.pQ.CACHE&&x?.source!==I.pQ.CACHE&&(m.resetExpiresAt(),m.updateCanonicalAuthority(this.canonicalAuthority));const $=this.cacheManager.generateAuthorityMetadataCacheKey(m.preferred_cache);this.cacheManager.setAuthorityMetadata($,m),this.metadata=m}updateEndpointMetadata(m){var k=this;return(0,v.Z)(function*(){k.performanceClient?.addQueueMeasurement(q.Ak.AuthorityUpdateEndpointMetadata,k.correlationId);const x=k.updateEndpointMetadataFromLocalSources(m);if(x){if(x.source===I.pQ.HARDCODED_VALUES&&k.authorityOptions.azureRegionConfiguration?.azureRegion&&x.metadata){const ie=yield(0,se.i)(k.updateMetadataWithRegionalInformation.bind(k),q.Ak.AuthorityUpdateMetadataWithRegionalInformation,k.logger,k.performanceClient,k.correlationId)(x.metadata);m.updateEndpointMetadata(ie,!1)}return x.source}let $=yield(0,se.i)(k.getEndpointMetadataFromNetwork.bind(k),q.Ak.AuthorityGetEndpointMetadataFromNetwork,k.logger,k.performanceClient,k.correlationId)();if($)return k.authorityOptions.azureRegionConfiguration?.azureRegion&&($=yield(0,se.i)(k.updateMetadataWithRegionalInformation.bind(k),q.Ak.AuthorityUpdateMetadataWithRegionalInformation,k.logger,k.performanceClient,k.correlationId)($)),m.updateEndpointMetadata($,!0),I.pQ.NETWORK;throw(0,E.zP)(j.Ce,k.defaultOpenIdConfigurationEndpoint)})()}updateEndpointMetadataFromLocalSources(m){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const k=this.getEndpointMetadataFromConfig();if(k)return this.logger.verbose("Found endpoint metadata in authority configuration"),m.updateEndpointMetadata(k,!1),{source:I.pQ.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const $=this.getEndpointMetadataFromHardcodedValues();if($)return m.updateEndpointMetadata($,!1),{source:I.pQ.HARDCODED_VALUES,metadata:$};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const x=m.isExpired();return this.isAuthoritySameType(m)&&m.endpointsFromNetwork&&!x?(this.logger.verbose("Found endpoint metadata in the cache."),{source:I.pQ.CACHE}):(x&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(m){return new O.G(m.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw(0,H.ei)(J.zx)}return null}getEndpointMetadataFromNetwork(){var m=this;return(0,v.Z)(function*(){m.performanceClient?.addQueueMeasurement(q.Ak.AuthorityGetEndpointMetadataFromNetwork,m.correlationId);const k={},x=m.defaultOpenIdConfigurationEndpoint;m.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${x}`);try{const $=yield m.networkInterface.sendGetRequestAsync(x,k);return function R(F){return F.hasOwnProperty("authorization_endpoint")&&F.hasOwnProperty("token_endpoint")&&F.hasOwnProperty("issuer")&&F.hasOwnProperty("jwks_uri")}($.body)?$.body:(m.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch($){return m.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${$}`),null}})()}getEndpointMetadataFromHardcodedValues(){return this.canonicalAuthority in C.Qh?C.Qh[this.canonicalAuthority]:null}updateMetadataWithRegionalInformation(m){var k=this;return(0,v.Z)(function*(){k.performanceClient?.addQueueMeasurement(q.Ak.AuthorityUpdateMetadataWithRegionalInformation,k.correlationId);const x=k.authorityOptions.azureRegionConfiguration?.azureRegion;if(x){if(x!==I.gT.AZURE_REGION_AUTO_DISCOVER_FLAG)return k.regionDiscoveryMetadata.region_outcome=I.ki.CONFIGURED_NO_AUTO_DETECTION,k.regionDiscoveryMetadata.region_used=x,L.replaceWithRegionalInformation(m,x);const $=yield(0,se.i)(k.regionDiscovery.detectRegion.bind(k.regionDiscovery),q.Ak.RegionDiscoveryDetectRegion,k.logger,k.performanceClient,k.correlationId)(k.authorityOptions.azureRegionConfiguration?.environmentRegion,k.regionDiscoveryMetadata);if($)return k.regionDiscoveryMetadata.region_outcome=I.ki.AUTO_DETECTION_REQUESTED_SUCCESSFUL,k.regionDiscoveryMetadata.region_used=$,L.replaceWithRegionalInformation(m,$);k.regionDiscoveryMetadata.region_outcome=I.ki.AUTO_DETECTION_REQUESTED_FAILED}return m})()}updateCloudDiscoveryMetadata(m){var k=this;return(0,v.Z)(function*(){k.performanceClient?.addQueueMeasurement(q.Ak.AuthorityUpdateCloudDiscoveryMetadata,k.correlationId);const x=k.updateCloudDiscoveryMetadataFromLocalSources(m);if(x)return x;const $=yield(0,se.i)(k.getCloudDiscoveryMetadataFromNetwork.bind(k),q.Ak.AuthorityGetCloudDiscoveryMetadataFromNetwork,k.logger,k.performanceClient,k.correlationId)();if($)return m.updateCloudDiscoveryMetadata($,!0),I.pQ.NETWORK;throw(0,H.ei)(J.o_)})()}updateCloudDiscoveryMetadataFromLocalSources(m){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||I.gT.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||I.gT.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${m.canonical_authority||I.gT.NOT_APPLICABLE}`);const k=this.getCloudDiscoveryMetadataFromConfig();if(k)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),m.updateCloudDiscoveryMetadata(k,!1),I.pQ.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const $=(0,C.ix)(this.hostnameAndPort);if($)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),m.updateCloudDiscoveryMetadata($,!1),I.pQ.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const x=m.isExpired();return this.isAuthoritySameType(m)&&m.aliasesFromNetwork&&!x?(this.logger.verbose("Found cloud discovery metadata in the cache."),I.pQ.CACHE):(x&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===f.a.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),L.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const m=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),k=(0,C.eM)(m.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),k)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),k;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),(0,H.ei)(J.E)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),L.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}getCloudDiscoveryMetadataFromNetwork(){var m=this;return(0,v.Z)(function*(){m.performanceClient?.addQueueMeasurement(q.Ak.AuthorityGetCloudDiscoveryMetadataFromNetwork,m.correlationId);const k=`${I.gT.AAD_INSTANCE_DISCOVERY_ENDPT}${m.canonicalAuthority}oauth2/v2.0/authorize`,x={};let $=null;try{const ie=yield m.networkInterface.sendGetRequestAsync(k,x);let ue,ye;if(function K(F){return F.hasOwnProperty("tenant_discovery_endpoint")&&F.hasOwnProperty("metadata")}(ie.body))ue=ie.body,ye=ue.metadata,m.logger.verbosePii(`tenant_discovery_endpoint is: ${ue.tenant_discovery_endpoint}`);else{if(!function ce(F){return F.hasOwnProperty("error")&&F.hasOwnProperty("error_description")}(ie.body))return m.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(m.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${ie.status}`),ue=ie.body,ue.error===I.gT.INVALID_INSTANCE)return m.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;m.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${ue.error}`),m.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${ue.error_description}`),m.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),ye=[]}m.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),$=(0,C.eM)(ye,m.hostnameAndPort)}catch(ie){return m.logger.error(ie instanceof b.l4?`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${ie.errorCode}\nError Description: ${ie.errorMessage}`:`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${ie.name}\nError Description: ${ie.message}`),null}return $||(m.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),m.logger.verbose("Creating custom Authority for custom domain scenario."),$=L.createCloudDiscoveryMetadataFromHost(m.hostnameAndPort)),$})()}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(k=>k&&O.G.getDomainFromUrl(k).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(m,k){let x;return k&&k.azureCloudInstance!==N.z.None&&(x=`${k.azureCloudInstance}/${k.tenant?k.tenant:I.gT.DEFAULT_COMMON_TENANT}/`),x||m}static createCloudDiscoveryMetadataFromHost(m){return{preferred_network:m,preferred_cache:m,aliases:[m]}}getPreferredCache(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw(0,E.zP)(j.HO)}isAlias(m){return this.metadata.aliases.indexOf(m)>-1}isAliasOfKnownMicrosoftAuthority(m){return C.wn.has(m)}static isPublicCloudAuthority(m){return I.gT.KNOWN_PUBLIC_CLOUDS.indexOf(m)>=0}static buildRegionalAuthorityString(m,k,x){const $=new O.G(m);$.validateAsUri();const ie=$.getUrlComponents();let ue=`${k}.${ie.HostNameAndPort}`;this.isPublicCloudAuthority(ie.HostNameAndPort)&&(ue=`${k}.${I.gT.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const ye=O.G.constructAuthorityUriFromObject({...$.getUrlComponents(),HostNameAndPort:ue}).urlString;return x?`${ye}?${x}`:ye}static replaceWithRegionalInformation(m,k){const x={...m};return x.authorization_endpoint=L.buildRegionalAuthorityString(x.authorization_endpoint,k),x.token_endpoint=L.buildRegionalAuthorityString(x.token_endpoint,k),x.end_session_endpoint&&(x.end_session_endpoint=L.buildRegionalAuthorityString(x.end_session_endpoint,k)),x}static transformCIAMAuthority(m){let k=m;const $=new O.G(m).getUrlComponents();return 0===$.PathSegments.length&&$.HostNameAndPort.endsWith(I.gT.CIAM_AUTH_URL)&&(k=`${k}${$.HostNameAndPort.split(".")[0]}${I.gT.AAD_TENANT_DOMAIN_SUFFIX}`),k}}function ne(F){const x=new O.G(F).getUrlComponents().PathSegments.slice(-1)[0].toLowerCase();switch(x){case I.Nb.COMMON:case I.Nb.ORGANIZATIONS:case I.Nb.CONSUMERS:return;default:return x}}function le(F){return F.endsWith(I.gT.FORWARD_SLASH)?F:`${F}${I.gT.FORWARD_SLASH}`}function pe(F){const m=F.cloudDiscoveryMetadata;let k;if(m)try{k=JSON.parse(m)}catch{throw(0,H.ei)(J.E)}return{canonicalAuthority:F.authority?le(F.authority):void 0,knownAuthorities:F.knownAuthorities,cloudDiscoveryMetadata:k}}L.reservedTenantDomains=new Set(["{tenant}","{tenantid}",I.Nb.COMMON,I.Nb.CONSUMERS,I.Nb.ORGANIZATIONS])},7247:(Ee,Q,w)=>{w.d(Q,{Qh:()=>O,_u:()=>C,eM:()=>V,ix:()=>S,wn:()=>I});var v=w(3886),f=w(9128);const O={"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},E={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},I=new Set;function C(N,K){let ce;const q=N.canonicalAuthority;if(q){const se=new v.G(q).getUrlComponents().HostNameAndPort;ce=H(se,N.cloudDiscoveryMetadata?.metadata,f.pQ.CONFIG,K)||H(se,E.metadata,f.pQ.HARDCODED_VALUES,K)||N.knownAuthorities}return ce||[]}function H(N,K,ce,q){if(q?.trace(`getAliasesFromMetadata called with source: ${ce}`),N&&K){const se=V(K,N);if(se)return q?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${ce}, returning aliases`),se.aliases;q?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${ce}`)}return null}function S(N){return V(E.metadata,N)}function V(N,K){for(let ce=0;ce<N.length;ce++){const q=N[ce];if(q.aliases.includes(K))return q}return null}E.metadata.forEach(N=>{N.aliases.forEach(K=>{I.add(K)})})},6145:(Ee,Q,w)=>{w.d(Q,{z:()=>v});const v={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"}},842:(Ee,Q,w)=>{w.d(Q,{a:()=>v});const v={Default:0,Adfs:1,Dsts:2,Ciam:3}},1763:(Ee,Q,w)=>{w.d(Q,{A:()=>v});const v={AAD:"AAD",OIDC:"OIDC"}},5764:(Ee,Q,w)=>{w.d(Q,{L:()=>ce,w:()=>q});var v=w(5861),f=w(9128),R=w(1783),O=w(4226),E=w(7712),I=w(464),C=w(2888),H=w(2103),S=w(8144),V=w(3071),N=w(7247),K=w(322);class ce{constructor(D,b,j,J){this.clientId=D,this.cryptoImpl=b,this.commonLogger=j.clone(S.u,S.i),this.staticAuthorityOptions=J}getAllAccounts(D){return this.buildTenantProfiles(this.getAccountsFilteredBy(D||{}),D)}getAccountInfoFilteredBy(D){const b=this.getAllAccounts(D);return b.length>1?b.sort(J=>J.idTokenClaims?-1:1)[0]:1===b.length?b[0]:null}getBaseAccountInfo(D){const b=this.getAccountsFilteredBy(D);return b.length>0?b[0].getAccountInfo():null}buildTenantProfiles(D,b){return D.flatMap(j=>this.getAccountInfoForTenantProfiles(j,b))}getAccountInfoForTenantProfiles(D,b){return this.getTenantProfilesFromAccountEntity(D,b?.tenantId,b)}getTenantedAccountInfoByFilter(D,b,j,J){let ne,L=null;if(J&&!this.tenantProfileMatchesFilter(j,J))return null;const le=this.getIdToken(D,b,j.tenantId);return le&&(ne=(0,H.Z_)(le.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(ne,J))?null:(L=(0,C.$f)(D,j,ne),L)}getTenantProfilesFromAccountEntity(D,b,j){const J=D.getAccountInfo();let L=J.tenantProfiles||new Map;const ne=this.getTokenKeys();if(b){const pe=L.get(b);if(!pe)return[];L=new Map([[b,pe]])}const le=[];return L.forEach(pe=>{const F=this.getTenantedAccountInfoByFilter(J,ne,pe,j);F&&le.push(F)}),le}tenantProfileMatchesFilter(D,b){return!(b.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(D,b.localAccountId)||b.name&&D.name!==b.name||void 0!==b.isHomeTenant&&D.isHomeTenant!==b.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(D,b){return!(b&&(b.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(D,b.localAccountId)||b.loginHint&&!this.matchLoginHintFromTokenClaims(D,b.loginHint)||b.username&&!this.matchUsername(D.preferred_username,b.username)||b.name&&!this.matchName(D,b.name)||b.sid&&!this.matchSid(D,b.sid)))}saveCacheRecord(D,b){var j=this;return(0,v.Z)(function*(){if(!D)throw(0,I.zP)(K.mj);D.account&&j.setAccount(D.account),D.idToken&&!1!==b?.idToken&&j.setIdTokenCredential(D.idToken),D.accessToken&&!1!==b?.accessToken&&(yield j.saveAccessToken(D.accessToken)),D.refreshToken&&!1!==b?.refreshToken&&j.setRefreshTokenCredential(D.refreshToken),D.appMetadata&&j.setAppMetadata(D.appMetadata)})()}saveAccessToken(D){var b=this;return(0,v.Z)(function*(){const j={clientId:D.clientId,credentialType:D.credentialType,environment:D.environment,homeAccountId:D.homeAccountId,realm:D.realm,tokenType:D.tokenType,requestedClaimsHash:D.requestedClaimsHash},J=b.getTokenKeys(),L=O.i.fromString(D.target),ne=[];J.accessToken.forEach(le=>{if(!b.accessTokenKeyMatchesFilter(le,j,!1))return;const pe=b.getAccessTokenCredential(le);pe&&b.credentialMatchesFilter(pe,j)&&O.i.fromString(pe.target).intersectingScopeSets(L)&&ne.push(b.removeAccessToken(le))}),yield Promise.all(ne),b.setAccessTokenCredential(D)})()}getAccountsFilteredBy(D){const b=this.getAccountKeys(),j=[];return b.forEach(J=>{if(!this.isAccountKey(J,D.homeAccountId))return;const L=this.getAccount(J,this.commonLogger);if(!L||D.homeAccountId&&!this.matchHomeAccountId(L,D.homeAccountId)||D.username&&!this.matchUsername(L.username,D.username)||D.environment&&!this.matchEnvironment(L,D.environment)||D.realm&&!this.matchRealm(L,D.realm)||D.nativeAccountId&&!this.matchNativeAccountId(L,D.nativeAccountId)||D.authorityType&&!this.matchAuthorityType(L,D.authorityType))return;const ne={localAccountId:D?.localAccountId,name:D?.name},le=L.tenantProfiles?.filter(pe=>this.tenantProfileMatchesFilter(pe,ne));le&&0===le.length||j.push(L)}),j}isAccountKey(D,b,j){return!(D.split(f.Bv.CACHE_KEY_SEPARATOR).length<3||b&&!D.toLowerCase().includes(b.toLowerCase())||j&&!D.toLowerCase().includes(j.toLowerCase()))}isCredentialKey(D){if(D.split(f.Bv.CACHE_KEY_SEPARATOR).length<6)return!1;const b=D.toLowerCase();if(-1===b.indexOf(f.d3.ID_TOKEN.toLowerCase())&&-1===b.indexOf(f.d3.ACCESS_TOKEN.toLowerCase())&&-1===b.indexOf(f.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===b.indexOf(f.d3.REFRESH_TOKEN.toLowerCase()))return!1;if(b.indexOf(f.d3.REFRESH_TOKEN.toLowerCase())>-1){const J=`${f.d3.REFRESH_TOKEN}${f.Bv.CACHE_KEY_SEPARATOR}${f.ch}${f.Bv.CACHE_KEY_SEPARATOR}`;if(-1===b.indexOf(`${f.d3.REFRESH_TOKEN}${f.Bv.CACHE_KEY_SEPARATOR}${this.clientId}${f.Bv.CACHE_KEY_SEPARATOR}`.toLowerCase())&&-1===b.indexOf(J.toLowerCase()))return!1}else if(-1===b.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(D,b){return!(b.clientId&&!this.matchClientId(D,b.clientId)||b.userAssertionHash&&!this.matchUserAssertionHash(D,b.userAssertionHash)||"string"==typeof b.homeAccountId&&!this.matchHomeAccountId(D,b.homeAccountId)||b.environment&&!this.matchEnvironment(D,b.environment)||b.realm&&!this.matchRealm(D,b.realm)||b.credentialType&&!this.matchCredentialType(D,b.credentialType)||b.familyId&&!this.matchFamilyId(D,b.familyId)||b.target&&!this.matchTarget(D,b.target)||(b.requestedClaimsHash||D.requestedClaimsHash)&&D.requestedClaimsHash!==b.requestedClaimsHash||D.credentialType===f.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(b.tokenType&&!this.matchTokenType(D,b.tokenType)||b.tokenType===f.hO.SSH&&b.keyId&&!this.matchKeyId(D,b.keyId)))}getAppMetadataFilteredBy(D){return this.getAppMetadataFilteredByInternal(D.environment,D.clientId)}getAppMetadataFilteredByInternal(D,b){const j=this.getKeys(),J={};return j.forEach(L=>{if(!this.isAppMetadata(L))return;const ne=this.getAppMetadata(L);ne&&(D&&!this.matchEnvironment(ne,D)||b&&!this.matchClientId(ne,b)||(J[L]=ne))}),J}getAuthorityMetadataByAlias(D){const b=this.getAuthorityMetadataKeys();let j=null;return b.forEach(J=>{if(!this.isAuthorityMetadata(J)||-1===J.indexOf(this.clientId))return;const L=this.getAuthorityMetadata(J);L&&-1!==L.aliases.indexOf(D)&&(j=L)}),j}removeAllAccounts(){var D=this;return(0,v.Z)(function*(){const b=D.getAccountKeys(),j=[];b.forEach(J=>{j.push(D.removeAccount(J))}),yield Promise.all(j)})()}removeAccount(D){var b=this;return(0,v.Z)(function*(){const j=b.getAccount(D,b.commonLogger);j&&(yield b.removeAccountContext(j),b.removeItem(D))})()}removeAccountContext(D){var b=this;return(0,v.Z)(function*(){const j=b.getTokenKeys(),J=D.generateAccountId(),L=[];j.idToken.forEach(ne=>{0===ne.indexOf(J)&&b.removeIdToken(ne)}),j.accessToken.forEach(ne=>{0===ne.indexOf(J)&&L.push(b.removeAccessToken(ne))}),j.refreshToken.forEach(ne=>{0===ne.indexOf(J)&&b.removeRefreshToken(ne)}),yield Promise.all(L)})()}updateOutdatedCachedAccount(D,b,j){if(b&&b.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const J=this.getAccountKeys().filter(F=>F.startsWith(b.homeAccountId)),L=[];J.forEach(F=>{const m=this.getCachedAccountEntity(F);m&&L.push(m)});const ne=L.find(F=>(0,C.Hc)(F.realm,F.homeAccountId))||L[0];ne.tenantProfiles=L.map(F=>({tenantId:F.realm,localAccountId:F.localAccountId,name:F.name,isHomeTenant:(0,C.Hc)(F.realm,F.homeAccountId)}));const le=ce.toObject(new E.r,{...ne}),pe=le.generateAccountKey();return J.forEach(F=>{F!==pe&&this.removeOutdatedAccount(D)}),this.setAccount(le),j?.verbose("Updated an outdated account entity in the cache"),le}return b}removeAccessToken(D){var b=this;return(0,v.Z)(function*(){const j=b.getAccessTokenCredential(D);if(j){if(j.credentialType.toLowerCase()===f.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&j.tokenType===f.hO.POP){const L=j.keyId;if(L)try{yield b.cryptoImpl.removeTokenBindingKey(L)}catch{throw(0,I.zP)(K.ol)}}return b.removeItem(D)}})()}removeAppMetadata(){return this.getKeys().forEach(b=>{this.isAppMetadata(b)&&this.removeItem(b)}),!0}readCacheRecord(D,b,j,J,L){const ne=D.tenantId||(0,V.Mh)(b.authority),le=this.getTokenKeys();return{account:this.readAccountFromCache(D),idToken:this.getIdToken(D,le,ne,J,L),accessToken:this.getAccessToken(D,b,le,ne,J,L),refreshToken:this.getRefreshToken(D,!1,le,J,L),appMetadata:this.readAppMetadataFromCache(j)}}readAccountFromCache(D){const b=E.r.generateAccountCacheKey(D);return this.getAccount(b,this.commonLogger)}getIdToken(D,b,j,J,L){this.commonLogger.trace("CacheManager - getIdToken called");const le=this.getIdTokensByFilter({homeAccountId:D.homeAccountId,environment:D.environment,credentialType:f.d3.ID_TOKEN,clientId:this.clientId,realm:j},b),pe=le.size;if(pe<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(pe>1){let F=le;if(!j){const m=new Map;le.forEach((x,$)=>{x.realm===D.tenantId&&m.set($,x)});const k=m.size;if(k<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),le.values().next().value;if(1===k)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),m.values().next().value;F=m}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),F.forEach((m,k)=>{this.removeIdToken(k)}),J&&L&&J.addFields({multiMatchedID:le.size},L),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),le.values().next().value}getIdTokensByFilter(D,b){const j=b&&b.idToken||this.getTokenKeys().idToken,J=new Map;return j.forEach(L=>{if(!this.idTokenKeyMatchesFilter(L,{clientId:this.clientId,...D}))return;const ne=this.getIdTokenCredential(L);ne&&this.credentialMatchesFilter(ne,D)&&J.set(L,ne)}),J}idTokenKeyMatchesFilter(D,b){const j=D.toLowerCase();return!(b.clientId&&-1===j.indexOf(b.clientId.toLowerCase())||b.homeAccountId&&-1===j.indexOf(b.homeAccountId.toLowerCase()))}removeIdToken(D){this.removeItem(D)}removeRefreshToken(D){this.removeItem(D)}getAccessToken(D,b,j,J,L,ne){this.commonLogger.trace("CacheManager - getAccessToken called");const le=O.i.createSearchScopes(b.scopes),pe=b.authenticationScheme||f.hO.BEARER,F=pe&&pe.toLowerCase()!==f.hO.BEARER.toLowerCase()?f.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:f.d3.ACCESS_TOKEN,m={homeAccountId:D.homeAccountId,environment:D.environment,credentialType:F,clientId:this.clientId,realm:J||D.tenantId,target:le,tokenType:pe,keyId:b.sshKid,requestedClaimsHash:b.requestedClaimsHash},k=j&&j.accessToken||this.getTokenKeys().accessToken,x=[];k.forEach(ie=>{if(this.accessTokenKeyMatchesFilter(ie,m,!0)){const ue=this.getAccessTokenCredential(ie);ue&&this.credentialMatchesFilter(ue,m)&&x.push(ue)}});const $=x.length;return $<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):$>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),x.forEach(ie=>{this.removeAccessToken((0,R.Mk)(ie))}),L&&ne&&L.addFields({multiMatchedAT:x.length},ne),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),x[0])}accessTokenKeyMatchesFilter(D,b,j){const J=D.toLowerCase();if(b.clientId&&-1===J.indexOf(b.clientId.toLowerCase())||b.homeAccountId&&-1===J.indexOf(b.homeAccountId.toLowerCase())||b.realm&&-1===J.indexOf(b.realm.toLowerCase())||b.requestedClaimsHash&&-1===J.indexOf(b.requestedClaimsHash.toLowerCase()))return!1;if(b.target){const L=b.target.asArray();for(let ne=0;ne<L.length;ne++){if(j&&!J.includes(L[ne].toLowerCase()))return!1;if(!j&&J.includes(L[ne].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(D){const b=this.getTokenKeys(),j=[];return b.accessToken.forEach(J=>{if(!this.accessTokenKeyMatchesFilter(J,D,!0))return;const L=this.getAccessTokenCredential(J);L&&this.credentialMatchesFilter(L,D)&&j.push(L)}),j}getRefreshToken(D,b,j,J,L){this.commonLogger.trace("CacheManager - getRefreshToken called");const le={homeAccountId:D.homeAccountId,environment:D.environment,credentialType:f.d3.REFRESH_TOKEN,clientId:this.clientId,familyId:b?f.ch:void 0},pe=j&&j.refreshToken||this.getTokenKeys().refreshToken,F=[];pe.forEach(k=>{if(this.refreshTokenKeyMatchesFilter(k,le)){const x=this.getRefreshTokenCredential(k);x&&this.credentialMatchesFilter(x,le)&&F.push(x)}});const m=F.length;return m<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(m>1&&J&&L&&J.addFields({multiMatchedRT:m},L),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),F[0])}refreshTokenKeyMatchesFilter(D,b){const j=D.toLowerCase();return!(b.familyId&&-1===j.indexOf(b.familyId.toLowerCase())||!b.familyId&&b.clientId&&-1===j.indexOf(b.clientId.toLowerCase())||b.homeAccountId&&-1===j.indexOf(b.homeAccountId.toLowerCase()))}readAppMetadataFromCache(D){const j=this.getAppMetadataFilteredBy({environment:D,clientId:this.clientId}),J=Object.keys(j).map(ne=>j[ne]),L=J.length;if(L<1)return null;if(L>1)throw(0,I.zP)(K.EC);return J[0]}isAppMetadataFOCI(D){const b=this.readAppMetadataFromCache(D);return!(!b||b.familyId!==f.ch)}matchHomeAccountId(D,b){return"string"==typeof D.homeAccountId&&b===D.homeAccountId}matchLocalAccountIdFromTokenClaims(D,b){return b===(D.oid||D.sub)}matchLocalAccountIdFromTenantProfile(D,b){return D.localAccountId===b}matchName(D,b){return b.toLowerCase()===D.name?.toLowerCase()}matchUsername(D,b){return!(!D||"string"!=typeof D||b?.toLowerCase()!==D.toLowerCase())}matchUserAssertionHash(D,b){return!(!D.userAssertionHash||b!==D.userAssertionHash)}matchEnvironment(D,b){if(this.staticAuthorityOptions){const J=(0,N._u)(this.staticAuthorityOptions,this.commonLogger);if(J.includes(b)&&J.includes(D.environment))return!0}const j=this.getAuthorityMetadataByAlias(b);return!!(j&&j.aliases.indexOf(D.environment)>-1)}matchCredentialType(D,b){return D.credentialType&&b.toLowerCase()===D.credentialType.toLowerCase()}matchClientId(D,b){return!(!D.clientId||b!==D.clientId)}matchFamilyId(D,b){return!(!D.familyId||b!==D.familyId)}matchRealm(D,b){return D.realm?.toLowerCase()===b.toLowerCase()}matchNativeAccountId(D,b){return!(!D.nativeAccountId||b!==D.nativeAccountId)}matchLoginHintFromTokenClaims(D,b){return D.login_hint===b||D.preferred_username===b||D.upn===b}matchSid(D,b){return D.sid===b}matchAuthorityType(D,b){return!(!D.authorityType||b.toLowerCase()!==D.authorityType.toLowerCase())}matchTarget(D,b){return!(D.credentialType!==f.d3.ACCESS_TOKEN&&D.credentialType!==f.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME||!D.target)&&O.i.fromString(D.target).containsScopeSet(b)}matchTokenType(D,b){return!(!D.tokenType||D.tokenType!==b)}matchKeyId(D,b){return!(!D.keyId||D.keyId!==b)}isAppMetadata(D){return-1!==D.indexOf(f.dg)}isAuthorityMetadata(D){return-1!==D.indexOf(f.QU.CACHE_KEY)}generateAuthorityMetadataCacheKey(D){return`${f.QU.CACHE_KEY}-${this.clientId}-${D}`}static toObject(D,b){for(const j in b)D[j]=b[j];return D}}class q extends ce{setAccount(){throw(0,I.zP)(K.M2)}getAccount(){throw(0,I.zP)(K.M2)}getCachedAccountEntity(){throw(0,I.zP)(K.M2)}setIdTokenCredential(){throw(0,I.zP)(K.M2)}getIdTokenCredential(){throw(0,I.zP)(K.M2)}setAccessTokenCredential(){throw(0,I.zP)(K.M2)}getAccessTokenCredential(){throw(0,I.zP)(K.M2)}setRefreshTokenCredential(){throw(0,I.zP)(K.M2)}getRefreshTokenCredential(){throw(0,I.zP)(K.M2)}setAppMetadata(){throw(0,I.zP)(K.M2)}getAppMetadata(){throw(0,I.zP)(K.M2)}setServerTelemetry(){throw(0,I.zP)(K.M2)}getServerTelemetry(){throw(0,I.zP)(K.M2)}setAuthorityMetadata(){throw(0,I.zP)(K.M2)}getAuthorityMetadata(){throw(0,I.zP)(K.M2)}getAuthorityMetadataKeys(){throw(0,I.zP)(K.M2)}setThrottlingCache(){throw(0,I.zP)(K.M2)}getThrottlingCache(){throw(0,I.zP)(K.M2)}removeItem(){throw(0,I.zP)(K.M2)}containsKey(){throw(0,I.zP)(K.M2)}getKeys(){throw(0,I.zP)(K.M2)}getAccountKeys(){throw(0,I.zP)(K.M2)}getTokenKeys(){throw(0,I.zP)(K.M2)}clear(){return(0,v.Z)(function*(){throw(0,I.zP)(K.M2)})()}updateCredentialCacheKey(){throw(0,I.zP)(K.M2)}removeOutdatedAccount(){throw(0,I.zP)(K.M2)}}},7712:(Ee,Q,w)=>{w.d(Q,{r:()=>S});var v=w(9128),f=w(9947),R=w(2888),O=w(464),E=w(842),I=w(4918),C=w(1763),H=w(322);class S{generateAccountId(){return[this.homeAccountId,this.environment].join(v.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return S.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(N=>[N.tenantId,N]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(N){const K=N.homeAccountId.split(".")[1];return[N.homeAccountId,N.environment||"",K||N.tenantId||""].join(v.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(N,K,ce){const q=new S;let se;q.authorityType=K.authorityType===E.a.Adfs?v.iR.ADFS_ACCOUNT_TYPE:K.protocolMode===C.A.AAD?v.iR.MSSTS_ACCOUNT_TYPE:v.iR.GENERIC_ACCOUNT_TYPE,N.clientInfo&&ce&&(se=(0,f.B)(N.clientInfo,ce)),q.clientInfo=N.clientInfo,q.homeAccountId=N.homeAccountId,q.nativeAccountId=N.nativeAccountId;const D=N.environment||K&&K.getPreferredCache();if(!D)throw(0,O.zP)(H.Q9);if(q.environment=D,q.realm=se?.utid||(0,I.M)(N.idTokenClaims)||"",q.localAccountId=se?.uid||N.idTokenClaims.oid||N.idTokenClaims.sub||"",q.username=N.idTokenClaims.preferred_username||N.idTokenClaims.upn||(N.idTokenClaims.emails?N.idTokenClaims.emails[0]:null)||"",q.name=N.idTokenClaims.name,q.cloudGraphHostName=N.cloudGraphHostName,q.msGraphHost=N.msGraphHost,N.tenantProfiles)q.tenantProfiles=N.tenantProfiles;else{const J=[];if(N.idTokenClaims){const L=(0,R.SI)(N.homeAccountId,N.idTokenClaims);J.push(L)}q.tenantProfiles=J}return q}static createFromAccountInfo(N,K,ce){const q=new S;return q.authorityType=N.authorityType||v.iR.GENERIC_ACCOUNT_TYPE,q.homeAccountId=N.homeAccountId,q.localAccountId=N.localAccountId,q.nativeAccountId=N.nativeAccountId,q.realm=N.tenantId,q.environment=N.environment,q.username=N.username,q.name=N.name,q.cloudGraphHostName=K,q.msGraphHost=ce,q.tenantProfiles=Array.from(N.tenantProfiles?.values()||[]),q}static generateHomeAccountId(N,K,ce,q,se){if(K!==E.a.Adfs&&K!==E.a.Dsts){if(N)try{const D=(0,f.B)(N,q.base64Decode);if(D.uid&&D.utid)return`${D.uid}.${D.utid}`}catch{}ce.warning("No client info in response")}return se?.sub||""}static isAccountEntity(N){return!!N&&N.hasOwnProperty("homeAccountId")&&N.hasOwnProperty("environment")&&N.hasOwnProperty("realm")&&N.hasOwnProperty("localAccountId")&&N.hasOwnProperty("username")&&N.hasOwnProperty("authorityType")}static accountInfoIsEqual(N,K,ce){if(!N||!K)return!1;let q=!0;if(ce){const se=N.idTokenClaims||{},D=K.idTokenClaims||{};q=se.iat===D.iat&&se.nonce===D.nonce}return N.homeAccountId===K.homeAccountId&&N.localAccountId===K.localAccountId&&N.username===K.username&&N.tenantId===K.tenantId&&N.environment===K.environment&&N.nativeAccountId===K.nativeAccountId&&q}}},9084:(Ee,Q,w)=>{w.d(Q,{l:()=>R});var v=w(9128),f=w(1530);class R{constructor(){this.expiresAt=f.I.nowSeconds()+v.QU.REFRESH_TIME_SECONDS}updateCloudDiscoveryMetadata(E,I){this.aliases=E.aliases,this.preferred_cache=E.preferred_cache,this.preferred_network=E.preferred_network,this.aliasesFromNetwork=I}updateEndpointMetadata(E,I){this.authorization_endpoint=E.authorization_endpoint,this.token_endpoint=E.token_endpoint,this.end_session_endpoint=E.end_session_endpoint,this.issuer=E.issuer,this.endpointsFromNetwork=I,this.jwks_uri=E.jwks_uri}updateCanonicalAuthority(E){this.canonical_authority=E}resetExpiresAt(){this.expiresAt=f.I.nowSeconds()+v.QU.REFRESH_TIME_SECONDS}isExpired(){return this.expiresAt<=f.I.nowSeconds()}static isAuthorityMetadataEntity(E,I){return!!I&&0===E.indexOf(v.QU.CACHE_KEY)&&I.hasOwnProperty("aliases")&&I.hasOwnProperty("preferred_cache")&&I.hasOwnProperty("preferred_network")&&I.hasOwnProperty("canonical_authority")&&I.hasOwnProperty("authorization_endpoint")&&I.hasOwnProperty("token_endpoint")&&I.hasOwnProperty("issuer")&&I.hasOwnProperty("aliasesFromNetwork")&&I.hasOwnProperty("endpointsFromNetwork")&&I.hasOwnProperty("expiresAt")&&I.hasOwnProperty("jwks_uri")}}},1783:(Ee,Q,w)=>{w.d(Q,{Bq:()=>K,Ds:()=>H,Js:()=>J,Md:()=>C,Mk:()=>I,OJ:()=>S,Om:()=>N,x4:()=>ce});var v=w(2103),f=w(464),R=w(9128),O=w(1530),E=w(322);function I(L){return[q(L),se(L),D(L),b(L),j(L)].join(R.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function C(L,ne,le,pe,F){return{credentialType:R.d3.ID_TOKEN,homeAccountId:L,environment:ne,clientId:pe,secret:le,realm:F}}function H(L,ne,le,pe,F,m,k,x,$,ie,ue,ye,Re,Y,nt){const rt={homeAccountId:L,credentialType:R.d3.ACCESS_TOKEN,secret:le,cachedAt:O.I.nowSeconds().toString(),expiresOn:k.toString(),extendedExpiresOn:x.toString(),environment:ne,clientId:pe,realm:F,target:m,tokenType:ue||R.hO.BEARER};if(ye&&(rt.userAssertionHash=ye),ie&&(rt.refreshOn=ie.toString()),Y&&(rt.requestedClaims=Y,rt.requestedClaimsHash=nt),rt.tokenType?.toLowerCase()!==R.hO.BEARER.toLowerCase())switch(rt.credentialType=R.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME,rt.tokenType){case R.hO.POP:const He=(0,v.Z_)(le,$);if(!He?.cnf?.kid)throw(0,f.zP)(E.P_);rt.keyId=He.cnf.kid;break;case R.hO.SSH:rt.keyId=Re}return rt}function S(L,ne,le,pe,F,m){const k={credentialType:R.d3.REFRESH_TOKEN,homeAccountId:L,environment:ne,clientId:pe,secret:le};return m&&(k.userAssertionHash=m),F&&(k.familyId=F),k}function V(L){return L.hasOwnProperty("homeAccountId")&&L.hasOwnProperty("environment")&&L.hasOwnProperty("credentialType")&&L.hasOwnProperty("clientId")&&L.hasOwnProperty("secret")}function N(L){return!!L&&V(L)&&L.hasOwnProperty("realm")&&L.hasOwnProperty("target")&&(L.credentialType===R.d3.ACCESS_TOKEN||L.credentialType===R.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME)}function K(L){return!!L&&V(L)&&L.hasOwnProperty("realm")&&L.credentialType===R.d3.ID_TOKEN}function ce(L){return!!L&&V(L)&&L.credentialType===R.d3.REFRESH_TOKEN}function q(L){return[L.homeAccountId,L.environment].join(R.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function se(L){return[L.credentialType,L.credentialType===R.d3.REFRESH_TOKEN&&L.familyId||L.clientId,L.realm||""].join(R.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function D(L){return(L.target||"").toLowerCase()}function b(L){return(L.requestedClaimsHash||"").toLowerCase()}function j(L){return L.tokenType&&L.tokenType.toLowerCase()!==R.hO.BEARER.toLowerCase()?L.tokenType.toLowerCase():""}function J(L,ne){const le=0===L.indexOf(R.HN.CACHE_KEY);let pe=!0;return ne&&(pe=ne.hasOwnProperty("failedRequests")&&ne.hasOwnProperty("errors")&&ne.hasOwnProperty("cacheHits")),le&&pe}},1878:(Ee,Q,w)=>{w.d(Q,{j6:()=>L,lh:()=>le,z:()=>K});var v=w(5861),f=w(368),R=w(2526),O=w(9128),E=w(8144),I=w(6145),C=w(5764),H=w(1763),S=w(464),V=w(322);const K={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},ce={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:R.i.Info,correlationId:O.gT.EMPTY_STRING},q={claimsBasedCachingEnabled:!1},se={sendGetRequestAsync:()=>(0,v.Z)(function*(){throw(0,S.zP)(V.M2)})(),sendPostRequestAsync:()=>(0,v.Z)(function*(){throw(0,S.zP)(V.M2)})()},D={sku:O.gT.SKU,version:E.i,cpu:O.gT.EMPTY_STRING,os:O.gT.EMPTY_STRING},b={clientSecret:O.gT.EMPTY_STRING,clientAssertion:void 0},j={azureCloudInstance:I.z.None,tenant:`${O.gT.DEFAULT_COMMON_TENANT}`},J={application:{appName:"",appVersion:""}};function L({authOptions:pe,systemOptions:F,loggerOptions:m,cacheOptions:k,storageInterface:x,networkInterface:$,cryptoInterface:ie,clientCredentials:ue,libraryInfo:ye,telemetry:Re,serverTelemetryManager:Y,persistencePlugin:nt,serializableCache:rt}){const He={...ce,...m};return{authOptions:ne(pe),systemOptions:{...K,...F},loggerOptions:He,cacheOptions:{...q,...k},storageInterface:x||new C.w(pe.clientId,f.d,new R.Y(He)),networkInterface:$||se,cryptoInterface:ie||f.d,clientCredentials:ue||b,libraryInfo:{...D,...ye},telemetry:{...J,...Re},serverTelemetryManager:Y||null,persistencePlugin:nt||null,serializableCache:rt||null}}function ne(pe){return{clientCapabilities:[],azureCloudOptions:j,skipAuthorityMetadataCache:!1,...pe}}function le(pe){return pe.authOptions.authority.options.protocolMode===H.A.OIDC}},9883:(Ee,Q,w)=>{w.d(Q,{C2:()=>L,Cx:()=>v,DN:()=>He,DW:()=>ne,GQ:()=>Y,He:()=>f,IC:()=>C,Im:()=>se,KR:()=>Pt,Lm:()=>O,O4:()=>_n,PU:()=>Vr,PY:()=>wt,Pe:()=>k,RJ:()=>lt,RO:()=>Xn,Rl:()=>x,US:()=>Bn,Zb:()=>xi,bJ:()=>m,bP:()=>$,by:()=>D,cO:()=>J,ct:()=>I,ed:()=>q,fC:()=>F,hR:()=>ie,hf:()=>qe,ib:()=>nt,j5:()=>ue,ki:()=>Re,ko:()=>E,nZ:()=>pe,q0:()=>rt,s4:()=>le,sI:()=>Te,x5:()=>Hn,yO:()=>R,z6:()=>K,zl:()=>Pe,zm:()=>ye});const v="client_id",f="redirect_uri",R="response_type",O="response_mode",E="grant_type",I="claims",C="scope",K="refresh_token",q="state",se="nonce",D="prompt",J="code",L="code_challenge",ne="code_challenge_method",le="code_verifier",pe="client-request-id",F="x-client-SKU",m="x-client-VER",k="x-client-OS",x="x-client-CPU",$="x-client-current-telemetry",ie="x-client-last-telemetry",ue="x-ms-lib-capability",ye="x-app-name",Re="x-app-ver",Y="post_logout_redirect_uri",nt="id_token_hint",rt="device_code",He="client_secret",Te="client_assertion",lt="client_assertion_type",Pt="token_type",wt="req_cnf",qe="assertion",Pe="requested_token_use",xi="return_spa_code",_n="nativebroker",Vr="logout_hint",Hn="sid",Bn="login_hint",Xn="domain_hint"},368:(Ee,Q,w)=>{w.d(Q,{d:()=>O});var v=w(5861),f=w(464),R=w(322);const O={createNewGuid:()=>{throw(0,f.zP)(R.M2)},base64Decode:()=>{throw(0,f.zP)(R.M2)},base64Encode:()=>{throw(0,f.zP)(R.M2)},getPublicKeyThumbprint:()=>(0,v.Z)(function*(){throw(0,f.zP)(R.M2)})(),removeTokenBindingKey:()=>(0,v.Z)(function*(){throw(0,f.zP)(R.M2)})(),clearKeystore:()=>(0,v.Z)(function*(){throw(0,f.zP)(R.M2)})(),signJwt:()=>(0,v.Z)(function*(){throw(0,f.zP)(R.M2)})(),hashString:()=>(0,v.Z)(function*(){throw(0,f.zP)(R.M2)})()}},4191:(Ee,Q,w)=>{w.d(Q,{MD:()=>I,l4:()=>E});var v=w(9128),f=w(6345);const R={[f.g]:"Unexpected error in authentication.",[f.D]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class E extends Error{constructor(H,S,V){super(S?`${H}: ${S}`:H),Object.setPrototypeOf(this,E.prototype),this.errorCode=H||v.gT.EMPTY_STRING,this.errorMessage=S||v.gT.EMPTY_STRING,this.subError=V||v.gT.EMPTY_STRING,this.name="AuthError"}setCorrelationId(H){this.correlationId=H}}function I(C,H){return new E(C,H?`${R[C]} ${H}`:R[C])}},6345:(Ee,Q,w)=>{w.d(Q,{D:()=>f,g:()=>v});const v="unexpected_error",f="post_request_failed"},464:(Ee,Q,w)=>{w.d(Q,{er:()=>E,zP:()=>I});var v=w(4191),f=w(322);const R={[f.ZE]:"The client info could not be parsed/decoded correctly",[f.S7]:"The client info was empty",[f.GH]:"Token cannot be parsed",[f.PM]:"The token is null or empty",[f.HO]:"Endpoints cannot be resolved",[f.EF]:"Network request failed",[f.Ce]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[f.b4]:"The hash parameters could not be deserialized",[f.r8]:"State was not the expected format",[f.Tu]:"State mismatch error",[f.LV]:"State not found",[f.vR]:"Nonce mismatch error",[f.w7]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[f.Ao]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[f.MU]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[f.RH]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[f.EC]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[f.FU]:"Token request cannot be made without authorization code or refresh token.",[f.v1]:"Cannot remove null or empty scope from ScopeSet",[f.f4]:"Cannot append ScopeSet",[f.S]:"Empty input ScopeSet cannot be processed",[f.Jk]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[f.tS]:"Device code is expired.",[f.ZT]:"Device code stopped polling for unknown reasons.",[f.D7]:"Please pass an account object, silent flow is not supported without account information",[f.mj]:"Cache record object was null or undefined.",[f.Q9]:"Invalid environment when attempting to create cache entry",[f.cX]:"No account found in cache for given key.",[f.QL]:"No crypto object detected.",[f.cy]:"Unexpected credential type.",[f.aE]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[f.SX]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[f.s$]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[f.nQ]:"User defined timeout for device code polling reached",[f.P_]:"Cannot generate a POP jwt if the token_claims are not populated",[f.Zv]:"Server response does not contain an authorization code to proceed",[f.ol]:"Could not remove the credential's binding key from storage.",[f.ig]:"The provided authority does not support logout",[f.Of]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[f.Mq]:"No network connectivity. Check your internet connection.",[f.$R]:"User cancelled the flow.",[f.k7]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[f.M2]:"This method has not been implemented",[f.Ls]:"The nested app auth bridge is disabled"};class E extends v.l4{constructor(H,S){super(H,S?`${R[H]}: ${S}`:R[H]),this.name="ClientAuthError",Object.setPrototypeOf(this,E.prototype)}}function I(C,H){return new E(C,H)}},322:(Ee,Q,w)=>{w.d(Q,{$R:()=>qe,Ao:()=>q,Ce:()=>C,D7:()=>m,EC:()=>b,EF:()=>I,FU:()=>j,GH:()=>R,HO:()=>E,Jk:()=>le,LV:()=>N,Ls:()=>we,M2:()=>yn,MU:()=>se,Mq:()=>wt,Of:()=>Pt,PM:()=>O,P_:()=>rt,Q9:()=>x,QL:()=>ie,RH:()=>D,S:()=>ne,S7:()=>f,SX:()=>Re,Tu:()=>V,ZE:()=>v,ZT:()=>F,Zv:()=>He,aE:()=>ye,b4:()=>H,cX:()=>$,cy:()=>ue,f4:()=>L,ig:()=>lt,k7:()=>Pe,mj:()=>k,nQ:()=>nt,ol:()=>Te,r8:()=>S,s$:()=>Y,tS:()=>pe,v1:()=>J,vR:()=>K,w7:()=>ce});const v="client_info_decoding_error",f="client_info_empty_error",R="token_parsing_error",O="null_or_empty_token",E="endpoints_resolution_error",I="network_error",C="openid_config_error",H="hash_not_deserialized",S="invalid_state",V="state_mismatch",N="state_not_found",K="nonce_mismatch",ce="auth_time_not_found",q="max_age_transpired",se="multiple_matching_tokens",D="multiple_matching_accounts",b="multiple_matching_appMetadata",j="request_cannot_be_made",J="cannot_remove_empty_scope",L="cannot_append_scopeset",ne="empty_input_scopeset",le="device_code_polling_cancelled",pe="device_code_expired",F="device_code_unknown_error",m="no_account_in_silent_request",k="invalid_cache_record",x="invalid_cache_environment",$="no_account_found",ie="no_crypto_object",ue="unexpected_credential_type",ye="invalid_assertion",Re="invalid_client_credential",Y="token_refresh_required",nt="user_timeout_reached",rt="token_claims_cnf_required_for_signedjwt",He="authorization_code_missing_from_server_response",Te="binding_key_not_removed",lt="end_session_endpoint_not_supported",Pt="key_id_missing",wt="no_network_connectivity",qe="user_canceled",Pe="missing_tenant_id_error",yn="method_not_implemented",we="nested_app_auth_bridge_disabled"},8061:(Ee,Q,w)=>{w.d(Q,{ei:()=>I});var v=w(4191),f=w(1288);const R={[f.RV]:"A redirect URI is required for all calls, and none has been set.",[f.LB]:"Could not parse the given claims request object.",[f.Oz]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[f.yH]:"URL could not be parsed into appropriate segments.",[f.To]:"URL was empty or null.",[f.vE]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[f.z_]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[f.nm]:"Given claims parameter must be a stringified JSON object.",[f.dL]:"Token request was empty and not found in cache.",[f.$h]:"The logout request was null or undefined.",[f.d6]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[f.TU]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[f.E]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[f.zx]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[f.o_]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[f.dK]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[f.hI]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[f.U9]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[f.i1]:"Invalid authentication header provided",[f.qz]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[f.Ol]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[f.Hv]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class E extends v.l4{constructor(H){super(H,R[H]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,E.prototype)}}function I(C){return new E(C)}},1288:(Ee,Q,w)=>{w.d(Q,{$h:()=>V,E:()=>ce,Hv:()=>le,LB:()=>f,Ol:()=>ne,Oz:()=>R,RV:()=>v,TU:()=>K,To:()=>E,U9:()=>j,d6:()=>N,dK:()=>D,dL:()=>S,hI:()=>b,i1:()=>J,nm:()=>H,o_:()=>se,qz:()=>L,vE:()=>I,yH:()=>O,z_:()=>C,zx:()=>q});const v="redirect_uri_empty",f="claims_request_parsing_error",R="authority_uri_insecure",O="url_parse_error",E="empty_url_error",I="empty_input_scopes_error",C="invalid_prompt_value",H="invalid_claims",S="token_request_empty",V="logout_request_empty",N="invalid_code_challenge_method",K="pkce_params_missing",ce="invalid_cloud_discovery_metadata",q="invalid_authority_metadata",se="untrusted_authority",D="missing_ssh_jwk",b="missing_ssh_kid",j="missing_nonce_authentication_header",J="invalid_authentication_header",L="cannot_set_OIDCOptions",ne="cannot_allow_native_broker",le="authority_mismatch"},1635:(Ee,Q,w)=>{w.d(Q,{Cf:()=>S,Yo:()=>H,ip:()=>V});var v=w(9128),f=w(4191),R=w(1071);const O=[R.tZ,R.Mo,R.kk],E=["message_only","additional_action","basic_action","user_password_expired","consent_required"],I={[R.I2]:"No refresh token found in the cache. Please sign-in.",[R.QP]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API."};class H extends f.l4{constructor(K,ce,q,se,D,b,j){super(K,ce,q),Object.setPrototypeOf(this,H.prototype),this.timestamp=se||v.gT.EMPTY_STRING,this.traceId=D||v.gT.EMPTY_STRING,this.correlationId=b||v.gT.EMPTY_STRING,this.claims=j||v.gT.EMPTY_STRING,this.name="InteractionRequiredAuthError"}}function S(N,K,ce){const q=!!N&&O.indexOf(N)>-1,se=!!ce&&E.indexOf(ce)>-1,D=!!K&&O.some(b=>K.indexOf(b)>-1);return q||D||se}function V(N){return new H(N,I[N])}},1071:(Ee,Q,w)=>{w.d(Q,{I2:()=>v,Mo:()=>O,QP:()=>f,kk:()=>E,tZ:()=>R});const v="no_tokens_found",f="native_account_unavailable",R="interaction_required",O="consent_required",E="login_required"},1641:(Ee,Q,w)=>{w.d(Q,{n:()=>f});var v=w(4191);class f extends v.l4{constructor(O,E,I){super(O,E,I),this.name="ServerError",Object.setPrototypeOf(this,f.prototype)}}},2526:(Ee,Q,w)=>{w.d(Q,{Y:()=>R,i:()=>f});var v=w(9128),f=(()=>{return(O=f||(f={}))[O.Error=0]="Error",O[O.Warning=1]="Warning",O[O.Info=2]="Info",O[O.Verbose=3]="Verbose",O[O.Trace=4]="Trace",f;var O})();class R{constructor(E,I,C){this.level=f.Info;const S=E||R.createDefaultLoggerOptions();this.localCallback=S.loggerCallback||(()=>{}),this.piiLoggingEnabled=S.piiLoggingEnabled||!1,this.level="number"==typeof S.logLevel?S.logLevel:f.Info,this.correlationId=S.correlationId||v.gT.EMPTY_STRING,this.packageName=I||v.gT.EMPTY_STRING,this.packageVersion=C||v.gT.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:f.Info}}clone(E,I,C){return new R({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:C||this.correlationId},E,I)}logMessage(E,I){if(I.logLevel>this.level||!this.piiLoggingEnabled&&I.containsPii)return;const S=`[${(new Date).toUTCString()}] : [${I.correlationId||this.correlationId||""}] : ${this.packageName}@${this.packageVersion} : ${f[I.logLevel]} - ${E}`;this.executeCallback(I.logLevel,S,I.containsPii||!1)}executeCallback(E,I,C){this.localCallback&&this.localCallback(E,I,C)}error(E,I){this.logMessage(E,{logLevel:f.Error,containsPii:!1,correlationId:I||v.gT.EMPTY_STRING})}errorPii(E,I){this.logMessage(E,{logLevel:f.Error,containsPii:!0,correlationId:I||v.gT.EMPTY_STRING})}warning(E,I){this.logMessage(E,{logLevel:f.Warning,containsPii:!1,correlationId:I||v.gT.EMPTY_STRING})}warningPii(E,I){this.logMessage(E,{logLevel:f.Warning,containsPii:!0,correlationId:I||v.gT.EMPTY_STRING})}info(E,I){this.logMessage(E,{logLevel:f.Info,containsPii:!1,correlationId:I||v.gT.EMPTY_STRING})}infoPii(E,I){this.logMessage(E,{logLevel:f.Info,containsPii:!0,correlationId:I||v.gT.EMPTY_STRING})}verbose(E,I){this.logMessage(E,{logLevel:f.Verbose,containsPii:!1,correlationId:I||v.gT.EMPTY_STRING})}verbosePii(E,I){this.logMessage(E,{logLevel:f.Verbose,containsPii:!0,correlationId:I||v.gT.EMPTY_STRING})}trace(E,I){this.logMessage(E,{logLevel:f.Trace,containsPii:!1,correlationId:I||v.gT.EMPTY_STRING})}tracePii(E,I){this.logMessage(E,{logLevel:f.Trace,containsPii:!0,correlationId:I||v.gT.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}},8144:(Ee,Q,w)=>{w.d(Q,{i:()=>f,u:()=>v});const v="@azure/msal-common",f="14.5.0"},1267:(Ee,Q,w)=>{w.d(Q,{H:()=>C});var v=w(9128),f=w(9883),R=w(4226),O=w(8061),E=w(6680),I=w(1288);class C{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(f.yO,encodeURIComponent(v.gT.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(f.yO,encodeURIComponent(`${v.gT.TOKEN_RESPONSE_TYPE} ${v.gT.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(S){this.parameters.set(f.Lm,encodeURIComponent(S||v.vw.QUERY))}addNativeBroker(){this.parameters.set(f.O4,encodeURIComponent("1"))}addScopes(S,V=!0,N=v.f_){V&&!N.includes("openid")&&!S.includes("openid")&&N.push("openid");const K=V?[...S||[],...N]:S||[],ce=new R.i(K);this.parameters.set(f.IC,encodeURIComponent(ce.printScopes()))}addClientId(S){this.parameters.set(f.Cx,encodeURIComponent(S))}addRedirectUri(S){E.D.validateRedirectUri(S),this.parameters.set(f.He,encodeURIComponent(S))}addPostLogoutRedirectUri(S){E.D.validateRedirectUri(S),this.parameters.set(f.GQ,encodeURIComponent(S))}addIdTokenHint(S){this.parameters.set(f.ib,encodeURIComponent(S))}addDomainHint(S){this.parameters.set(f.RO,encodeURIComponent(S))}addLoginHint(S){this.parameters.set(f.US,encodeURIComponent(S))}addCcsUpn(S){this.parameters.set(v.SZ.CCS_HEADER,encodeURIComponent(`UPN:${S}`))}addCcsOid(S){this.parameters.set(v.SZ.CCS_HEADER,encodeURIComponent(`Oid:${S.uid}@${S.utid}`))}addSid(S){this.parameters.set(f.x5,encodeURIComponent(S))}addClaims(S,V){const N=this.addClientCapabilitiesToClaims(S,V);E.D.validateClaims(N),this.parameters.set(f.ct,encodeURIComponent(N))}addCorrelationId(S){this.parameters.set(f.nZ,encodeURIComponent(S))}addLibraryInfo(S){this.parameters.set(f.fC,S.sku),this.parameters.set(f.bJ,S.version),S.os&&this.parameters.set(f.Pe,S.os),S.cpu&&this.parameters.set(f.Rl,S.cpu)}addApplicationTelemetry(S){S?.appName&&this.parameters.set(f.zm,S.appName),S?.appVersion&&this.parameters.set(f.ki,S.appVersion)}addPrompt(S){E.D.validatePrompt(S),this.parameters.set(`${f.by}`,encodeURIComponent(S))}addState(S){S&&this.parameters.set(f.ed,encodeURIComponent(S))}addNonce(S){this.parameters.set(f.Im,encodeURIComponent(S))}addCodeChallengeParams(S,V){if(E.D.validateCodeChallengeParams(S,V),!S||!V)throw(0,O.ei)(I.TU);this.parameters.set(f.C2,encodeURIComponent(S)),this.parameters.set(f.DW,encodeURIComponent(V))}addAuthorizationCode(S){this.parameters.set(f.cO,encodeURIComponent(S))}addDeviceCode(S){this.parameters.set(f.q0,encodeURIComponent(S))}addRefreshToken(S){this.parameters.set(f.z6,encodeURIComponent(S))}addCodeVerifier(S){this.parameters.set(f.s4,encodeURIComponent(S))}addClientSecret(S){this.parameters.set(f.DN,encodeURIComponent(S))}addClientAssertion(S){S&&this.parameters.set(f.sI,encodeURIComponent(S))}addClientAssertionType(S){S&&this.parameters.set(f.RJ,encodeURIComponent(S))}addOboAssertion(S){this.parameters.set(f.hf,encodeURIComponent(S))}addRequestTokenUse(S){this.parameters.set(f.zl,encodeURIComponent(S))}addGrantType(S){this.parameters.set(f.ko,encodeURIComponent(S))}addClientInfo(){this.parameters.set(v.sR,"1")}addExtraQueryParameters(S){const V=E.D.sanitizeEQParams(S,this.parameters);Object.keys(V).forEach(N=>{this.parameters.set(N,S[N])})}addClientCapabilitiesToClaims(S,V){let N;if(S)try{N=JSON.parse(S)}catch{throw(0,O.ei)(I.nm)}else N={};return V&&V.length>0&&(N.hasOwnProperty(v.As.ACCESS_TOKEN)||(N[v.As.ACCESS_TOKEN]={}),N[v.As.ACCESS_TOKEN][v.As.XMS_CC]={values:V}),JSON.stringify(N)}addUsername(S){this.parameters.set(v.Ge.username,encodeURIComponent(S))}addPassword(S){this.parameters.set(v.Ge.password,encodeURIComponent(S))}addPopToken(S){S&&(this.parameters.set(f.KR,v.hO.POP),this.parameters.set(f.PY,encodeURIComponent(S)))}addSshJwk(S){S&&(this.parameters.set(f.KR,v.hO.SSH),this.parameters.set(f.PY,encodeURIComponent(S)))}addServerTelemetry(S){this.parameters.set(f.bP,S.generateCurrentRequestHeaderValue()),this.parameters.set(f.hR,S.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(f.j5,v.bb.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(S){this.parameters.set(f.PU,encodeURIComponent(S))}createQueryString(){const S=new Array;return this.parameters.forEach((V,N)=>{S.push(`${N}=${V}`)}),S.join("&")}}},6680:(Ee,Q,w)=>{w.d(Q,{D:()=>O});var v=w(8061),f=w(9128),R=w(1288);class O{static validateRedirectUri(I){if(!I)throw(0,v.ei)(R.RV)}static validatePrompt(I){const C=[];for(const H in f.NJ)C.push(f.NJ[H]);if(C.indexOf(I)<0)throw(0,v.ei)(R.z_)}static validateClaims(I){try{JSON.parse(I)}catch{throw(0,v.ei)(R.nm)}}static validateCodeChallengeParams(I,C){if(!I||!C)throw(0,v.ei)(R.TU);this.validateCodeChallengeMethod(C)}static validateCodeChallengeMethod(I){if([f.VX.PLAIN,f.VX.S256].indexOf(I)<0)throw(0,v.ei)(R.d6)}static sanitizeEQParams(I,C){return I?(C.forEach((H,S)=>{I[S]&&delete I[S]}),Object.fromEntries(Object.entries(I).filter(H=>""!==H[1]))):{}}}},4226:(Ee,Q,w)=>{w.d(Q,{i:()=>C});var v=w(8061),f=w(2007),R=w(464),O=w(9128),E=w(1288),I=w(322);class C{constructor(S){const V=S?f.x.trimArrayEntries([...S]):[],N=V?f.x.removeEmptyStringsFromArray(V):[];this.validateInputScopes(N),this.scopes=new Set,N.forEach(K=>this.scopes.add(K))}static fromString(S){const N=(S||O.gT.EMPTY_STRING).split(" ");return new C(N)}static createSearchScopes(S){const V=new C(S);return V.containsOnlyOIDCScopes()?V.removeScope(O.gT.OFFLINE_ACCESS_SCOPE):V.removeOIDCScopes(),V}validateInputScopes(S){if(!S||S.length<1)throw(0,v.ei)(E.vE)}containsScope(S){const V=this.printScopesLowerCase().split(" "),N=new C(V);return!!S&&N.scopes.has(S.toLowerCase())}containsScopeSet(S){return!(!S||S.scopes.size<=0)&&this.scopes.size>=S.scopes.size&&S.asArray().every(V=>this.containsScope(V))}containsOnlyOIDCScopes(){let S=0;return O.$f.forEach(V=>{this.containsScope(V)&&(S+=1)}),this.scopes.size===S}appendScope(S){S&&this.scopes.add(S.trim())}appendScopes(S){try{S.forEach(V=>this.appendScope(V))}catch{throw(0,R.zP)(I.f4)}}removeScope(S){if(!S)throw(0,R.zP)(I.v1);this.scopes.delete(S.trim())}removeOIDCScopes(){O.$f.forEach(S=>{this.scopes.delete(S)})}unionScopeSets(S){if(!S)throw(0,R.zP)(I.S);const V=new Set;return S.scopes.forEach(N=>V.add(N.toLowerCase())),this.scopes.forEach(N=>V.add(N.toLowerCase())),V}intersectingScopeSets(S){if(!S)throw(0,R.zP)(I.S);S.containsOnlyOIDCScopes()||S.removeOIDCScopes();const V=this.unionScopeSets(S),N=S.getScopeCount(),K=this.getScopeCount();return V.size<K+N}getScopeCount(){return this.scopes.size}asArray(){const S=[];return this.scopes.forEach(V=>S.push(V)),S}printScopes(){return this.scopes?this.asArray().join(" "):O.gT.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}},905:(Ee,Q,w)=>{w.d(Q,{$L:()=>f,Ak:()=>v});const v={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromiseMeasurement",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},f={NotStarted:0,InProgress:1,Completed:2}},3886:(Ee,Q,w)=>{w.d(Q,{G:()=>I});var v=w(8061),f=w(2007),R=w(9128),O=w(9218),E=w(1288);class I{get urlString(){return this._urlString}constructor(H){if(this._urlString=H,!this._urlString)throw(0,v.ei)(E.To);H.includes("#")||(this._urlString=I.canonicalizeUri(H))}static canonicalizeUri(H){if(H){let S=H.toLowerCase();return f.x.endsWith(S,"?")?S=S.slice(0,-1):f.x.endsWith(S,"?/")&&(S=S.slice(0,-2)),f.x.endsWith(S,"/")||(S+="/"),S}return H}validateAsUri(){let H;try{H=this.getUrlComponents()}catch{throw(0,v.ei)(E.yH)}if(!H.HostNameAndPort||!H.PathSegments)throw(0,v.ei)(E.yH);if(!H.Protocol||"https:"!==H.Protocol.toLowerCase())throw(0,v.ei)(E.Oz)}static appendQueryString(H,S){return S?H.indexOf("?")<0?`${H}?${S}`:`${H}&${S}`:H}static removeHashFromUrl(H){return I.canonicalizeUri(H.split("#")[0])}replaceTenantPath(H){const S=this.getUrlComponents(),V=S.PathSegments;return H&&0!==V.length&&(V[0]===R.Nb.COMMON||V[0]===R.Nb.ORGANIZATIONS)&&(V[0]=H),I.constructAuthorityUriFromObject(S)}getUrlComponents(){const H=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),S=this.urlString.match(H);if(!S)throw(0,v.ei)(E.yH);const V={Protocol:S[1],HostNameAndPort:S[4],AbsolutePath:S[5],QueryString:S[7]};let N=V.AbsolutePath.split("/");return N=N.filter(K=>K&&K.length>0),V.PathSegments=N,V.QueryString&&V.QueryString.endsWith("/")&&(V.QueryString=V.QueryString.substring(0,V.QueryString.length-1)),V}static getDomainFromUrl(H){const S=RegExp("^([^:/?#]+://)?([^/?#]*)"),V=H.match(S);if(!V)throw(0,v.ei)(E.yH);return V[2]}static getAbsoluteUrl(H,S){if(H[0]===R.gT.FORWARD_SLASH){const N=new I(S).getUrlComponents();return N.Protocol+"//"+N.HostNameAndPort+H}return H}static constructAuthorityUriFromObject(H){return new I(H.Protocol+"//"+H.HostNameAndPort+"/"+H.PathSegments.join("/"))}static hashContainsKnownProperties(H){return!!(0,O.F)(H)}}},9128:(Ee,Q,w)=>{w.d(Q,{$f:()=>O,As:()=>H,Bv:()=>se,D1:()=>k,Ge:()=>x,HN:()=>pe,NJ:()=>S,Nb:()=>C,QU:()=>ne,SZ:()=>E,To:()=>ye,VX:()=>V,Vi:()=>I,W:()=>ie,YY:()=>$,bb:()=>m,ch:()=>L,d3:()=>D,dg:()=>j,f_:()=>R,gT:()=>v,hO:()=>F,iR:()=>q,ki:()=>ue,oj:()=>f,pQ:()=>le,qJ:()=>ce,rg:()=>N,sR:()=>J,vw:()=>K,xd:()=>Re});const v={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},f={SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR_RANGE_START:400,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR_RANGE_START:500,SERVER_ERROR_RANGE_END:599},R=[v.OPENID_SCOPE,v.PROFILE_SCOPE,v.OFFLINE_ACCESS_SCOPE],O=[...R,v.EMAIL_SCOPE],E={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},I={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},C={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},H={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},S={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},V={PLAIN:"plain",S256:"S256"},N={QUERY:"query",FRAGMENT:"fragment"},K={...N,FORM_POST:"form_post"},ce={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},q={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},se={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},D={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},j="appmetadata",J="client_info",L="1",ne={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400},le={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},pe={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},F={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},m={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},k={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},x={username:"username",password:"password"},$={httpSuccess:200,httpBadRequest:400},ie={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},ue={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},ye={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},Re={Jwt:"JWT",Jwk:"JWK",Pop:"pop"}},9312:(Ee,Q,w)=>{w.d(Q,{d:()=>v,i:()=>f});const v=(R,O,E,I,C)=>(...H)=>{E.trace(`Executing function ${O}`);const S=I?.startMeasurement(O,C);try{const V=R(...H);return S?.end({success:!0}),E.trace(`Returning result from ${O}`),V}catch(V){E.trace(`Error occurred in ${O}`);try{E.trace(JSON.stringify(V))}catch{E.trace("Unable to print error message.")}throw S?.end({success:!1}),V}},f=(R,O,E,I,C)=>(...H)=>{E.trace(`Executing function ${O}`);const S=I?.startMeasurement(O,C);return I?.setPreQueueTime(O,C),R(...H).then(V=>(E.trace(`Returning result from ${O}`),S?.end({success:!0}),V)).catch(V=>{E.trace(`Error occurred in ${O}`);try{E.trace(JSON.stringify(V))}catch{E.trace("Unable to print error message.")}throw S?.end({success:!1}),V})}},2007:(Ee,Q,w)=>{w.d(Q,{x:()=>v});class v{static isEmptyObj(R){if(R)try{const O=JSON.parse(R);return 0===Object.keys(O).length}catch{}return!0}static startsWith(R,O){return 0===R.indexOf(O)}static endsWith(R,O){return R.length>=O.length&&R.lastIndexOf(O)===R.length-O.length}static queryStringToObject(R){const O={},E=R.split("&"),I=C=>decodeURIComponent(C.replace(/\+/g," "));return E.forEach(C=>{if(C.trim()){const[H,S]=C.split(/=(.+)/g,2);H&&S&&(O[I(H)]=I(S))}}),O}static trimArrayEntries(R){return R.map(O=>O.trim())}static removeEmptyStringsFromArray(R){return R.filter(O=>!!O)}static jsonParseHelper(R){try{return JSON.parse(R)}catch{return null}}static matchPattern(R,O){return new RegExp(R.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(O)}}},1530:(Ee,Q,w)=>{w.d(Q,{I:()=>v});class v{static nowSeconds(){return Math.round((new Date).getTime()/1e3)}static isTokenExpired(R,O){const E=Number(R)||0;return v.nowSeconds()+O>E}static wasClockTurnedBack(R){return Number(R)>v.nowSeconds()}static delay(R,O){return new Promise(E=>setTimeout(()=>E(O),R))}}},9218:(Ee,Q,w)=>{w.d(Q,{F:()=>O,q:()=>R});var v=w(464),f=w(322);function R(E){return E.startsWith("#/")?E.substring(2):E.startsWith("#")||E.startsWith("?")?E.substring(1):E}function O(E){if(!E||E.indexOf("=")<0)return null;try{const I=R(E),C=Object.fromEntries(new URLSearchParams(I));if(C.code||C.error||C.error_description||C.state)return C}catch{throw(0,v.zP)(f.b4)}return null}},5861:(Ee,Q,w)=>{function v(R,O,E,I,C,H,S){try{var V=R[H](S),N=V.value}catch(K){return void E(K)}V.done?O(N):Promise.resolve(N).then(I,C)}function f(R){return function(){var O=this,E=arguments;return new Promise(function(I,C){var H=R.apply(O,E);function S(N){v(H,I,C,S,V,"next",N)}function V(N){v(H,I,C,S,V,"throw",N)}S(void 0)})}}w.d(Q,{Z:()=>f})}},Ee=>{Ee(Ee.s=3193)}]);